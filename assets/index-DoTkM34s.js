(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))d(m);new MutationObserver(m=>{for(const v of m)if(v.type==="childList")for(const w of v.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&d(w)}).observe(document,{childList:!0,subtree:!0});function f(m){const v={};return m.integrity&&(v.integrity=m.integrity),m.referrerPolicy&&(v.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?v.credentials="include":m.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function d(m){if(m.ep)return;m.ep=!0;const v=f(m);fetch(m.href,v)}})();function oh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cd={exports:{}},zr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function Xx(){if(Om)return zr;Om=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function f(d,m,v){var w=null;if(v!==void 0&&(w=""+v),m.key!==void 0&&(w=""+m.key),"key"in m){v={};for(var C in m)C!=="key"&&(v[C]=m[C])}else v=m;return m=v.ref,{$$typeof:r,type:d,key:w,ref:m!==void 0?m:null,props:v}}return zr.Fragment=o,zr.jsx=f,zr.jsxs=f,zr}var Um;function Vx(){return Um||(Um=1,cd.exports=Xx()),cd.exports}var l=Vx(),od={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function Qx(){if(Hm)return Re;Hm=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),w=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.iterator;function E(g){return g===null||typeof g!="object"?null:(g=M&&g[M]||g["@@iterator"],typeof g=="function"?g:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,L={};function H(g,Y,te){this.props=g,this.context=Y,this.refs=L,this.updater=te||A}H.prototype.isReactComponent={},H.prototype.setState=function(g,Y){if(typeof g!="object"&&typeof g!="function"&&g!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,g,Y,"setState")},H.prototype.forceUpdate=function(g){this.updater.enqueueForceUpdate(this,g,"forceUpdate")};function I(){}I.prototype=H.prototype;function se(g,Y,te){this.props=g,this.context=Y,this.refs=L,this.updater=te||A}var Z=se.prototype=new I;Z.constructor=se,Q(Z,H.prototype),Z.isPureReactComponent=!0;var T=Array.isArray;function S(){}var G={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function he(g,Y,te){var ue=te.ref;return{$$typeof:r,type:g,key:Y,ref:ue!==void 0?ue:null,props:te}}function Be(g,Y){return he(g.type,Y,g.props)}function Pe(g){return typeof g=="object"&&g!==null&&g.$$typeof===r}function De(g){var Y={"=":"=0",":":"=2"};return"$"+g.replace(/[=:]/g,function(te){return Y[te]})}var Qe=/\/+/g;function Ye(g,Y){return typeof g=="object"&&g!==null&&g.key!=null?De(""+g.key):Y.toString(36)}function ce(g){switch(g.status){case"fulfilled":return g.value;case"rejected":throw g.reason;default:switch(typeof g.status=="string"?g.then(S,S):(g.status="pending",g.then(function(Y){g.status==="pending"&&(g.status="fulfilled",g.value=Y)},function(Y){g.status==="pending"&&(g.status="rejected",g.reason=Y)})),g.status){case"fulfilled":return g.value;case"rejected":throw g.reason}}throw g}function D(g,Y,te,ue,be){var _e=typeof g;(_e==="undefined"||_e==="boolean")&&(g=null);var Oe=!1;if(g===null)Oe=!0;else switch(_e){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(g.$$typeof){case r:case o:Oe=!0;break;case U:return Oe=g._init,D(Oe(g._payload),Y,te,ue,be)}}if(Oe)return be=be(g),Oe=ue===""?"."+Ye(g,0):ue,T(be)?(te="",Oe!=null&&(te=Oe.replace(Qe,"$&/")+"/"),D(be,Y,te,"",function(Ut){return Ut})):be!=null&&(Pe(be)&&(be=Be(be,te+(be.key==null||g&&g.key===be.key?"":(""+be.key).replace(Qe,"$&/")+"/")+Oe)),Y.push(be)),1;Oe=0;var Ot=ue===""?".":ue+":";if(T(g))for(var He=0;He<g.length;He++)ue=g[He],_e=Ot+Ye(ue,He),Oe+=D(ue,Y,te,_e,be);else if(He=E(g),typeof He=="function")for(g=He.call(g),He=0;!(ue=g.next()).done;)ue=ue.value,_e=Ot+Ye(ue,He++),Oe+=D(ue,Y,te,_e,be);else if(_e==="object"){if(typeof g.then=="function")return D(ce(g),Y,te,ue,be);throw Y=String(g),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function ee(g,Y,te){if(g==null)return g;var ue=[],be=0;return D(g,ue,"","",function(_e){return Y.call(te,_e,be++)}),ue}function me(g){if(g._status===-1){var Y=g._result;Y=Y(),Y.then(function(te){(g._status===0||g._status===-1)&&(g._status=1,g._result=te)},function(te){(g._status===0||g._status===-1)&&(g._status=2,g._result=te)}),g._status===-1&&(g._status=0,g._result=Y)}if(g._status===1)return g._result.default;throw g._result}var Ne=typeof reportError=="function"?reportError:function(g){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof g=="object"&&g!==null&&typeof g.message=="string"?String(g.message):String(g),error:g});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",g);return}console.error(g)},Ce={map:ee,forEach:function(g,Y,te){ee(g,function(){Y.apply(this,arguments)},te)},count:function(g){var Y=0;return ee(g,function(){Y++}),Y},toArray:function(g){return ee(g,function(Y){return Y})||[]},only:function(g){if(!Pe(g))throw Error("React.Children.only expected to receive a single React element child.");return g}};return Re.Activity=R,Re.Children=Ce,Re.Component=H,Re.Fragment=f,Re.Profiler=m,Re.PureComponent=se,Re.StrictMode=d,Re.Suspense=b,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Re.__COMPILER_RUNTIME={__proto__:null,c:function(g){return G.H.useMemoCache(g)}},Re.cache=function(g){return function(){return g.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(g,Y,te){if(g==null)throw Error("The argument must be a React element, but you passed "+g+".");var ue=Q({},g.props),be=g.key;if(Y!=null)for(_e in Y.key!==void 0&&(be=""+Y.key),Y)!B.call(Y,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Y.ref===void 0||(ue[_e]=Y[_e]);var _e=arguments.length-2;if(_e===1)ue.children=te;else if(1<_e){for(var Oe=Array(_e),Ot=0;Ot<_e;Ot++)Oe[Ot]=arguments[Ot+2];ue.children=Oe}return he(g.type,be,ue)},Re.createContext=function(g){return g={$$typeof:w,_currentValue:g,_currentValue2:g,_threadCount:0,Provider:null,Consumer:null},g.Provider=g,g.Consumer={$$typeof:v,_context:g},g},Re.createElement=function(g,Y,te){var ue,be={},_e=null;if(Y!=null)for(ue in Y.key!==void 0&&(_e=""+Y.key),Y)B.call(Y,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=Y[ue]);var Oe=arguments.length-2;if(Oe===1)be.children=te;else if(1<Oe){for(var Ot=Array(Oe),He=0;He<Oe;He++)Ot[He]=arguments[He+2];be.children=Ot}if(g&&g.defaultProps)for(ue in Oe=g.defaultProps,Oe)be[ue]===void 0&&(be[ue]=Oe[ue]);return he(g,_e,be)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(g){return{$$typeof:C,render:g}},Re.isValidElement=Pe,Re.lazy=function(g){return{$$typeof:U,_payload:{_status:-1,_result:g},_init:me}},Re.memo=function(g,Y){return{$$typeof:x,type:g,compare:Y===void 0?null:Y}},Re.startTransition=function(g){var Y=G.T,te={};G.T=te;try{var ue=g(),be=G.S;be!==null&&be(te,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(S,Ne)}catch(_e){Ne(_e)}finally{Y!==null&&te.types!==null&&(Y.types=te.types),G.T=Y}},Re.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Re.use=function(g){return G.H.use(g)},Re.useActionState=function(g,Y,te){return G.H.useActionState(g,Y,te)},Re.useCallback=function(g,Y){return G.H.useCallback(g,Y)},Re.useContext=function(g){return G.H.useContext(g)},Re.useDebugValue=function(){},Re.useDeferredValue=function(g,Y){return G.H.useDeferredValue(g,Y)},Re.useEffect=function(g,Y){return G.H.useEffect(g,Y)},Re.useEffectEvent=function(g){return G.H.useEffectEvent(g)},Re.useId=function(){return G.H.useId()},Re.useImperativeHandle=function(g,Y,te){return G.H.useImperativeHandle(g,Y,te)},Re.useInsertionEffect=function(g,Y){return G.H.useInsertionEffect(g,Y)},Re.useLayoutEffect=function(g,Y){return G.H.useLayoutEffect(g,Y)},Re.useMemo=function(g,Y){return G.H.useMemo(g,Y)},Re.useOptimistic=function(g,Y){return G.H.useOptimistic(g,Y)},Re.useReducer=function(g,Y,te){return G.H.useReducer(g,Y,te)},Re.useRef=function(g){return G.H.useRef(g)},Re.useState=function(g){return G.H.useState(g)},Re.useSyncExternalStore=function(g,Y,te){return G.H.useSyncExternalStore(g,Y,te)},Re.useTransition=function(){return G.H.useTransition()},Re.version="19.2.3",Re}var qm;function Sd(){return qm||(qm=1,od.exports=Qx()),od.exports}var h=Sd();const Md=oh(h);var ud={exports:{}},Dr={},dd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Zx(){return Lm||(Lm=1,(function(r){function o(D,ee){var me=D.length;D.push(ee);e:for(;0<me;){var Ne=me-1>>>1,Ce=D[Ne];if(0<m(Ce,ee))D[Ne]=ee,D[me]=Ce,me=Ne;else break e}}function f(D){return D.length===0?null:D[0]}function d(D){if(D.length===0)return null;var ee=D[0],me=D.pop();if(me!==ee){D[0]=me;e:for(var Ne=0,Ce=D.length,g=Ce>>>1;Ne<g;){var Y=2*(Ne+1)-1,te=D[Y],ue=Y+1,be=D[ue];if(0>m(te,me))ue<Ce&&0>m(be,te)?(D[Ne]=be,D[ue]=me,Ne=ue):(D[Ne]=te,D[Y]=me,Ne=Y);else if(ue<Ce&&0>m(be,me))D[Ne]=be,D[ue]=me,Ne=ue;else break e}}return ee}function m(D,ee){var me=D.sortIndex-ee.sortIndex;return me!==0?me:D.id-ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;r.unstable_now=function(){return v.now()}}else{var w=Date,C=w.now();r.unstable_now=function(){return w.now()-C}}var b=[],x=[],U=1,R=null,M=3,E=!1,A=!1,Q=!1,L=!1,H=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Z(D){for(var ee=f(x);ee!==null;){if(ee.callback===null)d(x);else if(ee.startTime<=D)d(x),ee.sortIndex=ee.expirationTime,o(b,ee);else break;ee=f(x)}}function T(D){if(Q=!1,Z(D),!A)if(f(b)!==null)A=!0,S||(S=!0,De());else{var ee=f(x);ee!==null&&ce(T,ee.startTime-D)}}var S=!1,G=-1,B=5,he=-1;function Be(){return L?!0:!(r.unstable_now()-he<B)}function Pe(){if(L=!1,S){var D=r.unstable_now();he=D;var ee=!0;try{e:{A=!1,Q&&(Q=!1,I(G),G=-1),E=!0;var me=M;try{t:{for(Z(D),R=f(b);R!==null&&!(R.expirationTime>D&&Be());){var Ne=R.callback;if(typeof Ne=="function"){R.callback=null,M=R.priorityLevel;var Ce=Ne(R.expirationTime<=D);if(D=r.unstable_now(),typeof Ce=="function"){R.callback=Ce,Z(D),ee=!0;break t}R===f(b)&&d(b),Z(D)}else d(b);R=f(b)}if(R!==null)ee=!0;else{var g=f(x);g!==null&&ce(T,g.startTime-D),ee=!1}}break e}finally{R=null,M=me,E=!1}ee=void 0}}finally{ee?De():S=!1}}}var De;if(typeof se=="function")De=function(){se(Pe)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Ye=Qe.port2;Qe.port1.onmessage=Pe,De=function(){Ye.postMessage(null)}}else De=function(){H(Pe,0)};function ce(D,ee){G=H(function(){D(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(D){D.callback=null},r.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<D?Math.floor(1e3/D):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(D){switch(M){case 1:case 2:case 3:var ee=3;break;default:ee=M}var me=M;M=ee;try{return D()}finally{M=me}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(D,ee){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var me=M;M=D;try{return ee()}finally{M=me}},r.unstable_scheduleCallback=function(D,ee,me){var Ne=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ne+me:Ne):me=Ne,D){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=me+Ce,D={id:U++,callback:ee,priorityLevel:D,startTime:me,expirationTime:Ce,sortIndex:-1},me>Ne?(D.sortIndex=me,o(x,D),f(b)===null&&D===f(x)&&(Q?(I(G),G=-1):Q=!0,ce(T,me-Ne))):(D.sortIndex=Ce,o(b,D),A||E||(A=!0,S||(S=!0,De()))),D},r.unstable_shouldYield=Be,r.unstable_wrapCallback=function(D){var ee=M;return function(){var me=M;M=ee;try{return D.apply(this,arguments)}finally{M=me}}}})(fd)),fd}var Gm;function Kx(){return Gm||(Gm=1,dd.exports=Zx()),dd.exports}var md={exports:{}},Ea={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function Jx(){if($m)return Ea;$m=1;var r=Sd();function o(b){var x="https://react.dev/errors/"+b;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var U=2;U<arguments.length;U++)x+="&args[]="+encodeURIComponent(arguments[U])}return"Minified React error #"+b+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var d={d:{f,r:function(){throw Error(o(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},m=Symbol.for("react.portal");function v(b,x,U){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:R==null?null:""+R,children:b,containerInfo:x,implementation:U}}var w=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function C(b,x){if(b==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Ea.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,Ea.createPortal=function(b,x){var U=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(o(299));return v(b,x,null,U)},Ea.flushSync=function(b){var x=w.T,U=d.p;try{if(w.T=null,d.p=2,b)return b()}finally{w.T=x,d.p=U,d.d.f()}},Ea.preconnect=function(b,x){typeof b=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,d.d.C(b,x))},Ea.prefetchDNS=function(b){typeof b=="string"&&d.d.D(b)},Ea.preinit=function(b,x){if(typeof b=="string"&&x&&typeof x.as=="string"){var U=x.as,R=C(U,x.crossOrigin),M=typeof x.integrity=="string"?x.integrity:void 0,E=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;U==="style"?d.d.S(b,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:R,integrity:M,fetchPriority:E}):U==="script"&&d.d.X(b,{crossOrigin:R,integrity:M,fetchPriority:E,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Ea.preinitModule=function(b,x){if(typeof b=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var U=C(x.as,x.crossOrigin);d.d.M(b,{crossOrigin:U,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&d.d.M(b)},Ea.preload=function(b,x){if(typeof b=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var U=x.as,R=C(U,x.crossOrigin);d.d.L(b,U,{crossOrigin:R,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Ea.preloadModule=function(b,x){if(typeof b=="string")if(x){var U=C(x.as,x.crossOrigin);d.d.m(b,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:U,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else d.d.m(b)},Ea.requestFormReset=function(b){d.d.r(b)},Ea.unstable_batchedUpdates=function(b,x){return b(x)},Ea.useFormState=function(b,x,U){return w.H.useFormState(b,x,U)},Ea.useFormStatus=function(){return w.H.useHostTransitionStatus()},Ea.version="19.2.3",Ea}var Ym;function Px(){if(Ym)return md.exports;Ym=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),md.exports=Jx(),md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function Fx(){if(Xm)return Dr;Xm=1;var r=Kx(),o=Sd(),f=Px();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function w(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function C(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(v(e)!==e)throw Error(d(188))}function x(e){var t=e.alternate;if(!t){if(t=v(e),t===null)throw Error(d(188));return t!==e?null:e}for(var a=e,s=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return b(n),e;if(i===s)return b(n),t;i=i.sibling}throw Error(d(188))}if(a.return!==s.return)a=n,s=i;else{for(var c=!1,u=n.child;u;){if(u===a){c=!0,a=n,s=i;break}if(u===s){c=!0,s=n,a=i;break}u=u.sibling}if(!c){for(u=i.child;u;){if(u===a){c=!0,a=i,s=n;break}if(u===s){c=!0,s=i,a=n;break}u=u.sibling}if(!c)throw Error(d(189))}}if(a.alternate!==s)throw Error(d(190))}if(a.tag!==3)throw Error(d(188));return a.stateNode.current===a?e:t}function U(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=U(e),t!==null)return t;e=e.sibling}return null}var R=Object.assign,M=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),he=Symbol.for("react.activity"),Be=Symbol.for("react.memo_cache_sentinel"),Pe=Symbol.iterator;function De(e){return e===null||typeof e!="object"?null:(e=Pe&&e[Pe]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Symbol.for("react.client.reference");function Ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case H:return"Profiler";case L:return"StrictMode";case T:return"Suspense";case S:return"SuspenseList";case he:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case se:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:Ye(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return Ye(e(t))}catch{}}return null}var ce=Array.isArray,D=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ne=[],Ce=-1;function g(e){return{current:e}}function Y(e){0>Ce||(e.current=Ne[Ce],Ne[Ce]=null,Ce--)}function te(e,t){Ce++,Ne[Ce]=e.current,e.current=t}var ue=g(null),be=g(null),_e=g(null),Oe=g(null);function Ot(e,t){switch(te(_e,t),te(be,e),te(ue,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?nm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=nm(t),e=im(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(ue),te(ue,e)}function He(){Y(ue),Y(be),Y(_e)}function Ut(e){e.memoizedState!==null&&te(Oe,e);var t=ue.current,a=im(t,e.type);t!==a&&(te(be,e),te(ue,a))}function Wt(e){be.current===e&&(Y(ue),Y(be)),Oe.current===e&&(Y(Oe),Cr._currentValue=me)}var Oa,Ua;function ba(e){if(Oa===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Oa=t&&t[1]||"",Ua=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oa+e+Ua}var Ha=!1;function qa(e,t){if(!e||Ha)return"";Ha=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch($){var O=$}Reflect.construct(e,[],P)}else{try{P.call()}catch($){O=$}e.call(P.prototype)}}else{try{throw Error()}catch($){O=$}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch($){if($&&O&&typeof $.stack=="string")return[$.stack,O.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),c=i[0],u=i[1];if(c&&u){var p=c.split(`
`),z=u.split(`
`);for(n=s=0;s<p.length&&!p[s].includes("DetermineComponentFrameRoot");)s++;for(;n<z.length&&!z[n].includes("DetermineComponentFrameRoot");)n++;if(s===p.length||n===z.length)for(s=p.length-1,n=z.length-1;1<=s&&0<=n&&p[s]!==z[n];)n--;for(;1<=s&&0<=n;s--,n--)if(p[s]!==z[n]){if(s!==1||n!==1)do if(s--,n--,0>n||p[s]!==z[n]){var V=`
`+p[s].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=s&&0<=n);break}}}finally{Ha=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ba(a):""}function tl(e,t){switch(e.tag){case 26:case 27:case 5:return ba(e.type);case 16:return ba("Lazy");case 13:return e.child!==t&&t!==null?ba("Suspense Fallback"):ba("Suspense");case 19:return ba("SuspenseList");case 0:case 15:return qa(e.type,!1);case 11:return qa(e.type.render,!1);case 1:return qa(e.type,!0);case 31:return ba("Activity");default:return""}}function Fe(e){try{var t="",a=null;do t+=tl(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var _a=Object.prototype.hasOwnProperty,Aa=r.unstable_scheduleCallback,We=r.unstable_cancelCallback,Gt=r.unstable_shouldYield,Et=r.unstable_requestPaint,ie=r.unstable_now,ae=r.unstable_getCurrentPriorityLevel,st=r.unstable_ImmediatePriority,Ql=r.unstable_UserBlockingPriority,Zt=r.unstable_NormalPriority,ya=r.unstable_LowPriority,La=r.unstable_IdlePriority,al=r.log,Ga=r.unstable_setDisableYieldValue,ca=null,Ht=null;function It(e){if(typeof al=="function"&&Ga(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ca,e)}catch{}}var F=Math.clz32?Math.clz32:Ge,ke=Math.log,Me=Math.LN2;function Ge(e){return e>>>=0,e===0?32:31-(ke(e)/Me|0)|0}var Ie=256,dt=262144,ze=4194304;function gt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mt(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var u=s&134217727;return u!==0?(s=u&~i,s!==0?n=gt(s):(c&=u,c!==0?n=gt(c):a||(a=u&~e,a!==0&&(n=gt(a))))):(u=s&~i,u!==0?n=gt(u):c!==0?n=gt(c):a||(a=s&~e,a!==0&&(n=gt(a)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:n}function bt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $t(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $a(){var e=ze;return ze<<=1,(ze&62914560)===0&&(ze=4194304),e}function va(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ea(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ai(e,t,a,s,n,i){var c=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var u=e.entanglements,p=e.expirationTimes,z=e.hiddenUpdates;for(a=c&~a;0<a;){var V=31-F(a),P=1<<V;u[V]=0,p[V]=-1;var O=z[V];if(O!==null)for(z[V]=null,V=0;V<O.length;V++){var $=O[V];$!==null&&($.lane&=-536870913)}a&=~P}s!==0&&cs(e,s,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function cs(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-F(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function pn(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-F(a),n=1<<s;n&t|e[s]&t&&(e[s]|=t),a&=~n}}function ll(e,t){var a=t&-t;return a=(a&42)!==0?1:gn(a),(a&(e.suspendedLanes|t))!==0?0:a}function gn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function os(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ds(){var e=ee.p;return e!==0?e:(e=window.event,e===void 0?32:Tm(e.type))}function re(e,t){var a=ee.p;try{return ee.p=e,t()}finally{ee.p=a}}var Ya=Math.random().toString(36).slice(2),_t="__reactFiber$"+Ya,Kt="__reactProps$"+Ya,oa="__reactContainer$"+Ya,ua="__reactEvents$"+Ya,Rs="__reactListeners$"+Ya,bn="__reactHandles$"+Ya,us="__reactResources$"+Ya,zl="__reactMarker$"+Ya;function Zl(e){delete e[_t],delete e[Kt],delete e[ua],delete e[Rs],delete e[bn]}function sl(e){var t=e[_t];if(t)return t;for(var a=e.parentNode;a;){if(t=a[oa]||a[_t]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=mm(e);e!==null;){if(a=e[_t])return a;e=mm(e)}return t}e=a,a=e.parentNode}return null}function hl(e){if(e=e[_t]||e[oa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function xl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function nl(e){var t=e[us];return t||(t=e[us]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function wt(e){e[zl]=!0}var pl=new Set,Bs={};function Xa(e,t){Dl(e,t),Dl(e+"Capture",t)}function Dl(e,t){for(Bs[e]=t,e=0;e<t.length;e++)pl.add(t[e])}var Kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yn={},ds={};function vn(e){return _a.call(ds,e)?!0:_a.call(yn,e)?!1:Kl.test(e)?ds[e]=!0:(yn[e]=!0,!1)}function Jl(e,t,a){if(vn(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function fs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Va(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function ka(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jn(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Nn(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(c){a=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(c){a=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ms(e){if(!e._valueTracker){var t=jn(e)?"checked":"value";e._valueTracker=Nn(e,t,""+e[t])}}function li(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=jn(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wn=/[\n"\\]/g;function da(e){return e.replace(wn,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Sn(e,t,a,s,n,i,c,u){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ka(t)):e.value!==""+ka(t)&&(e.value=""+ka(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?An(e,c,ka(t)):a!=null?An(e,c,ka(a)):s!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+ka(u):e.removeAttribute("name")}function Mn(e,t,a,s,n,i,c,u){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){ms(e);return}a=a!=null?""+ka(a):"",t=t!=null?""+ka(t):a,u||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=u?e.checked:!!s,e.defaultChecked=!!s,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),ms(e)}function An(e,t,a){t==="number"&&hs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Rl(e,t,a,s){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&s&&(e[a].defaultSelected=!0)}else{for(a=""+ka(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Pl(e,t,a){if(t!=null&&(t=""+ka(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ka(a):""}function kn(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(d(92));if(ce(s)){if(1<s.length)throw Error(d(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=ka(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),ms(e)}function Ca(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Fl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bl(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||Fl.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function y(e,t,a){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&a[n]!==s&&Bl(e,n,s)}else for(var i in t)t.hasOwnProperty(i)&&Bl(e,i,t[i])}function j(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),X=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function J(e){return X.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function W(){}var ne=null;function le(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pe=null,de=null;function je(e){var t=hl(e);if(t&&(e=t.stateNode)){var a=e[Kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Sn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+da(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var n=s[Kt]||null;if(!n)throw Error(d(90));Sn(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&li(s)}break e;case"textarea":Pl(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Rl(e,!!a.multiple,t,!1)}}}var Ae=!1;function Ct(e,t,a){if(Ae)return e(t,a);Ae=!0;try{var s=e(t);return s}finally{if(Ae=!1,(pe!==null||de!==null)&&(Hc(),pe&&(t=pe,e=de,de=pe=null,je(t),e)))for(t=0;t<e.length;t++)je(e[t])}}function St(e,t){var a=e.stateNode;if(a===null)return null;var s=a[Kt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(d(231,t,typeof a));return a}var tt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jt=!1;if(tt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Jt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch{Jt=!1}var yt=null,ve=null,qe=null;function Te(){if(qe)return qe;var e,t=ve,a=t.length,s,n="value"in yt?yt.value:yt.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var c=a-e;for(s=1;s<=c&&t[a-s]===n[i-s];s++);return qe=n.slice(e,1<s?1-s:void 0)}function $e(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function at(){return!0}function Mt(){return!1}function ht(e){function t(a,s,n,i,c){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(a=e[u],this[u]=a?a(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?at:Mt,this.isPropagationStopped=Mt,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=at)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=at)},persist:function(){},isPersistent:at}),t}var lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=ht(lt),gl=R({},lt,{view:0,detail:0}),Os=ht(gl),Ul,xs,ta,Qa=R({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ta&&(ta&&e.type==="mousemove"?(Ul=e.screenX-ta.screenX,xs=e.screenY-ta.screenY):xs=Ul=0,ta=e),Ul)},movementY:function(e){return"movementY"in e?e.movementY:xs}}),qr=ht(Qa),Li=R({},Qa,{dataTransfer:0}),jo=ht(Li),Gi=R({},gl,{relatedTarget:0}),bl=ht(Gi),Lr=R({},lt,{animationName:0,elapsedTime:0,pseudoElement:0}),yl=ht(Lr),si=R({},lt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wl=ht(si),ni=R({},lt,{data:0}),Hl=ht(ni),Gr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function No(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yr[e])?!!t[e]:!1}function Cn(){return No}var Xr=R({},gl,{key:function(e){if(e.key){var t=Gr[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$e(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$r[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return e.type==="keypress"?$e(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$e(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vr=ht(Xr),Qr=R({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=ht(Qr),Zr=R({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn}),Us=ht(Zr),Kr=R({},lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),za=ht(Kr),Jr=R({},Qa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ii=ht(Jr),Pr=R({},lt,{newState:0,oldState:0}),Yi=ht(Pr),Fr=[9,13,27,32],Hs=tt&&"CompositionEvent"in window,Za=null;tt&&"documentMode"in document&&(Za=document.documentMode);var Wr=tt&&"TextEvent"in window&&!Za,ql=tt&&(!Hs||Za&&8<Za&&11>=Za),qs=" ",Xi=!1;function Tn(e,t){switch(e){case"keyup":return Fr.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function En(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var it=!1;function fa(e,t){switch(e){case"compositionend":return En(t);case"keypress":return t.which!==32?null:(Xi=!0,qs);case"textInput":return e=t.data,e===qs&&Xi?null:e;default:return null}}function Ta(e,t){if(it)return e==="compositionend"||!Hs&&Tn(e,t)?(e=Te(),qe=ve=yt=null,it=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ql&&t.locale!=="ko"?null:t.data;default:return null}}var Ir={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ir[e.type]:t==="textarea"}function ec(e,t,a,s){pe?de?de.push(s):de=[s]:pe=s,t=Vc(t,"onChange"),0<t.length&&(a=new Ol("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var _n=null,nt=null;function Tt(e){If(e,0)}function Ls(e){var t=xl(e);if(li(t))return e}function zn(e,t){if(e==="change")return t}var Dn=!1;if(tt){var Qi;if(tt){var Zi="oninput"in document;if(!Zi){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),Zi=typeof tc.oninput=="function"}Qi=Zi}else Qi=!1;Dn=Qi&&(!document.documentMode||9<document.documentMode)}function ac(){_n&&(_n.detachEvent("onpropertychange",Rn),nt=_n=null)}function Rn(e){if(e.propertyName==="value"&&Ls(nt)){var t=[];ec(t,nt,e,le(e)),Ct(Tt,t)}}function Ki(e,t,a){e==="focusin"?(ac(),_n=t,nt=a,_n.attachEvent("onpropertychange",Rn)):e==="focusout"&&ac()}function Ji(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ls(nt)}function lc(e,t){if(e==="click")return Ls(t)}function Bn(e,t){if(e==="input"||e==="change")return Ls(t)}function Il(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ma=typeof Object.is=="function"?Object.is:Il;function Gs(e,t){if(ma(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!_a.call(t,n)||!ma(e[n],t[n]))return!1}return!0}function wo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pi(e,t){var a=wo(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wo(a)}}function So(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?So(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fi(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=hs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=hs(e.document)}return t}function ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ll=tt&&"documentMode"in document&&11>=document.documentMode,ps=null,Wi=null,On=null,Ii=!1;function Un(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ii||ps==null||ps!==hs(s)||(s=ps,"selectionStart"in s&&ri(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),On&&Gs(On,s)||(On=s,s=Vc(Wi,"onSelect"),0<s.length&&(t=new Ol("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=ps)))}function es(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var $s={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},ci={},ha={};tt&&(ha=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function Da(e){if(ci[e])return ci[e];if(!$s[e])return e;var t=$s[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ha)return ci[e]=t[a];return e}var Hn=Da("animationend"),sc=Da("animationiteration"),nc=Da("animationstart"),Ka=Da("transitionrun"),ic=Da("transitionstart"),Ys=Da("transitioncancel"),rc=Da("transitionend"),oe=new Map,we="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");we.push("scrollEnd");function zt(e,t){oe.set(e,t),Xa(t,[e])}var Ra=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],Ja=0,vl=0;function ts(){for(var e=Ja,t=vl=Ja=0;t<e;){var a=Yt[t];Yt[t++]=null;var s=Yt[t];Yt[t++]=null;var n=Yt[t];Yt[t++]=null;var i=Yt[t];if(Yt[t++]=null,s!==null&&n!==null){var c=s.pending;c===null?n.next=n:(n.next=c.next,c.next=n),s.pending=n}i!==0&&qn(a,n,i)}}function jl(e,t,a,s){Yt[Ja++]=e,Yt[Ja++]=t,Yt[Ja++]=a,Yt[Ja++]=s,vl|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Gl(e,t,a,s){return jl(e,t,a,s),gs(e)}function il(e,t){return jl(e,null,null,t),gs(e)}function qn(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,s=i.alternate,s!==null&&(s.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-F(a),e=i.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=a|536870912),i):null}function gs(e){if(50<jr)throw jr=0,zu=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Nl={};function Ln(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,a,s){return new Ln(e,t,a,s)}function oi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dt(e,t){var a=e.alternate;return a===null?(a=ft(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Rd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function cc(e,t,a,s,n,i){var c=0;if(s=e,typeof e=="function")oi(e)&&(c=1);else if(typeof e=="string")c=zx(e,a,ue.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case he:return e=ft(31,a,t,n),e.elementType=he,e.lanes=i,e;case Q:return Gn(a.children,n,i,t);case L:c=8,n|=24;break;case H:return e=ft(12,a,t,n|2),e.elementType=H,e.lanes=i,e;case T:return e=ft(13,a,t,n),e.elementType=T,e.lanes=i,e;case S:return e=ft(19,a,t,n),e.elementType=S,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:c=10;break e;case I:c=9;break e;case Z:c=11;break e;case G:c=14;break e;case B:c=16,s=null;break e}c=29,a=Error(d(130,e===null?"null":typeof e,"")),s=null}return t=ft(c,a,t,n),t.elementType=e,t.type=s,t.lanes=i,t}function Gn(e,t,a,s){return e=ft(7,e,s,t),e.lanes=a,e}function Mo(e,t,a){return e=ft(6,e,null,t),e.lanes=a,e}function Bd(e){var t=ft(18,null,null,0);return t.stateNode=e,t}function Ao(e,t,a){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Od=new WeakMap;function wl(e,t){if(typeof e=="object"&&e!==null){var a=Od.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Fe(t)},Od.set(e,t),t)}return{value:e,source:t,stack:Fe(t)}}var ui=[],di=0,oc=null,er=0,Sl=[],Ml=0,Xs=null,as=1,ls="";function bs(e,t){ui[di++]=er,ui[di++]=oc,oc=e,er=t}function Ud(e,t,a){Sl[Ml++]=as,Sl[Ml++]=ls,Sl[Ml++]=Xs,Xs=e;var s=as;e=ls;var n=32-F(s)-1;s&=~(1<<n),a+=1;var i=32-F(t)+n;if(30<i){var c=n-n%5;i=(s&(1<<c)-1).toString(32),s>>=c,n-=c,as=1<<32-F(t)+n|a<<n|s,ls=i+e}else as=1<<i|a<<n|s,ls=e}function ko(e){e.return!==null&&(bs(e,1),Ud(e,1,0))}function Co(e){for(;e===oc;)oc=ui[--di],ui[di]=null,er=ui[--di],ui[di]=null;for(;e===Xs;)Xs=Sl[--Ml],Sl[Ml]=null,ls=Sl[--Ml],Sl[Ml]=null,as=Sl[--Ml],Sl[Ml]=null}function Hd(e,t){Sl[Ml++]=as,Sl[Ml++]=ls,Sl[Ml++]=Xs,as=t.id,ls=t.overflow,Xs=e}var ja=null,Rt=null,et=!1,Vs=null,Al=!1,To=Error(d(519));function Qs(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tr(wl(t,e)),To}function qd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[_t]=e,t[Kt]=s,a){case"dialog":Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":case"embed":Ve("load",t);break;case"video":case"audio":for(a=0;a<wr.length;a++)Ve(wr[a],t);break;case"source":Ve("error",t);break;case"img":case"image":case"link":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"input":Ve("invalid",t),Mn(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ve("invalid",t);break;case"textarea":Ve("invalid",t),kn(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||lm(t.textContent,a)?(s.popover!=null&&(Ve("beforetoggle",t),Ve("toggle",t)),s.onScroll!=null&&Ve("scroll",t),s.onScrollEnd!=null&&Ve("scrollend",t),s.onClick!=null&&(t.onclick=W),t=!0):t=!1,t||Qs(e,!0)}function Ld(e){for(ja=e.return;ja;)switch(ja.tag){case 5:case 31:case 13:Al=!1;return;case 27:case 3:Al=!0;return;default:ja=ja.return}}function fi(e){if(e!==ja)return!1;if(!et)return Ld(e),et=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Zu(e.type,e.memoizedProps)),a=!a),a&&Rt&&Qs(e),Ld(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Rt=fm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Rt=fm(e)}else t===27?(t=Rt,rn(e.type)?(e=Wu,Wu=null,Rt=e):Rt=t):Rt=ja?Cl(e.stateNode.nextSibling):null;return!0}function $n(){Rt=ja=null,et=!1}function Eo(){var e=Vs;return e!==null&&(Ia===null?Ia=e:Ia.push.apply(Ia,e),Vs=null),e}function tr(e){Vs===null?Vs=[e]:Vs.push(e)}var _o=g(null),Yn=null,ys=null;function Zs(e,t,a){te(_o,t._currentValue),t._currentValue=a}function vs(e){e._currentValue=_o.current,Y(_o)}function zo(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Do(e,t,a,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var c=n.child;i=i.firstContext;e:for(;i!==null;){var u=i;i=n;for(var p=0;p<t.length;p++)if(u.context===t[p]){i.lanes|=a,u=i.alternate,u!==null&&(u.lanes|=a),zo(i.return,a,e),s||(c=null);break e}i=u.next}}else if(n.tag===18){if(c=n.return,c===null)throw Error(d(341));c.lanes|=a,i=c.alternate,i!==null&&(i.lanes|=a),zo(c,a,e),c=null}else c=n.child;if(c!==null)c.return=n;else for(c=n;c!==null;){if(c===e){c=null;break}if(n=c.sibling,n!==null){n.return=c.return,c=n;break}c=c.return}n=c}}function mi(e,t,a,s){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var c=n.alternate;if(c===null)throw Error(d(387));if(c=c.memoizedProps,c!==null){var u=n.type;ma(n.pendingProps.value,c.value)||(e!==null?e.push(u):e=[u])}}else if(n===Oe.current){if(c=n.alternate,c===null)throw Error(d(387));c.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Cr):e=[Cr])}n=n.return}e!==null&&Do(t,e,a,s),t.flags|=262144}function uc(e){for(e=e.firstContext;e!==null;){if(!ma(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xn(e){Yn=e,ys=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Na(e){return Gd(Yn,e)}function dc(e,t){return Yn===null&&Xn(e),Gd(e,t)}function Gd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ys===null){if(e===null)throw Error(d(308));ys=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ys=ys.next=t;return a}var Ch=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Th=r.unstable_scheduleCallback,Eh=r.unstable_NormalPriority,aa={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ro(){return{controller:new Ch,data:new Map,refCount:0}}function ar(e){e.refCount--,e.refCount===0&&Th(Eh,function(){e.controller.abort()})}var lr=null,Bo=0,hi=0,xi=null;function _h(e,t){if(lr===null){var a=lr=[];Bo=0,hi=Hu(),xi={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Bo++,t.then($d,$d),t}function $d(){if(--Bo===0&&lr!==null){xi!==null&&(xi.status="fulfilled");var e=lr;lr=null,hi=0,xi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function zh(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),s}var Yd=D.S;D.S=function(e,t){kf=ie(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&_h(e,t),Yd!==null&&Yd(e,t)};var Vn=g(null);function Oo(){var e=Vn.current;return e!==null?e:At.pooledCache}function fc(e,t){t===null?te(Vn,Vn.current):te(Vn,t.pool)}function Xd(){var e=Oo();return e===null?null:{parent:aa._currentValue,pool:e}}var pi=Error(d(460)),Uo=Error(d(474)),mc=Error(d(542)),hc={then:function(){}};function Vd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(W,W),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kd(e),e;default:if(typeof t.status=="string")t.then(W,W);else{if(e=At,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kd(e),e}throw Zn=t,pi}}function Qn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zn=a,pi):a}}var Zn=null;function Zd(){if(Zn===null)throw Error(d(459));var e=Zn;return Zn=null,e}function Kd(e){if(e===pi||e===mc)throw Error(d(483))}var gi=null,sr=0;function xc(e){var t=sr;return sr+=1,gi===null&&(gi=[]),Qd(gi,e,t)}function nr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function pc(e,t){throw t.$$typeof===M?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Jd(e){function t(k,N){if(e){var _=k.deletions;_===null?(k.deletions=[N],k.flags|=16):_.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)t(k,N),N=N.sibling;return null}function s(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function n(k,N){return k=Dt(k,N),k.index=0,k.sibling=null,k}function i(k,N,_){return k.index=_,e?(_=k.alternate,_!==null?(_=_.index,_<N?(k.flags|=67108866,N):_):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function c(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function u(k,N,_,K){return N===null||N.tag!==6?(N=Mo(_,k.mode,K),N.return=k,N):(N=n(N,_),N.return=k,N)}function p(k,N,_,K){var Se=_.type;return Se===Q?V(k,N,_.props.children,K,_.key):N!==null&&(N.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===B&&Qn(Se)===N.type)?(N=n(N,_.props),nr(N,_),N.return=k,N):(N=cc(_.type,_.key,_.props,null,k.mode,K),nr(N,_),N.return=k,N)}function z(k,N,_,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==_.containerInfo||N.stateNode.implementation!==_.implementation?(N=Ao(_,k.mode,K),N.return=k,N):(N=n(N,_.children||[]),N.return=k,N)}function V(k,N,_,K,Se){return N===null||N.tag!==7?(N=Gn(_,k.mode,K,Se),N.return=k,N):(N=n(N,_),N.return=k,N)}function P(k,N,_){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Mo(""+N,k.mode,_),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case E:return _=cc(N.type,N.key,N.props,null,k.mode,_),nr(_,N),_.return=k,_;case A:return N=Ao(N,k.mode,_),N.return=k,N;case B:return N=Qn(N),P(k,N,_)}if(ce(N)||De(N))return N=Gn(N,k.mode,_,null),N.return=k,N;if(typeof N.then=="function")return P(k,xc(N),_);if(N.$$typeof===se)return P(k,dc(k,N),_);pc(k,N)}return null}function O(k,N,_,K){var Se=N!==null?N.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return Se!==null?null:u(k,N,""+_,K);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case E:return _.key===Se?p(k,N,_,K):null;case A:return _.key===Se?z(k,N,_,K):null;case B:return _=Qn(_),O(k,N,_,K)}if(ce(_)||De(_))return Se!==null?null:V(k,N,_,K,null);if(typeof _.then=="function")return O(k,N,xc(_),K);if(_.$$typeof===se)return O(k,N,dc(k,_),K);pc(k,_)}return null}function $(k,N,_,K,Se){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(_)||null,u(N,k,""+K,Se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return k=k.get(K.key===null?_:K.key)||null,p(N,k,K,Se);case A:return k=k.get(K.key===null?_:K.key)||null,z(N,k,K,Se);case B:return K=Qn(K),$(k,N,_,K,Se)}if(ce(K)||De(K))return k=k.get(_)||null,V(N,k,K,Se,null);if(typeof K.then=="function")return $(k,N,_,xc(K),Se);if(K.$$typeof===se)return $(k,N,_,dc(N,K),Se);pc(N,K)}return null}function xe(k,N,_,K){for(var Se=null,rt=null,ye=N,Le=N=0,Ke=null;ye!==null&&Le<_.length;Le++){ye.index>Le?(Ke=ye,ye=null):Ke=ye.sibling;var ct=O(k,ye,_[Le],K);if(ct===null){ye===null&&(ye=Ke);break}e&&ye&&ct.alternate===null&&t(k,ye),N=i(ct,N,Le),rt===null?Se=ct:rt.sibling=ct,rt=ct,ye=Ke}if(Le===_.length)return a(k,ye),et&&bs(k,Le),Se;if(ye===null){for(;Le<_.length;Le++)ye=P(k,_[Le],K),ye!==null&&(N=i(ye,N,Le),rt===null?Se=ye:rt.sibling=ye,rt=ye);return et&&bs(k,Le),Se}for(ye=s(ye);Le<_.length;Le++)Ke=$(ye,k,Le,_[Le],K),Ke!==null&&(e&&Ke.alternate!==null&&ye.delete(Ke.key===null?Le:Ke.key),N=i(Ke,N,Le),rt===null?Se=Ke:rt.sibling=Ke,rt=Ke);return e&&ye.forEach(function(fn){return t(k,fn)}),et&&bs(k,Le),Se}function Ee(k,N,_,K){if(_==null)throw Error(d(151));for(var Se=null,rt=null,ye=N,Le=N=0,Ke=null,ct=_.next();ye!==null&&!ct.done;Le++,ct=_.next()){ye.index>Le?(Ke=ye,ye=null):Ke=ye.sibling;var fn=O(k,ye,ct.value,K);if(fn===null){ye===null&&(ye=Ke);break}e&&ye&&fn.alternate===null&&t(k,ye),N=i(fn,N,Le),rt===null?Se=fn:rt.sibling=fn,rt=fn,ye=Ke}if(ct.done)return a(k,ye),et&&bs(k,Le),Se;if(ye===null){for(;!ct.done;Le++,ct=_.next())ct=P(k,ct.value,K),ct!==null&&(N=i(ct,N,Le),rt===null?Se=ct:rt.sibling=ct,rt=ct);return et&&bs(k,Le),Se}for(ye=s(ye);!ct.done;Le++,ct=_.next())ct=$(ye,k,Le,ct.value,K),ct!==null&&(e&&ct.alternate!==null&&ye.delete(ct.key===null?Le:ct.key),N=i(ct,N,Le),rt===null?Se=ct:rt.sibling=ct,rt=ct);return e&&ye.forEach(function(Yx){return t(k,Yx)}),et&&bs(k,Le),Se}function Nt(k,N,_,K){if(typeof _=="object"&&_!==null&&_.type===Q&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case E:e:{for(var Se=_.key;N!==null;){if(N.key===Se){if(Se=_.type,Se===Q){if(N.tag===7){a(k,N.sibling),K=n(N,_.props.children),K.return=k,k=K;break e}}else if(N.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===B&&Qn(Se)===N.type){a(k,N.sibling),K=n(N,_.props),nr(K,_),K.return=k,k=K;break e}a(k,N);break}else t(k,N);N=N.sibling}_.type===Q?(K=Gn(_.props.children,k.mode,K,_.key),K.return=k,k=K):(K=cc(_.type,_.key,_.props,null,k.mode,K),nr(K,_),K.return=k,k=K)}return c(k);case A:e:{for(Se=_.key;N!==null;){if(N.key===Se)if(N.tag===4&&N.stateNode.containerInfo===_.containerInfo&&N.stateNode.implementation===_.implementation){a(k,N.sibling),K=n(N,_.children||[]),K.return=k,k=K;break e}else{a(k,N);break}else t(k,N);N=N.sibling}K=Ao(_,k.mode,K),K.return=k,k=K}return c(k);case B:return _=Qn(_),Nt(k,N,_,K)}if(ce(_))return xe(k,N,_,K);if(De(_)){if(Se=De(_),typeof Se!="function")throw Error(d(150));return _=Se.call(_),Ee(k,N,_,K)}if(typeof _.then=="function")return Nt(k,N,xc(_),K);if(_.$$typeof===se)return Nt(k,N,dc(k,_),K);pc(k,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,N!==null&&N.tag===6?(a(k,N.sibling),K=n(N,_),K.return=k,k=K):(a(k,N),K=Mo(_,k.mode,K),K.return=k,k=K),c(k)):a(k,N)}return function(k,N,_,K){try{sr=0;var Se=Nt(k,N,_,K);return gi=null,Se}catch(ye){if(ye===pi||ye===mc)throw ye;var rt=ft(29,ye,null,k.mode);return rt.lanes=K,rt.return=k,rt}finally{}}}var Kn=Jd(!0),Pd=Jd(!1),Ks=!1;function Ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Js(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ut&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=gs(e),qn(e,null,a),t}return jl(e,s,t,a),gs(e)}function ir(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,pn(e,a)}}function Lo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var c={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=c:i=i.next=c,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Go=!1;function rr(){if(Go){var e=xi;if(e!==null)throw e}}function cr(e,t,a,s){Go=!1;var n=e.updateQueue;Ks=!1;var i=n.firstBaseUpdate,c=n.lastBaseUpdate,u=n.shared.pending;if(u!==null){n.shared.pending=null;var p=u,z=p.next;p.next=null,c===null?i=z:c.next=z,c=p;var V=e.alternate;V!==null&&(V=V.updateQueue,u=V.lastBaseUpdate,u!==c&&(u===null?V.firstBaseUpdate=z:u.next=z,V.lastBaseUpdate=p))}if(i!==null){var P=n.baseState;c=0,V=z=p=null,u=i;do{var O=u.lane&-536870913,$=O!==u.lane;if($?(Ze&O)===O:(s&O)===O){O!==0&&O===hi&&(Go=!0),V!==null&&(V=V.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var xe=e,Ee=u;O=t;var Nt=a;switch(Ee.tag){case 1:if(xe=Ee.payload,typeof xe=="function"){P=xe.call(Nt,P,O);break e}P=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ee.payload,O=typeof xe=="function"?xe.call(Nt,P,O):xe,O==null)break e;P=R({},P,O);break e;case 2:Ks=!0}}O=u.callback,O!==null&&(e.flags|=64,$&&(e.flags|=8192),$=n.callbacks,$===null?n.callbacks=[O]:$.push(O))}else $={lane:O,tag:u.tag,payload:u.payload,callback:u.callback,next:null},V===null?(z=V=$,p=P):V=V.next=$,c|=O;if(u=u.next,u===null){if(u=n.shared.pending,u===null)break;$=u,u=$.next,$.next=null,n.lastBaseUpdate=$,n.shared.pending=null}}while(!0);V===null&&(p=P),n.baseState=p,n.firstBaseUpdate=z,n.lastBaseUpdate=V,i===null&&(n.shared.lanes=0),tn|=c,e.lanes=c,e.memoizedState=P}}function Fd(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function Wd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Fd(a[e],t)}var bi=g(null),gc=g(0);function Id(e,t){e=Ts,te(gc,e),te(bi,t),Ts=e|t.baseLanes}function $o(){te(gc,Ts),te(bi,bi.current)}function Yo(){Ts=gc.current,Y(bi),Y(gc)}var rl=g(null),kl=null;function Fs(e){var t=e.alternate;te(Pt,Pt.current&1),te(rl,e),kl===null&&(t===null||bi.current!==null||t.memoizedState!==null)&&(kl=e)}function Xo(e){te(Pt,Pt.current),te(rl,e),kl===null&&(kl=e)}function e0(e){e.tag===22?(te(Pt,Pt.current),te(rl,e),kl===null&&(kl=e)):Ws()}function Ws(){te(Pt,Pt.current),te(rl,rl.current)}function cl(e){Y(rl),kl===e&&(kl=null),Y(Pt)}var Pt=g(0);function bc(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Pu(a)||Fu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var js=0,Ue=null,vt=null,la=null,yc=!1,yi=!1,Jn=!1,vc=0,or=0,vi=null,Dh=0;function Xt(){throw Error(d(321))}function Vo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ma(e[a],t[a]))return!1;return!0}function Qo(e,t,a,s,n,i){return js=i,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?U0:ru,Jn=!1,i=a(s,n),Jn=!1,yi&&(i=a0(t,a,s,n)),t0(e),i}function t0(e){D.H=fr;var t=vt!==null&&vt.next!==null;if(js=0,la=vt=Ue=null,yc=!1,or=0,vi=null,t)throw Error(d(300));e===null||sa||(e=e.dependencies,e!==null&&uc(e)&&(sa=!0))}function a0(e,t,a,s){Ue=e;var n=0;do{if(yi&&(vi=null),or=0,yi=!1,25<=n)throw Error(d(301));if(n+=1,la=vt=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}D.H=H0,i=t(a,s)}while(yi);return i}function Rh(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?ur(t):t,e=e.useState()[0],(vt!==null?vt.memoizedState:null)!==e&&(Ue.flags|=1024),t}function Zo(){var e=vc!==0;return vc=0,e}function Ko(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Jo(e){if(yc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}yc=!1}js=0,la=vt=Ue=null,yi=!1,or=vc=0,vi=null}function Ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return la===null?Ue.memoizedState=la=e:la=la.next=e,la}function Ft(){if(vt===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=la===null?Ue.memoizedState:la.next;if(t!==null)la=t,vt=e;else{if(e===null)throw Ue.alternate===null?Error(d(467)):Error(d(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},la===null?Ue.memoizedState=la=e:la=la.next=e}return la}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ur(e){var t=or;return or+=1,vi===null&&(vi=[]),e=Qd(vi,e,t),t=Ue,(la===null?t.memoizedState:la.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?U0:ru),e}function Nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ur(e);if(e.$$typeof===se)return Na(e)}throw Error(d(438,String(e)))}function Po(e){var t=null,a=Ue.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=Ue.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=jc(),Ue.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=Be;return t.index++,a}function Ns(e,t){return typeof t=="function"?t(e):t}function wc(e){var t=Ft();return Fo(t,vt,e)}function Fo(e,t,a){var s=e.queue;if(s===null)throw Error(d(311));s.lastRenderedReducer=a;var n=e.baseQueue,i=s.pending;if(i!==null){if(n!==null){var c=n.next;n.next=i.next,i.next=c}t.baseQueue=n=i,s.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var u=c=null,p=null,z=t,V=!1;do{var P=z.lane&-536870913;if(P!==z.lane?(Ze&P)===P:(js&P)===P){var O=z.revertLane;if(O===0)p!==null&&(p=p.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),P===hi&&(V=!0);else if((js&O)===O){z=z.next,O===hi&&(V=!0);continue}else P={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},p===null?(u=p=P,c=i):p=p.next=P,Ue.lanes|=O,tn|=O;P=z.action,Jn&&a(i,P),i=z.hasEagerState?z.eagerState:a(i,P)}else O={lane:P,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},p===null?(u=p=O,c=i):p=p.next=O,Ue.lanes|=P,tn|=P;z=z.next}while(z!==null&&z!==t);if(p===null?c=i:p.next=u,!ma(i,e.memoizedState)&&(sa=!0,V&&(a=xi,a!==null)))throw a;e.memoizedState=i,e.baseState=c,e.baseQueue=p,s.lastRenderedState=i}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Wo(e){var t=Ft(),a=t.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=e;var s=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var c=n=n.next;do i=e(i,c.action),c=c.next;while(c!==n);ma(i,t.memoizedState)||(sa=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,s]}function l0(e,t,a){var s=Ue,n=Ft(),i=et;if(i){if(a===void 0)throw Error(d(407));a=a()}else a=t();var c=!ma((vt||n).memoizedState,a);if(c&&(n.memoizedState=a,sa=!0),n=n.queue,tu(i0.bind(null,s,n,e),[e]),n.getSnapshot!==t||c||la!==null&&la.memoizedState.tag&1){if(s.flags|=2048,ji(9,{destroy:void 0},n0.bind(null,s,n,a,t),null),At===null)throw Error(d(349));i||(js&127)!==0||s0(s,t,a)}return a}function s0(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ue.updateQueue,t===null?(t=jc(),Ue.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function n0(e,t,a,s){t.value=a,t.getSnapshot=s,r0(t)&&c0(e)}function i0(e,t,a){return a(function(){r0(t)&&c0(e)})}function r0(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ma(e,a)}catch{return!0}}function c0(e){var t=il(e,2);t!==null&&el(t,e,2)}function Io(e){var t=Ba();if(typeof e=="function"){var a=e;if(e=a(),Jn){It(!0);try{a()}finally{It(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:e},t}function o0(e,t,a,s){return e.baseState=a,Fo(e,vt,typeof s=="function"?s:Ns)}function Bh(e,t,a,s,n){if(Ac(e))throw Error(d(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};D.T!==null?a(!0):i.isTransition=!1,s(i),a=t.pending,a===null?(i.next=t.pending=i,u0(t,i)):(i.next=a.next,t.pending=a.next=i)}}function u0(e,t){var a=t.action,s=t.payload,n=e.state;if(t.isTransition){var i=D.T,c={};D.T=c;try{var u=a(n,s),p=D.S;p!==null&&p(c,u),d0(e,t,u)}catch(z){eu(e,t,z)}finally{i!==null&&c.types!==null&&(i.types=c.types),D.T=i}}else try{i=a(n,s),d0(e,t,i)}catch(z){eu(e,t,z)}}function d0(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){f0(e,t,s)},function(s){return eu(e,t,s)}):f0(e,t,a)}function f0(e,t,a){t.status="fulfilled",t.value=a,m0(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,u0(e,a)))}function eu(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,m0(t),t=t.next;while(t!==s)}e.action=null}function m0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function h0(e,t){return t}function x0(e,t){if(et){var a=At.formState;if(a!==null){e:{var s=Ue;if(et){if(Rt){t:{for(var n=Rt,i=Al;n.nodeType!==8;){if(!i){n=null;break t}if(n=Cl(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Rt=Cl(n.nextSibling),s=n.data==="F!";break e}}Qs(s)}s=!1}s&&(t=a[0])}}return a=Ba(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h0,lastRenderedState:t},a.queue=s,a=R0.bind(null,Ue,s),s.dispatch=a,s=Io(!1),i=iu.bind(null,Ue,!1,s.queue),s=Ba(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,a=Bh.bind(null,Ue,n,i,a),n.dispatch=a,s.memoizedState=e,[t,a,!1]}function p0(e){var t=Ft();return g0(t,vt,e)}function g0(e,t,a){if(t=Fo(e,t,h0)[0],e=wc(Ns)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ur(t)}catch(c){throw c===pi?mc:c}else s=t;t=Ft();var n=t.queue,i=n.dispatch;return a!==t.memoizedState&&(Ue.flags|=2048,ji(9,{destroy:void 0},Oh.bind(null,n,a),null)),[s,i,e]}function Oh(e,t){e.action=t}function b0(e){var t=Ft(),a=vt;if(a!==null)return g0(t,a,e);Ft(),t=t.memoizedState,a=Ft();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function ji(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=Ue.updateQueue,t===null&&(t=jc(),Ue.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function y0(){return Ft().memoizedState}function Sc(e,t,a,s){var n=Ba();Ue.flags|=e,n.memoizedState=ji(1|t,{destroy:void 0},a,s===void 0?null:s)}function Mc(e,t,a,s){var n=Ft();s=s===void 0?null:s;var i=n.memoizedState.inst;vt!==null&&s!==null&&Vo(s,vt.memoizedState.deps)?n.memoizedState=ji(t,i,a,s):(Ue.flags|=e,n.memoizedState=ji(1|t,i,a,s))}function v0(e,t){Sc(8390656,8,e,t)}function tu(e,t){Mc(2048,8,e,t)}function Uh(e){Ue.flags|=4;var t=Ue.updateQueue;if(t===null)t=jc(),Ue.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function j0(e){var t=Ft().memoizedState;return Uh({ref:t,nextImpl:e}),function(){if((ut&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function N0(e,t){return Mc(4,2,e,t)}function w0(e,t){return Mc(4,4,e,t)}function S0(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function M0(e,t,a){a=a!=null?a.concat([e]):null,Mc(4,4,S0.bind(null,t,e),a)}function au(){}function A0(e,t){var a=Ft();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Vo(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function k0(e,t){var a=Ft();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Vo(t,s[1]))return s[0];if(s=e(),Jn){It(!0);try{e()}finally{It(!1)}}return a.memoizedState=[s,t],s}function lu(e,t,a){return a===void 0||(js&1073741824)!==0&&(Ze&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Tf(),Ue.lanes|=e,tn|=e,a)}function C0(e,t,a,s){return ma(a,t)?a:bi.current!==null?(e=lu(e,a,s),ma(e,t)||(sa=!0),e):(js&42)===0||(js&1073741824)!==0&&(Ze&261930)===0?(sa=!0,e.memoizedState=a):(e=Tf(),Ue.lanes|=e,tn|=e,t)}function T0(e,t,a,s,n){var i=ee.p;ee.p=i!==0&&8>i?i:8;var c=D.T,u={};D.T=u,iu(e,!1,t,a);try{var p=n(),z=D.S;if(z!==null&&z(u,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var V=zh(p,s);dr(e,t,V,dl(e))}else dr(e,t,s,dl(e))}catch(P){dr(e,t,{then:function(){},status:"rejected",reason:P},dl())}finally{ee.p=i,c!==null&&u.types!==null&&(c.types=u.types),D.T=c}}function Hh(){}function su(e,t,a,s){if(e.tag!==5)throw Error(d(476));var n=E0(e).queue;T0(e,n,t,me,a===null?Hh:function(){return _0(e),a(s)})}function E0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:me},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _0(e){var t=E0(e);t.next===null&&(t=e.alternate.memoizedState),dr(e,t.next.queue,{},dl())}function nu(){return Na(Cr)}function z0(){return Ft().memoizedState}function D0(){return Ft().memoizedState}function qh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=dl();e=Js(a);var s=Ps(t,e,a);s!==null&&(el(s,t,a),ir(s,t,a)),t={cache:Ro()},e.payload=t;return}t=t.return}}function Lh(e,t,a){var s=dl();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ac(e)?B0(t,a):(a=Gl(e,t,a,s),a!==null&&(el(a,e,s),O0(a,t,s)))}function R0(e,t,a){var s=dl();dr(e,t,a,s)}function dr(e,t,a,s){var n={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ac(e))B0(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,u=i(c,a);if(n.hasEagerState=!0,n.eagerState=u,ma(u,c))return jl(e,t,n,0),At===null&&ts(),!1}catch{}finally{}if(a=Gl(e,t,n,s),a!==null)return el(a,e,s),O0(a,t,s),!0}return!1}function iu(e,t,a,s){if(s={lane:2,revertLane:Hu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ac(e)){if(t)throw Error(d(479))}else t=Gl(e,a,s,2),t!==null&&el(t,e,2)}function Ac(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function B0(e,t){yi=yc=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function O0(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,pn(e,a)}}var fr={readContext:Na,use:Nc,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt};fr.useEffectEvent=Xt;var U0={readContext:Na,use:Nc,useCallback:function(e,t){return Ba().memoizedState=[e,t===void 0?null:t],e},useContext:Na,useEffect:v0,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Sc(4194308,4,S0.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Sc(4194308,4,e,t)},useInsertionEffect:function(e,t){Sc(4,2,e,t)},useMemo:function(e,t){var a=Ba();t=t===void 0?null:t;var s=e();if(Jn){It(!0);try{e()}finally{It(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Ba();if(a!==void 0){var n=a(t);if(Jn){It(!0);try{a(t)}finally{It(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=Lh.bind(null,Ue,e),[s.memoizedState,e]},useRef:function(e){var t=Ba();return e={current:e},t.memoizedState=e},useState:function(e){e=Io(e);var t=e.queue,a=R0.bind(null,Ue,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:au,useDeferredValue:function(e,t){var a=Ba();return lu(a,e,t)},useTransition:function(){var e=Io(!1);return e=T0.bind(null,Ue,e.queue,!0,!1),Ba().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=Ue,n=Ba();if(et){if(a===void 0)throw Error(d(407));a=a()}else{if(a=t(),At===null)throw Error(d(349));(Ze&127)!==0||s0(s,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,v0(i0.bind(null,s,i,e),[e]),s.flags|=2048,ji(9,{destroy:void 0},n0.bind(null,s,i,a,t),null),a},useId:function(){var e=Ba(),t=At.identifierPrefix;if(et){var a=ls,s=as;a=(s&~(1<<32-F(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=vc++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Dh++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:nu,useFormState:x0,useActionState:x0,useOptimistic:function(e){var t=Ba();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=iu.bind(null,Ue,!0,a),a.dispatch=t,[e,t]},useMemoCache:Po,useCacheRefresh:function(){return Ba().memoizedState=qh.bind(null,Ue)},useEffectEvent:function(e){var t=Ba(),a={impl:e};return t.memoizedState=a,function(){if((ut&2)!==0)throw Error(d(440));return a.impl.apply(void 0,arguments)}}},ru={readContext:Na,use:Nc,useCallback:A0,useContext:Na,useEffect:tu,useImperativeHandle:M0,useInsertionEffect:N0,useLayoutEffect:w0,useMemo:k0,useReducer:wc,useRef:y0,useState:function(){return wc(Ns)},useDebugValue:au,useDeferredValue:function(e,t){var a=Ft();return C0(a,vt.memoizedState,e,t)},useTransition:function(){var e=wc(Ns)[0],t=Ft().memoizedState;return[typeof e=="boolean"?e:ur(e),t]},useSyncExternalStore:l0,useId:z0,useHostTransitionStatus:nu,useFormState:p0,useActionState:p0,useOptimistic:function(e,t){var a=Ft();return o0(a,vt,e,t)},useMemoCache:Po,useCacheRefresh:D0};ru.useEffectEvent=j0;var H0={readContext:Na,use:Nc,useCallback:A0,useContext:Na,useEffect:tu,useImperativeHandle:M0,useInsertionEffect:N0,useLayoutEffect:w0,useMemo:k0,useReducer:Wo,useRef:y0,useState:function(){return Wo(Ns)},useDebugValue:au,useDeferredValue:function(e,t){var a=Ft();return vt===null?lu(a,e,t):C0(a,vt.memoizedState,e,t)},useTransition:function(){var e=Wo(Ns)[0],t=Ft().memoizedState;return[typeof e=="boolean"?e:ur(e),t]},useSyncExternalStore:l0,useId:z0,useHostTransitionStatus:nu,useFormState:b0,useActionState:b0,useOptimistic:function(e,t){var a=Ft();return vt!==null?o0(a,vt,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Po,useCacheRefresh:D0};H0.useEffectEvent=j0;function cu(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:R({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ou={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=dl(),n=Js(s);n.payload=t,a!=null&&(n.callback=a),t=Ps(e,n,s),t!==null&&(el(t,e,s),ir(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=dl(),n=Js(s);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=Ps(e,n,s),t!==null&&(el(t,e,s),ir(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=dl(),s=Js(a);s.tag=2,t!=null&&(s.callback=t),t=Ps(e,s,a),t!==null&&(el(t,e,a),ir(t,e,a))}};function q0(e,t,a,s,n,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,c):t.prototype&&t.prototype.isPureReactComponent?!Gs(a,s)||!Gs(n,i):!0}function L0(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&ou.enqueueReplaceState(t,t.state,null)}function Pn(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=R({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function G0(e){Ra(e)}function $0(e){console.error(e)}function Y0(e){Ra(e)}function kc(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function X0(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function uu(e,t,a){return a=Js(a),a.tag=3,a.payload={element:null},a.callback=function(){kc(e,t)},a}function V0(e){return e=Js(e),e.tag=3,e}function Q0(e,t,a,s){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=s.value;e.payload=function(){return n(i)},e.callback=function(){X0(t,a,s)}}var c=a.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){X0(t,a,s),typeof n!="function"&&(an===null?an=new Set([this]):an.add(this));var u=s.stack;this.componentDidCatch(s.value,{componentStack:u!==null?u:""})})}function Gh(e,t,a,s,n){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&mi(t,a,n,!0),a=rl.current,a!==null){switch(a.tag){case 31:case 13:return kl===null?qc():a.alternate===null&&Vt===0&&(Vt=3),a.flags&=-257,a.flags|=65536,a.lanes=n,s===hc?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Bu(e,s,n)),!1;case 22:return a.flags|=65536,s===hc?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Bu(e,s,n)),!1}throw Error(d(435,a.tag))}return Bu(e,s,n),qc(),!1}if(et)return t=rl.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==To&&(e=Error(d(422),{cause:s}),tr(wl(e,a)))):(s!==To&&(t=Error(d(423),{cause:s}),tr(wl(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=wl(s,a),n=uu(e.stateNode,s,n),Lo(e,n),Vt!==4&&(Vt=2)),!1;var i=Error(d(520),{cause:s});if(i=wl(i,a),vr===null?vr=[i]:vr.push(i),Vt!==4&&(Vt=2),t===null)return!0;s=wl(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=uu(a.stateNode,s,e),Lo(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(an===null||!an.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=V0(n),Q0(n,e,a,s),Lo(a,n),!1}a=a.return}while(a!==null);return!1}var du=Error(d(461)),sa=!1;function wa(e,t,a,s){t.child=e===null?Pd(t,null,a,s):Kn(t,e.child,a,s)}function Z0(e,t,a,s,n){a=a.render;var i=t.ref;if("ref"in s){var c={};for(var u in s)u!=="ref"&&(c[u]=s[u])}else c=s;return Xn(t),s=Qo(e,t,a,c,i,n),u=Zo(),e!==null&&!sa?(Ko(e,t,n),ws(e,t,n)):(et&&u&&ko(t),t.flags|=1,wa(e,t,s,n),t.child)}function K0(e,t,a,s,n){if(e===null){var i=a.type;return typeof i=="function"&&!oi(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,J0(e,t,i,s,n)):(e=cc(a.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!yu(e,n)){var c=i.memoizedProps;if(a=a.compare,a=a!==null?a:Gs,a(c,s)&&e.ref===t.ref)return ws(e,t,n)}return t.flags|=1,e=Dt(i,s),e.ref=t.ref,e.return=t,t.child=e}function J0(e,t,a,s,n){if(e!==null){var i=e.memoizedProps;if(Gs(i,s)&&e.ref===t.ref)if(sa=!1,t.pendingProps=s=i,yu(e,n))(e.flags&131072)!==0&&(sa=!0);else return t.lanes=e.lanes,ws(e,t,n)}return fu(e,t,a,s,n)}function P0(e,t,a,s){var n=s.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~i}else s=0,t.child=null;return F0(e,t,i,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&fc(t,i!==null?i.cachePool:null),i!==null?Id(t,i):$o(),e0(t);else return s=t.lanes=536870912,F0(e,t,i!==null?i.baseLanes|a:a,a,s)}else i!==null?(fc(t,i.cachePool),Id(t,i),Ws(),t.memoizedState=null):(e!==null&&fc(t,null),$o(),Ws());return wa(e,t,n,a),t.child}function mr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function F0(e,t,a,s,n){var i=Oo();return i=i===null?null:{parent:aa._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&fc(t,null),$o(),e0(t),e!==null&&mi(e,t,s,!0),t.childLanes=n,null}function Cc(e,t){return t=Ec({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function W0(e,t,a){return Kn(t,e.child,null,a),e=Cc(t,t.pendingProps),e.flags|=2,cl(t),t.memoizedState=null,e}function $h(e,t,a){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(et){if(s.mode==="hidden")return e=Cc(t,s),t.lanes=536870912,mr(null,e);if(Xo(t),(e=Rt)?(e=dm(e,Al),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xs!==null?{id:as,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},a=Bd(e),a.return=t,t.child=a,ja=t,Rt=null)):e=null,e===null)throw Qs(t);return t.lanes=536870912,null}return Cc(t,s)}var i=e.memoizedState;if(i!==null){var c=i.dehydrated;if(Xo(t),n)if(t.flags&256)t.flags&=-257,t=W0(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(sa||mi(e,t,a,!1),n=(a&e.childLanes)!==0,sa||n){if(s=At,s!==null&&(c=ll(s,a),c!==0&&c!==i.retryLane))throw i.retryLane=c,il(e,c),el(s,e,c),du;qc(),t=W0(e,t,a)}else e=i.treeContext,Rt=Cl(c.nextSibling),ja=t,et=!0,Vs=null,Al=!1,e!==null&&Hd(t,e),t=Cc(t,s),t.flags|=4096;return t}return e=Dt(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Tc(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(d(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function fu(e,t,a,s,n){return Xn(t),a=Qo(e,t,a,s,void 0,n),s=Zo(),e!==null&&!sa?(Ko(e,t,n),ws(e,t,n)):(et&&s&&ko(t),t.flags|=1,wa(e,t,a,n),t.child)}function I0(e,t,a,s,n,i){return Xn(t),t.updateQueue=null,a=a0(t,s,a,n),t0(e),s=Zo(),e!==null&&!sa?(Ko(e,t,i),ws(e,t,i)):(et&&s&&ko(t),t.flags|=1,wa(e,t,a,i),t.child)}function ef(e,t,a,s,n){if(Xn(t),t.stateNode===null){var i=Nl,c=a.contextType;typeof c=="object"&&c!==null&&(i=Na(c)),i=new a(s,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ou,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=s,i.state=t.memoizedState,i.refs={},Ho(t),c=a.contextType,i.context=typeof c=="object"&&c!==null?Na(c):Nl,i.state=t.memoizedState,c=a.getDerivedStateFromProps,typeof c=="function"&&(cu(t,a,c,s),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&ou.enqueueReplaceState(i,i.state,null),cr(t,s,i,n),rr(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){i=t.stateNode;var u=t.memoizedProps,p=Pn(a,u);i.props=p;var z=i.context,V=a.contextType;c=Nl,typeof V=="object"&&V!==null&&(c=Na(V));var P=a.getDerivedStateFromProps;V=typeof P=="function"||typeof i.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,V||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u||z!==c)&&L0(t,i,s,c),Ks=!1;var O=t.memoizedState;i.state=O,cr(t,s,i,n),rr(),z=t.memoizedState,u||O!==z||Ks?(typeof P=="function"&&(cu(t,a,P,s),z=t.memoizedState),(p=Ks||q0(t,a,p,s,O,z,c))?(V||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=z),i.props=s,i.state=z,i.context=c,s=p):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,qo(e,t),c=t.memoizedProps,V=Pn(a,c),i.props=V,P=t.pendingProps,O=i.context,z=a.contextType,p=Nl,typeof z=="object"&&z!==null&&(p=Na(z)),u=a.getDerivedStateFromProps,(z=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==P||O!==p)&&L0(t,i,s,p),Ks=!1,O=t.memoizedState,i.state=O,cr(t,s,i,n),rr();var $=t.memoizedState;c!==P||O!==$||Ks||e!==null&&e.dependencies!==null&&uc(e.dependencies)?(typeof u=="function"&&(cu(t,a,u,s),$=t.memoizedState),(V=Ks||q0(t,a,V,s,O,$,p)||e!==null&&e.dependencies!==null&&uc(e.dependencies))?(z||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,$,p),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,$,p)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=$),i.props=s,i.state=$,i.context=p,s=V):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),s=!1)}return i=s,Tc(e,t),s=(t.flags&128)!==0,i||s?(i=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&s?(t.child=Kn(t,e.child,null,n),t.child=Kn(t,null,a,n)):wa(e,t,a,n),t.memoizedState=i.state,e=t.child):e=ws(e,t,n),e}function tf(e,t,a,s){return $n(),t.flags|=256,wa(e,t,a,s),t.child}var mu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hu(e){return{baseLanes:e,cachePool:Xd()}}function xu(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ul),e}function af(e,t,a){var s=t.pendingProps,n=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(Pt.current&2)!==0),c&&(n=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(et){if(n?Fs(t):Ws(),(e=Rt)?(e=dm(e,Al),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xs!==null?{id:as,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},a=Bd(e),a.return=t,t.child=a,ja=t,Rt=null)):e=null,e===null)throw Qs(t);return Fu(e)?t.lanes=32:t.lanes=536870912,null}var u=s.children;return s=s.fallback,n?(Ws(),n=t.mode,u=Ec({mode:"hidden",children:u},n),s=Gn(s,n,a,null),u.return=t,s.return=t,u.sibling=s,t.child=u,s=t.child,s.memoizedState=hu(a),s.childLanes=xu(e,c,a),t.memoizedState=mu,mr(null,s)):(Fs(t),pu(t,u))}var p=e.memoizedState;if(p!==null&&(u=p.dehydrated,u!==null)){if(i)t.flags&256?(Fs(t),t.flags&=-257,t=gu(e,t,a)):t.memoizedState!==null?(Ws(),t.child=e.child,t.flags|=128,t=null):(Ws(),u=s.fallback,n=t.mode,s=Ec({mode:"visible",children:s.children},n),u=Gn(u,n,a,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,Kn(t,e.child,null,a),s=t.child,s.memoizedState=hu(a),s.childLanes=xu(e,c,a),t.memoizedState=mu,t=mr(null,s));else if(Fs(t),Fu(u)){if(c=u.nextSibling&&u.nextSibling.dataset,c)var z=c.dgst;c=z,s=Error(d(419)),s.stack="",s.digest=c,tr({value:s,source:null,stack:null}),t=gu(e,t,a)}else if(sa||mi(e,t,a,!1),c=(a&e.childLanes)!==0,sa||c){if(c=At,c!==null&&(s=ll(c,a),s!==0&&s!==p.retryLane))throw p.retryLane=s,il(e,s),el(c,e,s),du;Pu(u)||qc(),t=gu(e,t,a)}else Pu(u)?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,Rt=Cl(u.nextSibling),ja=t,et=!0,Vs=null,Al=!1,e!==null&&Hd(t,e),t=pu(t,s.children),t.flags|=4096);return t}return n?(Ws(),u=s.fallback,n=t.mode,p=e.child,z=p.sibling,s=Dt(p,{mode:"hidden",children:s.children}),s.subtreeFlags=p.subtreeFlags&65011712,z!==null?u=Dt(z,u):(u=Gn(u,n,a,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,mr(null,s),s=t.child,u=e.child.memoizedState,u===null?u=hu(a):(n=u.cachePool,n!==null?(p=aa._currentValue,n=n.parent!==p?{parent:p,pool:p}:n):n=Xd(),u={baseLanes:u.baseLanes|a,cachePool:n}),s.memoizedState=u,s.childLanes=xu(e,c,a),t.memoizedState=mu,mr(e.child,s)):(Fs(t),a=e.child,e=a.sibling,a=Dt(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=a,t.memoizedState=null,a)}function pu(e,t){return t=Ec({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ec(e,t){return e=ft(22,e,null,t),e.lanes=0,e}function gu(e,t,a){return Kn(t,e.child,null,a),e=pu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lf(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),zo(e.return,t,a)}function bu(e,t,a,s,n,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n,treeForkCount:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=a,c.tailMode=n,c.treeForkCount=i)}function sf(e,t,a){var s=t.pendingProps,n=s.revealOrder,i=s.tail;s=s.children;var c=Pt.current,u=(c&2)!==0;if(u?(c=c&1|2,t.flags|=128):c&=1,te(Pt,c),wa(e,t,s,a),s=et?er:0,!u&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lf(e,a,t);else if(e.tag===19)lf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&bc(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),bu(t,!1,n,a,i,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&bc(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}bu(t,!0,a,null,i,s);break;case"together":bu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ws(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),tn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(mi(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,a=Dt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Dt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function yu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&uc(e)))}function Yh(e,t,a){switch(t.tag){case 3:Ot(t,t.stateNode.containerInfo),Zs(t,aa,e.memoizedState.cache),$n();break;case 27:case 5:Ut(t);break;case 4:Ot(t,t.stateNode.containerInfo);break;case 10:Zs(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Xo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Fs(t),t.flags|=128,null):(a&t.child.childLanes)!==0?af(e,t,a):(Fs(t),e=ws(e,t,a),e!==null?e.sibling:null);Fs(t);break;case 19:var n=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(mi(e,t,a,!1),s=(a&t.childLanes)!==0),n){if(s)return sf(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),te(Pt,Pt.current),s)break;return null;case 22:return t.lanes=0,P0(e,t,a,t.pendingProps);case 24:Zs(t,aa,e.memoizedState.cache)}return ws(e,t,a)}function nf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)sa=!0;else{if(!yu(e,a)&&(t.flags&128)===0)return sa=!1,Yh(e,t,a);sa=(e.flags&131072)!==0}else sa=!1,et&&(t.flags&1048576)!==0&&Ud(t,er,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Qn(t.elementType),t.type=e,typeof e=="function")oi(e)?(s=Pn(e,s),t.tag=1,t=ef(null,t,e,s,a)):(t.tag=0,t=fu(null,t,e,s,a));else{if(e!=null){var n=e.$$typeof;if(n===Z){t.tag=11,t=Z0(null,t,e,s,a);break e}else if(n===G){t.tag=14,t=K0(null,t,e,s,a);break e}}throw t=Ye(e)||e,Error(d(306,t,""))}}return t;case 0:return fu(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,n=Pn(s,t.pendingProps),ef(e,t,s,n,a);case 3:e:{if(Ot(t,t.stateNode.containerInfo),e===null)throw Error(d(387));s=t.pendingProps;var i=t.memoizedState;n=i.element,qo(e,t),cr(t,s,null,a);var c=t.memoizedState;if(s=c.cache,Zs(t,aa,s),s!==i.cache&&Do(t,[aa],a,!0),rr(),s=c.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=tf(e,t,s,a);break e}else if(s!==n){n=wl(Error(d(424)),t),tr(n),t=tf(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Rt=Cl(e.firstChild),ja=t,et=!0,Vs=null,Al=!0,a=Pd(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($n(),s===n){t=ws(e,t,a);break e}wa(e,t,s,a)}t=t.child}return t;case 26:return Tc(e,t),e===null?(a=gm(t.type,null,t.pendingProps,null))?t.memoizedState=a:et||(a=t.type,e=t.pendingProps,s=Qc(_e.current).createElement(a),s[_t]=t,s[Kt]=e,Sa(s,a,e),wt(s),t.stateNode=s):t.memoizedState=gm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ut(t),e===null&&et&&(s=t.stateNode=hm(t.type,t.pendingProps,_e.current),ja=t,Al=!0,n=Rt,rn(t.type)?(Wu=n,Rt=Cl(s.firstChild)):Rt=n),wa(e,t,t.pendingProps.children,a),Tc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&et&&((n=s=Rt)&&(s=yx(s,t.type,t.pendingProps,Al),s!==null?(t.stateNode=s,ja=t,Rt=Cl(s.firstChild),Al=!1,n=!0):n=!1),n||Qs(t)),Ut(t),n=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,s=i.children,Zu(n,i)?s=null:c!==null&&Zu(n,c)&&(t.flags|=32),t.memoizedState!==null&&(n=Qo(e,t,Rh,null,null,a),Cr._currentValue=n),Tc(e,t),wa(e,t,s,a),t.child;case 6:return e===null&&et&&((e=a=Rt)&&(a=vx(a,t.pendingProps,Al),a!==null?(t.stateNode=a,ja=t,Rt=null,e=!0):e=!1),e||Qs(t)),null;case 13:return af(e,t,a);case 4:return Ot(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Kn(t,null,s,a):wa(e,t,s,a),t.child;case 11:return Z0(e,t,t.type,t.pendingProps,a);case 7:return wa(e,t,t.pendingProps,a),t.child;case 8:return wa(e,t,t.pendingProps.children,a),t.child;case 12:return wa(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Zs(t,t.type,s.value),wa(e,t,s.children,a),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,Xn(t),n=Na(n),s=s(n),t.flags|=1,wa(e,t,s,a),t.child;case 14:return K0(e,t,t.type,t.pendingProps,a);case 15:return J0(e,t,t.type,t.pendingProps,a);case 19:return sf(e,t,a);case 31:return $h(e,t,a);case 22:return P0(e,t,a,t.pendingProps);case 24:return Xn(t),s=Na(aa),e===null?(n=Oo(),n===null&&(n=At,i=Ro(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),t.memoizedState={parent:s,cache:n},Ho(t),Zs(t,aa,n)):((e.lanes&a)!==0&&(qo(e,t),cr(t,null,null,a),rr()),n=e.memoizedState,i=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Zs(t,aa,s)):(s=i.cache,Zs(t,aa,s),s!==n.cache&&Do(t,[aa],a,!0))),wa(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function Ss(e){e.flags|=4}function vu(e,t,a,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Df())e.flags|=8192;else throw Zn=hc,Uo}else e.flags&=-16777217}function rf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Nm(t))if(Df())e.flags|=8192;else throw Zn=hc,Uo}function _c(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?$a():536870912,e.lanes|=t,Mi|=t)}function hr(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Xh(e,t,a){var s=t.pendingProps;switch(Co(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(t),null;case 1:return Bt(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),vs(aa),He(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(fi(t)?Ss(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Eo())),Bt(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(Ss(t),i!==null?(Bt(t),rf(t,i)):(Bt(t),vu(t,n,null,s,a))):i?i!==e.memoizedState?(Ss(t),Bt(t),rf(t,i)):(Bt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Ss(t),Bt(t),vu(t,n,e,s,a)),null;case 27:if(Wt(t),a=_e.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ss(t);else{if(!s){if(t.stateNode===null)throw Error(d(166));return Bt(t),null}e=ue.current,fi(t)?qd(t):(e=hm(n,s,a),t.stateNode=e,Ss(t))}return Bt(t),null;case 5:if(Wt(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ss(t);else{if(!s){if(t.stateNode===null)throw Error(d(166));return Bt(t),null}if(i=ue.current,fi(t))qd(t);else{var c=Qc(_e.current);switch(i){case 1:i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=c.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof s.is=="string"?c.createElement("select",{is:s.is}):c.createElement("select"),s.multiple?i.multiple=!0:s.size&&(i.size=s.size);break;default:i=typeof s.is=="string"?c.createElement(n,{is:s.is}):c.createElement(n)}}i[_t]=t,i[Kt]=s;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=i;e:switch(Sa(i,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ss(t)}}return Bt(t),vu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Ss(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(d(166));if(e=_e.current,fi(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,n=ja,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[_t]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||lm(e.nodeValue,a)),e||Qs(t,!0)}else e=Qc(e).createTextNode(s),e[_t]=t,t.stateNode=e}return Bt(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=fi(t),a!==null){if(e===null){if(!s)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[_t]=t}else $n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Bt(t),e=!1}else a=Eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(cl(t),t):(cl(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Bt(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=fi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(d(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(d(317));n[_t]=t}else $n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Bt(t),n=!1}else n=Eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(cl(t),t):(cl(t),null)}return cl(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==n&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),_c(t,t.updateQueue),Bt(t),null);case 4:return He(),e===null&&$u(t.stateNode.containerInfo),Bt(t),null;case 10:return vs(t.type),Bt(t),null;case 19:if(Y(Pt),s=t.memoizedState,s===null)return Bt(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)hr(s,!1);else{if(Vt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=bc(e),i!==null){for(t.flags|=128,hr(s,!1),e=i.updateQueue,t.updateQueue=e,_c(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Rd(a,e),a=a.sibling;return te(Pt,Pt.current&1|2),et&&bs(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ie()>Oc&&(t.flags|=128,n=!0,hr(s,!1),t.lanes=4194304)}else{if(!n)if(e=bc(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,_c(t,e),hr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!et)return Bt(t),null}else 2*ie()-s.renderingStartTime>Oc&&a!==536870912&&(t.flags|=128,n=!0,hr(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(e=s.last,e!==null?e.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ie(),e.sibling=null,a=Pt.current,te(Pt,n?a&1|2:a&1),et&&bs(t,s.treeForkCount),e):(Bt(t),null);case 22:case 23:return cl(t),Yo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Bt(t),t.subtreeFlags&6&&(t.flags|=8192)):Bt(t),a=t.updateQueue,a!==null&&_c(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&Y(Vn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),vs(aa),Bt(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function Vh(e,t){switch(Co(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vs(aa),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Wt(t),null;case 31:if(t.memoizedState!==null){if(cl(t),t.alternate===null)throw Error(d(340));$n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(cl(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));$n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(Pt),null;case 4:return He(),null;case 10:return vs(t.type),null;case 22:case 23:return cl(t),Yo(),e!==null&&Y(Vn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return vs(aa),null;case 25:return null;default:return null}}function cf(e,t){switch(Co(t),t.tag){case 3:vs(aa),He();break;case 26:case 27:case 5:Wt(t);break;case 4:He();break;case 31:t.memoizedState!==null&&cl(t);break;case 13:cl(t);break;case 19:Y(Pt);break;case 10:vs(t.type);break;case 22:case 23:cl(t),Yo(),e!==null&&Y(Vn);break;case 24:vs(aa)}}function xr(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var n=s.next;a=n;do{if((a.tag&e)===e){s=void 0;var i=a.create,c=a.inst;s=i(),c.destroy=s}a=a.next}while(a!==n)}}catch(u){pt(t,t.return,u)}}function Is(e,t,a){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&e)===e){var c=s.inst,u=c.destroy;if(u!==void 0){c.destroy=void 0,n=t;var p=a,z=u;try{z()}catch(V){pt(n,p,V)}}}s=s.next}while(s!==i)}}catch(V){pt(t,t.return,V)}}function of(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Wd(t,a)}catch(s){pt(e,e.return,s)}}}function uf(e,t,a){a.props=Pn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){pt(e,t,s)}}function pr(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(n){pt(e,t,n)}}function ss(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(n){pt(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){pt(e,t,n)}else a.current=null}function df(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(n){pt(e,e.return,n)}}function ju(e,t,a){try{var s=e.stateNode;mx(s,e.type,a,t),s[Kt]=t}catch(n){pt(e,e.return,n)}}function ff(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&rn(e.type)||e.tag===4}function Nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ff(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&rn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wu(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=W));else if(s!==4&&(s===27&&rn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(wu(e,t,a),e=e.sibling;e!==null;)wu(e,t,a),e=e.sibling}function zc(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&rn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(zc(e,t,a),e=e.sibling;e!==null;)zc(e,t,a),e=e.sibling}function mf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Sa(t,s,a),t[_t]=e,t[Kt]=a}catch(i){pt(e,e.return,i)}}var Ms=!1,na=!1,Su=!1,hf=typeof WeakSet=="function"?WeakSet:Set,xa=null;function Qh(e,t){if(e=e.containerInfo,Vu=Ic,e=Fi(e),ri(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var c=0,u=-1,p=-1,z=0,V=0,P=e,O=null;t:for(;;){for(var $;P!==a||n!==0&&P.nodeType!==3||(u=c+n),P!==i||s!==0&&P.nodeType!==3||(p=c+s),P.nodeType===3&&(c+=P.nodeValue.length),($=P.firstChild)!==null;)O=P,P=$;for(;;){if(P===e)break t;if(O===a&&++z===n&&(u=c),O===i&&++V===s&&(p=c),($=P.nextSibling)!==null)break;P=O,O=P.parentNode}P=$}a=u===-1||p===-1?null:{start:u,end:p}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qu={focusedElem:e,selectionRange:a},Ic=!1,xa=t;xa!==null;)if(t=xa,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xa=e;else for(;xa!==null;){switch(t=xa,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,n=i.memoizedProps,i=i.memoizedState,s=a.stateNode;try{var xe=Pn(a.type,n);e=s.getSnapshotBeforeUpdate(xe,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(Ee){pt(a,a.return,Ee)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ju(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ju(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,xa=e;break}xa=t.return}}function xf(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:ks(e,a),s&4&&xr(5,a);break;case 1:if(ks(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(c){pt(a,a.return,c)}else{var n=Pn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){pt(a,a.return,c)}}s&64&&of(a),s&512&&pr(a,a.return);break;case 3:if(ks(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Wd(e,t)}catch(c){pt(a,a.return,c)}}break;case 27:t===null&&s&4&&mf(a);case 26:case 5:ks(e,a),t===null&&s&4&&df(a),s&512&&pr(a,a.return);break;case 12:ks(e,a);break;case 31:ks(e,a),s&4&&bf(e,a);break;case 13:ks(e,a),s&4&&yf(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=tx.bind(null,a),jx(e,a))));break;case 22:if(s=a.memoizedState!==null||Ms,!s){t=t!==null&&t.memoizedState!==null||na,n=Ms;var i=na;Ms=s,(na=t)&&!i?Cs(e,a,(a.subtreeFlags&8772)!==0):ks(e,a),Ms=n,na=i}break;case 30:break;default:ks(e,a)}}function pf(e){var t=e.alternate;t!==null&&(e.alternate=null,pf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Zl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Lt=null,Pa=!1;function As(e,t,a){for(a=a.child;a!==null;)gf(e,t,a),a=a.sibling}function gf(e,t,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ca,a)}catch{}switch(a.tag){case 26:na||ss(a,t),As(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:na||ss(a,t);var s=Lt,n=Pa;rn(a.type)&&(Lt=a.stateNode,Pa=!1),As(e,t,a),Mr(a.stateNode),Lt=s,Pa=n;break;case 5:na||ss(a,t);case 6:if(s=Lt,n=Pa,Lt=null,As(e,t,a),Lt=s,Pa=n,Lt!==null)if(Pa)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(a.stateNode)}catch(i){pt(a,t,i)}else try{Lt.removeChild(a.stateNode)}catch(i){pt(a,t,i)}break;case 18:Lt!==null&&(Pa?(e=Lt,om(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Di(e)):om(Lt,a.stateNode));break;case 4:s=Lt,n=Pa,Lt=a.stateNode.containerInfo,Pa=!0,As(e,t,a),Lt=s,Pa=n;break;case 0:case 11:case 14:case 15:Is(2,a,t),na||Is(4,a,t),As(e,t,a);break;case 1:na||(ss(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&uf(a,t,s)),As(e,t,a);break;case 21:As(e,t,a);break;case 22:na=(s=na)||a.memoizedState!==null,As(e,t,a),na=s;break;default:As(e,t,a)}}function bf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Di(e)}catch(a){pt(t,t.return,a)}}}function yf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Di(e)}catch(a){pt(t,t.return,a)}}function Zh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new hf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new hf),t;default:throw Error(d(435,e.tag))}}function Dc(e,t){var a=Zh(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var n=ax.bind(null,e,s);s.then(n,n)}})}function Fa(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s],i=e,c=t,u=c;e:for(;u!==null;){switch(u.tag){case 27:if(rn(u.type)){Lt=u.stateNode,Pa=!1;break e}break;case 5:Lt=u.stateNode,Pa=!1;break e;case 3:case 4:Lt=u.stateNode.containerInfo,Pa=!0;break e}u=u.return}if(Lt===null)throw Error(d(160));gf(i,c,n),Lt=null,Pa=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vf(t,e),t=t.sibling}var $l=null;function vf(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Fa(t,e),Wa(e),s&4&&(Is(3,e,e.return),xr(3,e),Is(5,e,e.return));break;case 1:Fa(t,e),Wa(e),s&512&&(na||a===null||ss(a,a.return)),s&64&&Ms&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var n=$l;if(Fa(t,e),Wa(e),s&512&&(na||a===null||ss(a,a.return)),s&4){var i=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":i=n.getElementsByTagName("title")[0],(!i||i[zl]||i[_t]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(s),n.head.insertBefore(i,n.querySelector("head > title"))),Sa(i,s,a),i[_t]=e,wt(i),s=i;break e;case"link":var c=vm("link","href",n).get(s+(a.href||""));if(c){for(var u=0;u<c.length;u++)if(i=c[u],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){c.splice(u,1);break t}}i=n.createElement(s),Sa(i,s,a),n.head.appendChild(i);break;case"meta":if(c=vm("meta","content",n).get(s+(a.content||""))){for(u=0;u<c.length;u++)if(i=c[u],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){c.splice(u,1);break t}}i=n.createElement(s),Sa(i,s,a),n.head.appendChild(i);break;default:throw Error(d(468,s))}i[_t]=e,wt(i),s=i}e.stateNode=s}else jm(n,e.type,e.stateNode);else e.stateNode=ym(n,s,e.memoizedProps);else i!==s?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,s===null?jm(n,e.type,e.stateNode):ym(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&ju(e,e.memoizedProps,a.memoizedProps)}break;case 27:Fa(t,e),Wa(e),s&512&&(na||a===null||ss(a,a.return)),a!==null&&s&4&&ju(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Fa(t,e),Wa(e),s&512&&(na||a===null||ss(a,a.return)),e.flags&32){n=e.stateNode;try{Ca(n,"")}catch(xe){pt(e,e.return,xe)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,ju(e,n,a!==null?a.memoizedProps:n)),s&1024&&(Su=!0);break;case 6:if(Fa(t,e),Wa(e),s&4){if(e.stateNode===null)throw Error(d(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(xe){pt(e,e.return,xe)}}break;case 3:if(Jc=null,n=$l,$l=Zc(t.containerInfo),Fa(t,e),$l=n,Wa(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Di(t.containerInfo)}catch(xe){pt(e,e.return,xe)}Su&&(Su=!1,jf(e));break;case 4:s=$l,$l=Zc(e.stateNode.containerInfo),Fa(t,e),Wa(e),$l=s;break;case 12:Fa(t,e),Wa(e);break;case 31:Fa(t,e),Wa(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Dc(e,s)));break;case 13:Fa(t,e),Wa(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bc=ie()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Dc(e,s)));break;case 22:n=e.memoizedState!==null;var p=a!==null&&a.memoizedState!==null,z=Ms,V=na;if(Ms=z||n,na=V||p,Fa(t,e),na=V,Ms=z,Wa(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||p||Ms||na||Fn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){p=a=t;try{if(i=p.stateNode,n)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{u=p.stateNode;var P=p.memoizedProps.style,O=P!=null&&P.hasOwnProperty("display")?P.display:null;u.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(xe){pt(p,p.return,xe)}}}else if(t.tag===6){if(a===null){p=t;try{p.stateNode.nodeValue=n?"":p.memoizedProps}catch(xe){pt(p,p.return,xe)}}}else if(t.tag===18){if(a===null){p=t;try{var $=p.stateNode;n?um($,!0):um(p.stateNode,!1)}catch(xe){pt(p,p.return,xe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Dc(e,a))));break;case 19:Fa(t,e),Wa(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Dc(e,s)));break;case 30:break;case 21:break;default:Fa(t,e),Wa(e)}}function Wa(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(ff(s)){a=s;break}s=s.return}if(a==null)throw Error(d(160));switch(a.tag){case 27:var n=a.stateNode,i=Nu(e);zc(e,i,n);break;case 5:var c=a.stateNode;a.flags&32&&(Ca(c,""),a.flags&=-33);var u=Nu(e);zc(e,u,c);break;case 3:case 4:var p=a.stateNode.containerInfo,z=Nu(e);wu(e,z,p);break;default:throw Error(d(161))}}catch(V){pt(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;jf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ks(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)xf(e,t.alternate,t),t=t.sibling}function Fn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Is(4,t,t.return),Fn(t);break;case 1:ss(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&uf(t,t.return,a),Fn(t);break;case 27:Mr(t.stateNode);case 26:case 5:ss(t,t.return),Fn(t);break;case 22:t.memoizedState===null&&Fn(t);break;case 30:Fn(t);break;default:Fn(t)}e=e.sibling}}function Cs(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:Cs(n,i,a),xr(4,i);break;case 1:if(Cs(n,i,a),s=i,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(z){pt(s,s.return,z)}if(s=i,n=s.updateQueue,n!==null){var u=s.stateNode;try{var p=n.shared.hiddenCallbacks;if(p!==null)for(n.shared.hiddenCallbacks=null,n=0;n<p.length;n++)Fd(p[n],u)}catch(z){pt(s,s.return,z)}}a&&c&64&&of(i),pr(i,i.return);break;case 27:mf(i);case 26:case 5:Cs(n,i,a),a&&s===null&&c&4&&df(i),pr(i,i.return);break;case 12:Cs(n,i,a);break;case 31:Cs(n,i,a),a&&c&4&&bf(n,i);break;case 13:Cs(n,i,a),a&&c&4&&yf(n,i);break;case 22:i.memoizedState===null&&Cs(n,i,a),pr(i,i.return);break;case 30:break;default:Cs(n,i,a)}t=t.sibling}}function Mu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ar(a))}function Au(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ar(e))}function Yl(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nf(e,t,a,s),t=t.sibling}function Nf(e,t,a,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Yl(e,t,a,s),n&2048&&xr(9,t);break;case 1:Yl(e,t,a,s);break;case 3:Yl(e,t,a,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ar(e)));break;case 12:if(n&2048){Yl(e,t,a,s),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,u=i.onPostCommit;typeof u=="function"&&u(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){pt(t,t.return,p)}}else Yl(e,t,a,s);break;case 31:Yl(e,t,a,s);break;case 13:Yl(e,t,a,s);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?Yl(e,t,a,s):gr(e,t):i._visibility&2?Yl(e,t,a,s):(i._visibility|=2,Ni(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Mu(c,t);break;case 24:Yl(e,t,a,s),n&2048&&Au(t.alternate,t);break;default:Yl(e,t,a,s)}}function Ni(e,t,a,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,c=t,u=a,p=s,z=c.flags;switch(c.tag){case 0:case 11:case 15:Ni(i,c,u,p,n),xr(8,c);break;case 23:break;case 22:var V=c.stateNode;c.memoizedState!==null?V._visibility&2?Ni(i,c,u,p,n):gr(i,c):(V._visibility|=2,Ni(i,c,u,p,n)),n&&z&2048&&Mu(c.alternate,c);break;case 24:Ni(i,c,u,p,n),n&&z&2048&&Au(c.alternate,c);break;default:Ni(i,c,u,p,n)}t=t.sibling}}function gr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,n=s.flags;switch(s.tag){case 22:gr(a,s),n&2048&&Mu(s.alternate,s);break;case 24:gr(a,s),n&2048&&Au(s.alternate,s);break;default:gr(a,s)}t=t.sibling}}var br=8192;function wi(e,t,a){if(e.subtreeFlags&br)for(e=e.child;e!==null;)wf(e,t,a),e=e.sibling}function wf(e,t,a){switch(e.tag){case 26:wi(e,t,a),e.flags&br&&e.memoizedState!==null&&Dx(a,$l,e.memoizedState,e.memoizedProps);break;case 5:wi(e,t,a);break;case 3:case 4:var s=$l;$l=Zc(e.stateNode.containerInfo),wi(e,t,a),$l=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=br,br=16777216,wi(e,t,a),br=s):wi(e,t,a));break;default:wi(e,t,a)}}function Sf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function yr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];xa=s,Af(s,e)}Sf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mf(e),e=e.sibling}function Mf(e){switch(e.tag){case 0:case 11:case 15:yr(e),e.flags&2048&&Is(9,e,e.return);break;case 3:yr(e);break;case 12:yr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rc(e)):yr(e);break;default:yr(e)}}function Rc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];xa=s,Af(s,e)}Sf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Is(8,t,t.return),Rc(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(t));break;default:Rc(t)}e=e.sibling}}function Af(e,t){for(;xa!==null;){var a=xa;switch(a.tag){case 0:case 11:case 15:Is(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ar(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,xa=s;else e:for(a=e;xa!==null;){s=xa;var n=s.sibling,i=s.return;if(pf(s),s===a){xa=null;break e}if(n!==null){n.return=i,xa=n;break e}xa=i}}}var Kh={getCacheForType:function(e){var t=Na(aa),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Na(aa).controller.signal}},Jh=typeof WeakMap=="function"?WeakMap:Map,ut=0,At=null,Xe=null,Ze=0,xt=0,ol=null,en=!1,Si=!1,ku=!1,Ts=0,Vt=0,tn=0,Wn=0,Cu=0,ul=0,Mi=0,vr=null,Ia=null,Tu=!1,Bc=0,kf=0,Oc=1/0,Uc=null,an=null,ia=0,ln=null,Ai=null,Es=0,Eu=0,_u=null,Cf=null,jr=0,zu=null;function dl(){return(ut&2)!==0&&Ze!==0?Ze&-Ze:D.T!==null?Hu():Ds()}function Tf(){if(ul===0)if((Ze&536870912)===0||et){var e=dt;dt<<=1,(dt&3932160)===0&&(dt=262144),ul=e}else ul=536870912;return e=rl.current,e!==null&&(e.flags|=32),ul}function el(e,t,a){(e===At&&(xt===2||xt===9)||e.cancelPendingCommit!==null)&&(ki(e,0),sn(e,Ze,ul,!1)),ea(e,a),((ut&2)===0||e!==At)&&(e===At&&((ut&2)===0&&(Wn|=a),Vt===4&&sn(e,Ze,ul,!1)),ns(e))}function Ef(e,t,a){if((ut&6)!==0)throw Error(d(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||bt(e,t),n=s?Wh(e,t):Ru(e,t,!0),i=s;do{if(n===0){Si&&!s&&sn(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!Ph(a)){n=Ru(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var u=e;n=vr;var p=u.current.memoizedState.isDehydrated;if(p&&(ki(u,c).flags|=256),c=Ru(u,c,!1),c!==2){if(ku&&!p){u.errorRecoveryDisabledLanes|=i,Wn|=i,n=4;break e}i=Ia,Ia=n,i!==null&&(Ia===null?Ia=i:Ia.push.apply(Ia,i))}n=c}if(i=!1,n!==2)continue}}if(n===1){ki(e,0),sn(e,t,0,!0);break}e:{switch(s=e,i=n,i){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:sn(s,t,ul,!en);break e;case 2:Ia=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(n=Bc+300-ie(),10<n)){if(sn(s,t,ul,!en),mt(s,0,!0)!==0)break e;Es=t,s.timeoutHandle=rm(_f.bind(null,s,a,Ia,Uc,Tu,t,ul,Wn,Mi,en,i,"Throttled",-0,0),n);break e}_f(s,a,Ia,Uc,Tu,t,ul,Wn,Mi,en,i,null,-0,0)}}break}while(!0);ns(e)}function _f(e,t,a,s,n,i,c,u,p,z,V,P,O,$){if(e.timeoutHandle=-1,P=t.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:W},wf(t,i,P);var xe=(i&62914560)===i?Bc-ie():(i&4194048)===i?kf-ie():0;if(xe=Rx(P,xe),xe!==null){Es=i,e.cancelPendingCommit=xe(qf.bind(null,e,t,i,a,s,n,c,u,p,V,P,null,O,$)),sn(e,i,c,!z);return}}qf(e,t,i,a,s,n,c,u,p)}function Ph(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var n=a[s],i=n.getSnapshot;n=n.value;try{if(!ma(i(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sn(e,t,a,s){t&=~Cu,t&=~Wn,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var i=31-F(n),c=1<<i;s[i]=-1,n&=~c}a!==0&&cs(e,a,t)}function Hc(){return(ut&6)===0?(Nr(0),!1):!0}function Du(){if(Xe!==null){if(xt===0)var e=Xe.return;else e=Xe,ys=Yn=null,Jo(e),gi=null,sr=0,e=Xe;for(;e!==null;)cf(e.alternate,e),e=e.return;Xe=null}}function ki(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,px(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Es=0,Du(),At=e,Xe=a=Dt(e.current,null),Ze=t,xt=0,ol=null,en=!1,Si=bt(e,t),ku=!1,Mi=ul=Cu=Wn=tn=Vt=0,Ia=vr=null,Tu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-F(s),i=1<<n;t|=e[n],s&=~i}return Ts=t,ts(),a}function zf(e,t){Ue=null,D.H=fr,t===pi||t===mc?(t=Zd(),xt=3):t===Uo?(t=Zd(),xt=4):xt=t===du?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ol=t,Xe===null&&(Vt=1,kc(e,wl(t,e.current)))}function Df(){var e=rl.current;return e===null?!0:(Ze&4194048)===Ze?kl===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?e===kl:!1}function Rf(){var e=D.H;return D.H=fr,e===null?fr:e}function Bf(){var e=D.A;return D.A=Kh,e}function qc(){Vt=4,en||(Ze&4194048)!==Ze&&rl.current!==null||(Si=!0),(tn&134217727)===0&&(Wn&134217727)===0||At===null||sn(At,Ze,ul,!1)}function Ru(e,t,a){var s=ut;ut|=2;var n=Rf(),i=Bf();(At!==e||Ze!==t)&&(Uc=null,ki(e,t)),t=!1;var c=Vt;e:do try{if(xt!==0&&Xe!==null){var u=Xe,p=ol;switch(xt){case 8:Du(),c=6;break e;case 3:case 2:case 9:case 6:rl.current===null&&(t=!0);var z=xt;if(xt=0,ol=null,Ci(e,u,p,z),a&&Si){c=0;break e}break;default:z=xt,xt=0,ol=null,Ci(e,u,p,z)}}Fh(),c=Vt;break}catch(V){zf(e,V)}while(!0);return t&&e.shellSuspendCounter++,ys=Yn=null,ut=s,D.H=n,D.A=i,Xe===null&&(At=null,Ze=0,ts()),c}function Fh(){for(;Xe!==null;)Of(Xe)}function Wh(e,t){var a=ut;ut|=2;var s=Rf(),n=Bf();At!==e||Ze!==t?(Uc=null,Oc=ie()+500,ki(e,t)):Si=bt(e,t);e:do try{if(xt!==0&&Xe!==null){t=Xe;var i=ol;t:switch(xt){case 1:xt=0,ol=null,Ci(e,t,i,1);break;case 2:case 9:if(Vd(i)){xt=0,ol=null,Uf(t);break}t=function(){xt!==2&&xt!==9||At!==e||(xt=7),ns(e)},i.then(t,t);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:Vd(i)?(xt=0,ol=null,Uf(t)):(xt=0,ol=null,Ci(e,t,i,7));break;case 5:var c=null;switch(Xe.tag){case 26:c=Xe.memoizedState;case 5:case 27:var u=Xe;if(c?Nm(c):u.stateNode.complete){xt=0,ol=null;var p=u.sibling;if(p!==null)Xe=p;else{var z=u.return;z!==null?(Xe=z,Lc(z)):Xe=null}break t}}xt=0,ol=null,Ci(e,t,i,5);break;case 6:xt=0,ol=null,Ci(e,t,i,6);break;case 8:Du(),Vt=6;break e;default:throw Error(d(462))}}Ih();break}catch(V){zf(e,V)}while(!0);return ys=Yn=null,D.H=s,D.A=n,ut=a,Xe!==null?0:(At=null,Ze=0,ts(),Vt)}function Ih(){for(;Xe!==null&&!Gt();)Of(Xe)}function Of(e){var t=nf(e.alternate,e,Ts);e.memoizedProps=e.pendingProps,t===null?Lc(e):Xe=t}function Uf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=I0(a,t,t.pendingProps,t.type,void 0,Ze);break;case 11:t=I0(a,t,t.pendingProps,t.type.render,t.ref,Ze);break;case 5:Jo(t);default:cf(a,t),t=Xe=Rd(t,Ts),t=nf(a,t,Ts)}e.memoizedProps=e.pendingProps,t===null?Lc(e):Xe=t}function Ci(e,t,a,s){ys=Yn=null,Jo(t),gi=null,sr=0;var n=t.return;try{if(Gh(e,n,t,a,Ze)){Vt=1,kc(e,wl(a,e.current)),Xe=null;return}}catch(i){if(n!==null)throw Xe=n,i;Vt=1,kc(e,wl(a,e.current)),Xe=null;return}t.flags&32768?(et||s===1?e=!0:Si||(Ze&536870912)!==0?e=!1:(en=e=!0,(s===2||s===9||s===3||s===6)&&(s=rl.current,s!==null&&s.tag===13&&(s.flags|=16384))),Hf(t,e)):Lc(t)}function Lc(e){var t=e;do{if((t.flags&32768)!==0){Hf(t,en);return}e=t.return;var a=Xh(t.alternate,t,Ts);if(a!==null){Xe=a;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);Vt===0&&(Vt=5)}function Hf(e,t){do{var a=Vh(e.alternate,e);if(a!==null){a.flags&=32767,Xe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Xe=e;return}Xe=e=a}while(e!==null);Vt=6,Xe=null}function qf(e,t,a,s,n,i,c,u,p){e.cancelPendingCommit=null;do Gc();while(ia!==0);if((ut&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(i=t.lanes|t.childLanes,i|=vl,ai(e,a,i,c,u,p),e===At&&(Xe=At=null,Ze=0),Ai=t,ln=e,Es=a,Eu=i,_u=n,Cf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,lx(Zt,function(){return Xf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=D.T,D.T=null,n=ee.p,ee.p=2,c=ut,ut|=4;try{Qh(e,t,a)}finally{ut=c,ee.p=n,D.T=s}}ia=1,Lf(),Gf(),$f()}}function Lf(){if(ia===1){ia=0;var e=ln,t=Ai,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var s=ee.p;ee.p=2;var n=ut;ut|=4;try{vf(t,e);var i=Qu,c=Fi(e.containerInfo),u=i.focusedElem,p=i.selectionRange;if(c!==u&&u&&u.ownerDocument&&So(u.ownerDocument.documentElement,u)){if(p!==null&&ri(u)){var z=p.start,V=p.end;if(V===void 0&&(V=z),"selectionStart"in u)u.selectionStart=z,u.selectionEnd=Math.min(V,u.value.length);else{var P=u.ownerDocument||document,O=P&&P.defaultView||window;if(O.getSelection){var $=O.getSelection(),xe=u.textContent.length,Ee=Math.min(p.start,xe),Nt=p.end===void 0?Ee:Math.min(p.end,xe);!$.extend&&Ee>Nt&&(c=Nt,Nt=Ee,Ee=c);var k=Pi(u,Ee),N=Pi(u,Nt);if(k&&N&&($.rangeCount!==1||$.anchorNode!==k.node||$.anchorOffset!==k.offset||$.focusNode!==N.node||$.focusOffset!==N.offset)){var _=P.createRange();_.setStart(k.node,k.offset),$.removeAllRanges(),Ee>Nt?($.addRange(_),$.extend(N.node,N.offset)):(_.setEnd(N.node,N.offset),$.addRange(_))}}}}for(P=[],$=u;$=$.parentNode;)$.nodeType===1&&P.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<P.length;u++){var K=P[u];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ic=!!Vu,Qu=Vu=null}finally{ut=n,ee.p=s,D.T=a}}e.current=t,ia=2}}function Gf(){if(ia===2){ia=0;var e=ln,t=Ai,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var s=ee.p;ee.p=2;var n=ut;ut|=4;try{xf(e,t.alternate,t)}finally{ut=n,ee.p=s,D.T=a}}ia=3}}function $f(){if(ia===4||ia===3){ia=0,Et();var e=ln,t=Ai,a=Es,s=Cf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ia=5:(ia=0,Ai=ln=null,Yf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(an=null),os(a),t=t.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ca,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=D.T,n=ee.p,ee.p=2,D.T=null;try{for(var i=e.onRecoverableError,c=0;c<s.length;c++){var u=s[c];i(u.value,{componentStack:u.stack})}}finally{D.T=t,ee.p=n}}(Es&3)!==0&&Gc(),ns(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===zu?jr++:(jr=0,zu=e):jr=0,Nr(0)}}function Yf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ar(t)))}function Gc(){return Lf(),Gf(),$f(),Xf()}function Xf(){if(ia!==5)return!1;var e=ln,t=Eu;Eu=0;var a=os(Es),s=D.T,n=ee.p;try{ee.p=32>a?32:a,D.T=null,a=_u,_u=null;var i=ln,c=Es;if(ia=0,Ai=ln=null,Es=0,(ut&6)!==0)throw Error(d(331));var u=ut;if(ut|=4,Mf(i.current),Nf(i,i.current,c,a),ut=u,Nr(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ca,i)}catch{}return!0}finally{ee.p=n,D.T=s,Yf(e,t)}}function Vf(e,t,a){t=wl(a,t),t=uu(e.stateNode,t,2),e=Ps(e,t,2),e!==null&&(ea(e,2),ns(e))}function pt(e,t,a){if(e.tag===3)Vf(e,e,a);else for(;t!==null;){if(t.tag===3){Vf(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(an===null||!an.has(s))){e=wl(a,e),a=V0(2),s=Ps(t,a,2),s!==null&&(Q0(a,s,t,e),ea(s,2),ns(s));break}}t=t.return}}function Bu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Jh;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(a)||(ku=!0,n.add(a),e=ex.bind(null,e,t,a),t.then(e,e))}function ex(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,At===e&&(Ze&a)===a&&(Vt===4||Vt===3&&(Ze&62914560)===Ze&&300>ie()-Bc?(ut&2)===0&&ki(e,0):Cu|=a,Mi===Ze&&(Mi=0)),ns(e)}function Qf(e,t){t===0&&(t=$a()),e=il(e,t),e!==null&&(ea(e,t),ns(e))}function tx(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Qf(e,a)}function ax(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(d(314))}s!==null&&s.delete(t),Qf(e,a)}function lx(e,t){return Aa(e,t)}var $c=null,Ti=null,Ou=!1,Yc=!1,Uu=!1,nn=0;function ns(e){e!==Ti&&e.next===null&&(Ti===null?$c=Ti=e:Ti=Ti.next=e),Yc=!0,Ou||(Ou=!0,nx())}function Nr(e,t){if(!Uu&&Yc){Uu=!0;do for(var a=!1,s=$c;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var i=0;else{var c=s.suspendedLanes,u=s.pingedLanes;i=(1<<31-F(42|e)+1)-1,i&=n&~(c&~u),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Pf(s,i))}else i=Ze,i=mt(s,s===At?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(i&3)===0||bt(s,i)||(a=!0,Pf(s,i));s=s.next}while(a);Uu=!1}}function sx(){Zf()}function Zf(){Yc=Ou=!1;var e=0;nn!==0&&xx()&&(e=nn);for(var t=ie(),a=null,s=$c;s!==null;){var n=s.next,i=Kf(s,t);i===0?(s.next=null,a===null?$c=n:a.next=n,n===null&&(Ti=a)):(a=s,(e!==0||(i&3)!==0)&&(Yc=!0)),s=n}ia!==0&&ia!==5||Nr(e),nn!==0&&(nn=0)}function Kf(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-F(i),u=1<<c,p=n[c];p===-1?((u&a)===0||(u&s)!==0)&&(n[c]=$t(u,t)):p<=t&&(e.expiredLanes|=u),i&=~u}if(t=At,a=Ze,a=mt(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(xt===2||xt===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&We(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||bt(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&We(s),os(a)){case 2:case 8:a=Ql;break;case 32:a=Zt;break;case 268435456:a=La;break;default:a=Zt}return s=Jf.bind(null,e),a=Aa(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&We(s),e.callbackPriority=2,e.callbackNode=null,2}function Jf(e,t){if(ia!==0&&ia!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Gc()&&e.callbackNode!==a)return null;var s=Ze;return s=mt(e,e===At?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Ef(e,s,t),Kf(e,ie()),e.callbackNode!=null&&e.callbackNode===a?Jf.bind(null,e):null)}function Pf(e,t){if(Gc())return null;Ef(e,t,!0)}function nx(){gx(function(){(ut&6)!==0?Aa(st,sx):Zf()})}function Hu(){if(nn===0){var e=hi;e===0&&(e=Ie,Ie<<=1,(Ie&261888)===0&&(Ie=256)),nn=e}return nn}function Ff(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:J(""+e)}function Wf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ix(e,t,a,s,n){if(t==="submit"&&a&&a.stateNode===n){var i=Ff((n[Kt]||null).action),c=s.submitter;c&&(t=(t=c[Kt]||null)?Ff(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var u=new Ol("action","action",null,s,n);e.push({event:u,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(nn!==0){var p=c?Wf(n,c):new FormData(n);su(a,{pending:!0,data:p,method:n.method,action:i},null,p)}}else typeof i=="function"&&(u.preventDefault(),p=c?Wf(n,c):new FormData(n),su(a,{pending:!0,data:p,method:n.method,action:i},i,p))},currentTarget:n}]})}}for(var qu=0;qu<we.length;qu++){var Lu=we[qu],rx=Lu.toLowerCase(),cx=Lu[0].toUpperCase()+Lu.slice(1);zt(rx,"on"+cx)}zt(Hn,"onAnimationEnd"),zt(sc,"onAnimationIteration"),zt(nc,"onAnimationStart"),zt("dblclick","onDoubleClick"),zt("focusin","onFocus"),zt("focusout","onBlur"),zt(Ka,"onTransitionRun"),zt(ic,"onTransitionStart"),zt(Ys,"onTransitionCancel"),zt(rc,"onTransitionEnd"),Dl("onMouseEnter",["mouseout","mouseover"]),Dl("onMouseLeave",["mouseout","mouseover"]),Dl("onPointerEnter",["pointerout","pointerover"]),Dl("onPointerLeave",["pointerout","pointerover"]),Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ox=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wr));function If(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],n=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var c=s.length-1;0<=c;c--){var u=s[c],p=u.instance,z=u.currentTarget;if(u=u.listener,p!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=z;try{i(n)}catch(V){Ra(V)}n.currentTarget=null,i=p}else for(c=0;c<s.length;c++){if(u=s[c],p=u.instance,z=u.currentTarget,u=u.listener,p!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=z;try{i(n)}catch(V){Ra(V)}n.currentTarget=null,i=p}}}}function Ve(e,t){var a=t[ua];a===void 0&&(a=t[ua]=new Set);var s=e+"__bubble";a.has(s)||(em(t,e,2,!1),a.add(s))}function Gu(e,t,a){var s=0;t&&(s|=4),em(a,e,s,t)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[Xc]){e[Xc]=!0,pl.forEach(function(a){a!=="selectionchange"&&(ox.has(a)||Gu(a,!1,e),Gu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xc]||(t[Xc]=!0,Gu("selectionchange",!1,t))}}function em(e,t,a,s){switch(Tm(t)){case 2:var n=Ux;break;case 8:n=Hx;break;default:n=ld}a=n.bind(null,t,a,e),n=void 0,!Jt||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Yu(e,t,a,s,n){var i=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var c=s.tag;if(c===3||c===4){var u=s.stateNode.containerInfo;if(u===n)break;if(c===4)for(c=s.return;c!==null;){var p=c.tag;if((p===3||p===4)&&c.stateNode.containerInfo===n)return;c=c.return}for(;u!==null;){if(c=sl(u),c===null)return;if(p=c.tag,p===5||p===6||p===26||p===27){s=i=c;continue e}u=u.parentNode}}s=s.return}Ct(function(){var z=i,V=le(a),P=[];e:{var O=oe.get(e);if(O!==void 0){var $=Ol,xe=e;switch(e){case"keypress":if($e(a)===0)break e;case"keydown":case"keyup":$=Vr;break;case"focusin":xe="focus",$=bl;break;case"focusout":xe="blur",$=bl;break;case"beforeblur":case"afterblur":$=bl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=qr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Us;break;case Hn:case sc:case nc:$=yl;break;case rc:$=za;break;case"scroll":case"scrollend":$=Os;break;case"wheel":$=ii;break;case"copy":case"cut":case"paste":$=Wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=$i;break;case"toggle":case"beforetoggle":$=Yi}var Ee=(t&4)!==0,Nt=!Ee&&(e==="scroll"||e==="scrollend"),k=Ee?O!==null?O+"Capture":null:O;Ee=[];for(var N=z,_;N!==null;){var K=N;if(_=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||_===null||k===null||(K=St(N,k),K!=null&&Ee.push(Sr(N,K,_))),Nt)break;N=N.return}0<Ee.length&&(O=new $(O,xe,null,a,V),P.push({event:O,listeners:Ee}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",O&&a!==ne&&(xe=a.relatedTarget||a.fromElement)&&(sl(xe)||xe[oa]))break e;if(($||O)&&(O=V.window===V?V:(O=V.ownerDocument)?O.defaultView||O.parentWindow:window,$?(xe=a.relatedTarget||a.toElement,$=z,xe=xe?sl(xe):null,xe!==null&&(Nt=v(xe),Ee=xe.tag,xe!==Nt||Ee!==5&&Ee!==27&&Ee!==6)&&(xe=null)):($=null,xe=z),$!==xe)){if(Ee=qr,K="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Ee=$i,K="onPointerLeave",k="onPointerEnter",N="pointer"),Nt=$==null?O:xl($),_=xe==null?O:xl(xe),O=new Ee(K,N+"leave",$,a,V),O.target=Nt,O.relatedTarget=_,K=null,sl(V)===z&&(Ee=new Ee(k,N+"enter",xe,a,V),Ee.target=_,Ee.relatedTarget=Nt,K=Ee),Nt=K,$&&xe)t:{for(Ee=ux,k=$,N=xe,_=0,K=k;K;K=Ee(K))_++;K=0;for(var Se=N;Se;Se=Ee(Se))K++;for(;0<_-K;)k=Ee(k),_--;for(;0<K-_;)N=Ee(N),K--;for(;_--;){if(k===N||N!==null&&k===N.alternate){Ee=k;break t}k=Ee(k),N=Ee(N)}Ee=null}else Ee=null;$!==null&&tm(P,O,$,Ee,!1),xe!==null&&Nt!==null&&tm(P,Nt,xe,Ee,!0)}}e:{if(O=z?xl(z):window,$=O.nodeName&&O.nodeName.toLowerCase(),$==="select"||$==="input"&&O.type==="file")var rt=zn;else if(Vi(O))if(Dn)rt=Bn;else{rt=Ji;var ye=Ki}else $=O.nodeName,!$||$.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?z&&j(z.elementType)&&(rt=zn):rt=lc;if(rt&&(rt=rt(e,z))){ec(P,rt,a,V);break e}ye&&ye(e,O,z),e==="focusout"&&z&&O.type==="number"&&z.memoizedProps.value!=null&&An(O,"number",O.value)}switch(ye=z?xl(z):window,e){case"focusin":(Vi(ye)||ye.contentEditable==="true")&&(ps=ye,Wi=z,On=null);break;case"focusout":On=Wi=ps=null;break;case"mousedown":Ii=!0;break;case"contextmenu":case"mouseup":case"dragend":Ii=!1,Un(P,a,V);break;case"selectionchange":if(Ll)break;case"keydown":case"keyup":Un(P,a,V)}var Le;if(Hs)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else it?Tn(e,a)&&(Ke="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ke="onCompositionStart");Ke&&(ql&&a.locale!=="ko"&&(it||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&it&&(Le=Te()):(yt=V,ve="value"in yt?yt.value:yt.textContent,it=!0)),ye=Vc(z,Ke),0<ye.length&&(Ke=new Hl(Ke,e,null,a,V),P.push({event:Ke,listeners:ye}),Le?Ke.data=Le:(Le=En(a),Le!==null&&(Ke.data=Le)))),(Le=Wr?fa(e,a):Ta(e,a))&&(Ke=Vc(z,"onBeforeInput"),0<Ke.length&&(ye=new Hl("onBeforeInput","beforeinput",null,a,V),P.push({event:ye,listeners:Ke}),ye.data=Le)),ix(P,e,z,a,V)}If(P,t)})}function Sr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Vc(e,t){for(var a=t+"Capture",s=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=St(e,a),n!=null&&s.unshift(Sr(e,n,i)),n=St(e,t),n!=null&&s.push(Sr(e,n,i))),e.tag===3)return s;e=e.return}return[]}function ux(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function tm(e,t,a,s,n){for(var i=t._reactName,c=[];a!==null&&a!==s;){var u=a,p=u.alternate,z=u.stateNode;if(u=u.tag,p!==null&&p===s)break;u!==5&&u!==26&&u!==27||z===null||(p=z,n?(z=St(a,i),z!=null&&c.unshift(Sr(a,z,p))):n||(z=St(a,i),z!=null&&c.push(Sr(a,z,p)))),a=a.return}c.length!==0&&e.push({event:t,listeners:c})}var dx=/\r\n?/g,fx=/\u0000|\uFFFD/g;function am(e){return(typeof e=="string"?e:""+e).replace(dx,`
`).replace(fx,"")}function lm(e,t){return t=am(t),am(e)===t}function jt(e,t,a,s,n,i){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ca(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ca(e,""+s);break;case"className":fs(e,"class",s);break;case"tabIndex":fs(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":fs(e,a,s);break;case"style":y(e,s,i);break;case"data":if(t!=="object"){fs(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=J(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&jt(e,t,"name",n.name,n,null),jt(e,t,"formEncType",n.formEncType,n,null),jt(e,t,"formMethod",n.formMethod,n,null),jt(e,t,"formTarget",n.formTarget,n,null)):(jt(e,t,"encType",n.encType,n,null),jt(e,t,"method",n.method,n,null),jt(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=J(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=W);break;case"onScroll":s!=null&&Ve("scroll",e);break;case"onScrollEnd":s!=null&&Ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(d(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=J(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Ve("beforetoggle",e),Ve("toggle",e),Jl(e,"popover",s);break;case"xlinkActuate":Va(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Va(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Va(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Va(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Va(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Va(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Va(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Va(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Va(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Jl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=q.get(a)||a,Jl(e,a,s))}}function Xu(e,t,a,s,n,i){switch(a){case"style":y(e,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(d(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Ca(e,s):(typeof s=="number"||typeof s=="bigint")&&Ca(e,""+s);break;case"onScroll":s!=null&&Ve("scroll",e);break;case"onScrollEnd":s!=null&&Ve("scrollend",e);break;case"onClick":s!=null&&(e.onclick=W);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),i=e[Kt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof s=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,n);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Jl(e,a,s)}}}function Sa(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",e),Ve("load",e);var s=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];if(c!=null)switch(i){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:jt(e,t,i,c,a,null)}}n&&jt(e,t,"srcSet",a.srcSet,a,null),s&&jt(e,t,"src",a.src,a,null);return;case"input":Ve("invalid",e);var u=i=c=n=null,p=null,z=null;for(s in a)if(a.hasOwnProperty(s)){var V=a[s];if(V!=null)switch(s){case"name":n=V;break;case"type":c=V;break;case"checked":p=V;break;case"defaultChecked":z=V;break;case"value":i=V;break;case"defaultValue":u=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(d(137,t));break;default:jt(e,t,s,V,a,null)}}Mn(e,i,u,p,z,c,n,!1);return;case"select":Ve("invalid",e),s=c=i=null;for(n in a)if(a.hasOwnProperty(n)&&(u=a[n],u!=null))switch(n){case"value":i=u;break;case"defaultValue":c=u;break;case"multiple":s=u;default:jt(e,t,n,u,a,null)}t=i,a=c,e.multiple=!!s,t!=null?Rl(e,!!s,t,!1):a!=null&&Rl(e,!!s,a,!0);return;case"textarea":Ve("invalid",e),i=n=s=null;for(c in a)if(a.hasOwnProperty(c)&&(u=a[c],u!=null))switch(c){case"value":s=u;break;case"defaultValue":n=u;break;case"children":i=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(d(91));break;default:jt(e,t,c,u,a,null)}kn(e,s,n,i);return;case"option":for(p in a)if(a.hasOwnProperty(p)&&(s=a[p],s!=null))switch(p){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:jt(e,t,p,s,a,null)}return;case"dialog":Ve("beforetoggle",e),Ve("toggle",e),Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":Ve("load",e);break;case"video":case"audio":for(s=0;s<wr.length;s++)Ve(wr[s],e);break;case"image":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"embed":case"source":case"link":Ve("error",e),Ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(s=a[z],s!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:jt(e,t,z,s,a,null)}return;default:if(j(t)){for(V in a)a.hasOwnProperty(V)&&(s=a[V],s!==void 0&&Xu(e,t,V,s,a,void 0));return}}for(u in a)a.hasOwnProperty(u)&&(s=a[u],s!=null&&jt(e,t,u,s,a,null))}function mx(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,c=null,u=null,p=null,z=null,V=null;for($ in a){var P=a[$];if(a.hasOwnProperty($)&&P!=null)switch($){case"checked":break;case"value":break;case"defaultValue":p=P;default:s.hasOwnProperty($)||jt(e,t,$,null,s,P)}}for(var O in s){var $=s[O];if(P=a[O],s.hasOwnProperty(O)&&($!=null||P!=null))switch(O){case"type":i=$;break;case"name":n=$;break;case"checked":z=$;break;case"defaultChecked":V=$;break;case"value":c=$;break;case"defaultValue":u=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(d(137,t));break;default:$!==P&&jt(e,t,O,$,s,P)}}Sn(e,c,u,p,z,V,i,n);return;case"select":$=c=u=O=null;for(i in a)if(p=a[i],a.hasOwnProperty(i)&&p!=null)switch(i){case"value":break;case"multiple":$=p;default:s.hasOwnProperty(i)||jt(e,t,i,null,s,p)}for(n in s)if(i=s[n],p=a[n],s.hasOwnProperty(n)&&(i!=null||p!=null))switch(n){case"value":O=i;break;case"defaultValue":u=i;break;case"multiple":c=i;default:i!==p&&jt(e,t,n,i,s,p)}t=u,a=c,s=$,O!=null?Rl(e,!!a,O,!1):!!s!=!!a&&(t!=null?Rl(e,!!a,t,!0):Rl(e,!!a,a?[]:"",!1));return;case"textarea":$=O=null;for(u in a)if(n=a[u],a.hasOwnProperty(u)&&n!=null&&!s.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:jt(e,t,u,null,s,n)}for(c in s)if(n=s[c],i=a[c],s.hasOwnProperty(c)&&(n!=null||i!=null))switch(c){case"value":O=n;break;case"defaultValue":$=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(d(91));break;default:n!==i&&jt(e,t,c,n,s,i)}Pl(e,O,$);return;case"option":for(var xe in a)if(O=a[xe],a.hasOwnProperty(xe)&&O!=null&&!s.hasOwnProperty(xe))switch(xe){case"selected":e.selected=!1;break;default:jt(e,t,xe,null,s,O)}for(p in s)if(O=s[p],$=a[p],s.hasOwnProperty(p)&&O!==$&&(O!=null||$!=null))switch(p){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:jt(e,t,p,O,s,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)O=a[Ee],a.hasOwnProperty(Ee)&&O!=null&&!s.hasOwnProperty(Ee)&&jt(e,t,Ee,null,s,O);for(z in s)if(O=s[z],$=a[z],s.hasOwnProperty(z)&&O!==$&&(O!=null||$!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(d(137,t));break;default:jt(e,t,z,O,s,$)}return;default:if(j(t)){for(var Nt in a)O=a[Nt],a.hasOwnProperty(Nt)&&O!==void 0&&!s.hasOwnProperty(Nt)&&Xu(e,t,Nt,void 0,s,O);for(V in s)O=s[V],$=a[V],!s.hasOwnProperty(V)||O===$||O===void 0&&$===void 0||Xu(e,t,V,O,s,$);return}}for(var k in a)O=a[k],a.hasOwnProperty(k)&&O!=null&&!s.hasOwnProperty(k)&&jt(e,t,k,null,s,O);for(P in s)O=s[P],$=a[P],!s.hasOwnProperty(P)||O===$||O==null&&$==null||jt(e,t,P,O,s,$)}function sm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var n=a[s],i=n.transferSize,c=n.initiatorType,u=n.duration;if(i&&u&&sm(c)){for(c=0,u=n.responseEnd,s+=1;s<a.length;s++){var p=a[s],z=p.startTime;if(z>u)break;var V=p.transferSize,P=p.initiatorType;V&&sm(P)&&(p=p.responseEnd,c+=V*(p<u?1:(u-z)/(p-z)))}if(--s,t+=8*(i+c)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vu=null,Qu=null;function Qc(e){return e.nodeType===9?e:e.ownerDocument}function nm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function im(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ku=null;function xx(){var e=window.event;return e&&e.type==="popstate"?e===Ku?!1:(Ku=e,!0):(Ku=null,!1)}var rm=typeof setTimeout=="function"?setTimeout:void 0,px=typeof clearTimeout=="function"?clearTimeout:void 0,cm=typeof Promise=="function"?Promise:void 0,gx=typeof queueMicrotask=="function"?queueMicrotask:typeof cm<"u"?function(e){return cm.resolve(null).then(e).catch(bx)}:rm;function bx(e){setTimeout(function(){throw e})}function rn(e){return e==="head"}function om(e,t){var a=t,s=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(n),Di(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Mr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Mr(a);for(var i=a.firstChild;i;){var c=i.nextSibling,u=i.nodeName;i[zl]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=c}}else a==="body"&&Mr(e.ownerDocument.body);a=n}while(a);Di(t)}function um(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Ju(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ju(a),Zl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function yx(e,t,a,s){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[zl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Cl(e.nextSibling),e===null)break}return null}function vx(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Cl(e.nextSibling),e===null))return null;return e}function dm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Cl(e.nextSibling),e===null))return null;return e}function Pu(e){return e.data==="$?"||e.data==="$~"}function Fu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function jx(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Cl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Wu=null;function fm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Cl(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function mm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function hm(e,t,a){switch(t=Qc(a),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Mr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Zl(e)}var Tl=new Map,xm=new Set;function Zc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _s=ee.d;ee.d={f:Nx,r:wx,D:Sx,C:Mx,L:Ax,m:kx,X:Tx,S:Cx,M:Ex};function Nx(){var e=_s.f(),t=Hc();return e||t}function wx(e){var t=hl(e);t!==null&&t.tag===5&&t.type==="form"?_0(t):_s.r(e)}var Ei=typeof document>"u"?null:document;function pm(e,t,a){var s=Ei;if(s&&typeof t=="string"&&t){var n=da(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),xm.has(n)||(xm.add(n),e={rel:e,crossOrigin:a,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),Sa(t,"link",e),wt(t),s.head.appendChild(t)))}}function Sx(e){_s.D(e),pm("dns-prefetch",e,null)}function Mx(e,t){_s.C(e,t),pm("preconnect",e,t)}function Ax(e,t,a){_s.L(e,t,a);var s=Ei;if(s&&e&&t){var n='link[rel="preload"][as="'+da(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+da(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+da(a.imageSizes)+'"]')):n+='[href="'+da(e)+'"]';var i=n;switch(t){case"style":i=_i(e);break;case"script":i=zi(e)}Tl.has(i)||(e=R({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Tl.set(i,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(Ar(i))||t==="script"&&s.querySelector(kr(i))||(t=s.createElement("link"),Sa(t,"link",e),wt(t),s.head.appendChild(t)))}}function kx(e,t){_s.m(e,t);var a=Ei;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+da(s)+'"][href="'+da(e)+'"]',i=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=zi(e)}if(!Tl.has(i)&&(e=R({rel:"modulepreload",href:e},t),Tl.set(i,e),a.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kr(i)))return}s=a.createElement("link"),Sa(s,"link",e),wt(s),a.head.appendChild(s)}}}function Cx(e,t,a){_s.S(e,t,a);var s=Ei;if(s&&e){var n=nl(s).hoistableStyles,i=_i(e);t=t||"default";var c=n.get(i);if(!c){var u={loading:0,preload:null};if(c=s.querySelector(Ar(i)))u.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Tl.get(i))&&Iu(e,a);var p=c=s.createElement("link");wt(p),Sa(p,"link",e),p._p=new Promise(function(z,V){p.onload=z,p.onerror=V}),p.addEventListener("load",function(){u.loading|=1}),p.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Kc(c,t,s)}c={type:"stylesheet",instance:c,count:1,state:u},n.set(i,c)}}}function Tx(e,t){_s.X(e,t);var a=Ei;if(a&&e){var s=nl(a).hoistableScripts,n=zi(e),i=s.get(n);i||(i=a.querySelector(kr(n)),i||(e=R({src:e,async:!0},t),(t=Tl.get(n))&&ed(e,t),i=a.createElement("script"),wt(i),Sa(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function Ex(e,t){_s.M(e,t);var a=Ei;if(a&&e){var s=nl(a).hoistableScripts,n=zi(e),i=s.get(n);i||(i=a.querySelector(kr(n)),i||(e=R({src:e,async:!0,type:"module"},t),(t=Tl.get(n))&&ed(e,t),i=a.createElement("script"),wt(i),Sa(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function gm(e,t,a,s){var n=(n=_e.current)?Zc(n):null;if(!n)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=_i(a.href),a=nl(n).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=_i(a.href);var i=nl(n).hoistableStyles,c=i.get(e);if(c||(n=n.ownerDocument||n,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=n.querySelector(Ar(e)))&&!i._p&&(c.instance=i,c.state.loading=5),Tl.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Tl.set(e,a),i||_x(n,e,a,c.state))),t&&s===null)throw Error(d(528,""));return c}if(t&&s!==null)throw Error(d(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=zi(a),a=nl(n).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function _i(e){return'href="'+da(e)+'"'}function Ar(e){return'link[rel="stylesheet"]['+e+"]"}function bm(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function _x(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Sa(t,"link",a),wt(t),e.head.appendChild(t))}function zi(e){return'[src="'+da(e)+'"]'}function kr(e){return"script[async]"+e}function ym(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+da(a.href)+'"]');if(s)return t.instance=s,wt(s),s;var n=R({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),wt(s),Sa(s,"style",n),Kc(s,a.precedence,e),t.instance=s;case"stylesheet":n=_i(a.href);var i=e.querySelector(Ar(n));if(i)return t.state.loading|=4,t.instance=i,wt(i),i;s=bm(a),(n=Tl.get(n))&&Iu(s,n),i=(e.ownerDocument||e).createElement("link"),wt(i);var c=i;return c._p=new Promise(function(u,p){c.onload=u,c.onerror=p}),Sa(i,"link",s),t.state.loading|=4,Kc(i,a.precedence,e),t.instance=i;case"script":return i=zi(a.src),(n=e.querySelector(kr(i)))?(t.instance=n,wt(n),n):(s=a,(n=Tl.get(i))&&(s=R({},a),ed(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),wt(n),Sa(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Kc(s,a.precedence,e));return t.instance}function Kc(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,i=n,c=0;c<s.length;c++){var u=s[c];if(u.dataset.precedence===t)i=u;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Iu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ed(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Jc=null;function vm(e,t,a){if(Jc===null){var s=new Map,n=Jc=new Map;n.set(a,s)}else n=Jc,s=n.get(a),s||(s=new Map,n.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[zl]||i[_t]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var u=s.get(c);u?u.push(i):s.set(c,[i])}}return s}function jm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function zx(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Nm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Dx(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=_i(s.href),i=t.querySelector(Ar(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Pc.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,wt(i);return}i=t.ownerDocument||t,s=bm(s),(n=Tl.get(n))&&Iu(s,n),i=i.createElement("link"),wt(i);var c=i;c._p=new Promise(function(u,p){c.onload=u,c.onerror=p}),Sa(i,"link",s),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Pc.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var td=0;function Rx(e,t){return e.stylesheets&&e.count===0&&Wc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Wc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&td===0&&(td=62500*hx());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wc(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>td?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function Pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fc=null;function Wc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fc=new Map,t.forEach(Bx,e),Fc=null,Pc.call(e))}function Bx(e,t){if(!(t.state.loading&4)){var a=Fc.get(e);if(a)var s=a.get(null);else{a=new Map,Fc.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var c=n[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(a.set(c.dataset.precedence,c),s=c)}s&&a.set(null,s)}n=t.instance,c=n.getAttribute("data-precedence"),i=a.get(c)||s,i===s&&a.set(null,n),a.set(c,n),this.count++,s=Pc.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Cr={$$typeof:se,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Ox(e,t,a,s,n,i,c,u,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.hiddenUpdates=va(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function wm(e,t,a,s,n,i,c,u,p,z,V,P){return e=new Ox(e,t,a,c,p,z,V,P,u),t=1,i===!0&&(t|=24),i=ft(3,null,null,t),e.current=i,i.stateNode=e,t=Ro(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:s,isDehydrated:a,cache:t},Ho(i),e}function Sm(e){return e?(e=Nl,e):Nl}function Mm(e,t,a,s,n,i){n=Sm(n),s.context===null?s.context=n:s.pendingContext=n,s=Js(t),s.payload={element:a},i=i===void 0?null:i,i!==null&&(s.callback=i),a=Ps(e,s,t),a!==null&&(el(a,e,t),ir(a,e,t))}function Am(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ad(e,t){Am(e,t),(e=e.alternate)&&Am(e,t)}function km(e){if(e.tag===13||e.tag===31){var t=il(e,67108864);t!==null&&el(t,e,67108864),ad(e,67108864)}}function Cm(e){if(e.tag===13||e.tag===31){var t=dl();t=gn(t);var a=il(e,t);a!==null&&el(a,e,t),ad(e,t)}}var Ic=!0;function Ux(e,t,a,s){var n=D.T;D.T=null;var i=ee.p;try{ee.p=2,ld(e,t,a,s)}finally{ee.p=i,D.T=n}}function Hx(e,t,a,s){var n=D.T;D.T=null;var i=ee.p;try{ee.p=8,ld(e,t,a,s)}finally{ee.p=i,D.T=n}}function ld(e,t,a,s){if(Ic){var n=sd(s);if(n===null)Yu(e,t,s,eo,a),Em(e,s);else if(Lx(n,e,t,a,s))s.stopPropagation();else if(Em(e,s),t&4&&-1<qx.indexOf(e)){for(;n!==null;){var i=hl(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=gt(i.pendingLanes);if(c!==0){var u=i;for(u.pendingLanes|=2,u.entangledLanes|=2;c;){var p=1<<31-F(c);u.entanglements[1]|=p,c&=~p}ns(i),(ut&6)===0&&(Oc=ie()+500,Nr(0))}}break;case 31:case 13:u=il(i,2),u!==null&&el(u,i,2),Hc(),ad(i,2)}if(i=sd(s),i===null&&Yu(e,t,s,eo,a),i===n)break;n=i}n!==null&&s.stopPropagation()}else Yu(e,t,s,null,a)}}function sd(e){return e=le(e),nd(e)}var eo=null;function nd(e){if(eo=null,e=sl(e),e!==null){var t=v(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=w(t),e!==null)return e;e=null}else if(a===31){if(e=C(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return eo=e,null}function Tm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case st:return 2;case Ql:return 8;case Zt:case ya:return 32;case La:return 268435456;default:return 32}default:return 32}}var id=!1,cn=null,on=null,un=null,Tr=new Map,Er=new Map,dn=[],qx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Em(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":Tr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(t.pointerId)}}function _r(e,t,a,s,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:i,targetContainers:[n]},t!==null&&(t=hl(t),t!==null&&km(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Lx(e,t,a,s,n){switch(t){case"focusin":return cn=_r(cn,e,t,a,s,n),!0;case"dragenter":return on=_r(on,e,t,a,s,n),!0;case"mouseover":return un=_r(un,e,t,a,s,n),!0;case"pointerover":var i=n.pointerId;return Tr.set(i,_r(Tr.get(i)||null,e,t,a,s,n)),!0;case"gotpointercapture":return i=n.pointerId,Er.set(i,_r(Er.get(i)||null,e,t,a,s,n)),!0}return!1}function _m(e){var t=sl(e.target);if(t!==null){var a=v(t);if(a!==null){if(t=a.tag,t===13){if(t=w(a),t!==null){e.blockedOn=t,re(e.priority,function(){Cm(a)});return}}else if(t===31){if(t=C(a),t!==null){e.blockedOn=t,re(e.priority,function(){Cm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function to(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=sd(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);ne=s,a.target.dispatchEvent(s),ne=null}else return t=hl(a),t!==null&&km(t),e.blockedOn=a,!1;t.shift()}return!0}function zm(e,t,a){to(e)&&a.delete(t)}function Gx(){id=!1,cn!==null&&to(cn)&&(cn=null),on!==null&&to(on)&&(on=null),un!==null&&to(un)&&(un=null),Tr.forEach(zm),Er.forEach(zm)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,id||(id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gx)))}var lo=null;function Dm(e){lo!==e&&(lo=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lo===e&&(lo=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(nd(s||a)===null)continue;break}var i=hl(a);i!==null&&(e.splice(t,3),t-=3,su(i,{pending:!0,data:n,method:a.method,action:s},s,n))}}))}function Di(e){function t(p){return ao(p,e)}cn!==null&&ao(cn,e),on!==null&&ao(on,e),un!==null&&ao(un,e),Tr.forEach(t),Er.forEach(t);for(var a=0;a<dn.length;a++){var s=dn[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<dn.length&&(a=dn[0],a.blockedOn===null);)_m(a),a.blockedOn===null&&dn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var n=a[s],i=a[s+1],c=n[Kt]||null;if(typeof i=="function")c||Dm(a);else if(c){var u=null;if(i&&i.hasAttribute("formAction")){if(n=i,c=i[Kt]||null)u=c.formAction;else if(nd(n)!==null)continue}else u=c.action;typeof u=="function"?a[s+1]=u:(a.splice(s,3),s-=3),Dm(a)}}}function Rm(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(c){return n=c})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function rd(e){this._internalRoot=e}so.prototype.render=rd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var a=t.current,s=dl();Mm(a,s,e,t,null,null)},so.prototype.unmount=rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mm(e.current,2,null,e,null,null),Hc(),t[oa]=null}};function so(e){this._internalRoot=e}so.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ds();e={blockedOn:null,target:e,priority:t};for(var a=0;a<dn.length&&t!==0&&t<dn[a].priority;a++);dn.splice(a,0,e),a===0&&_m(e)}};var Bm=o.version;if(Bm!=="19.2.3")throw Error(d(527,Bm,"19.2.3"));ee.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=x(t),e=e!==null?U(e):null,e=e===null?null:e.stateNode,e};var $x={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var no=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!no.isDisabled&&no.supportsFiber)try{ca=no.inject($x),Ht=no}catch{}}return Dr.createRoot=function(e,t){if(!m(e))throw Error(d(299));var a=!1,s="",n=G0,i=$0,c=Y0;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=wm(e,1,!1,null,null,a,s,null,n,i,c,Rm),e[oa]=t.current,$u(e),new rd(t)},Dr.hydrateRoot=function(e,t,a){if(!m(e))throw Error(d(299));var s=!1,n="",i=G0,c=$0,u=Y0,p=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(c=a.onCaughtError),a.onRecoverableError!==void 0&&(u=a.onRecoverableError),a.formState!==void 0&&(p=a.formState)),t=wm(e,1,!0,t,a??null,s,n,p,i,c,u,Rm),t.context=Sm(null),a=t.current,s=dl(),s=gn(s),n=Js(s),n.callback=null,Ps(a,n,s),a=s,t.current.lanes=a,ea(t,a),ns(t),e[oa]=t.current,$u(e),new so(t)},Dr.version="19.2.3",Dr}var Vm;function Wx(){if(Vm)return ud.exports;Vm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),ud.exports=Fx(),ud.exports}var Ix=Wx();const ep=oh(Ix);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ap=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,f,d)=>d?d.toUpperCase():f.toLowerCase()),Qm=r=>{const o=ap(r);return o.charAt(0).toUpperCase()+o.slice(1)},uh=(...r)=>r.filter((o,f,d)=>!!o&&o.trim()!==""&&d.indexOf(o)===f).join(" ").trim(),lp=r=>{for(const o in r)if(o.startsWith("aria-")||o==="role"||o==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=h.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:f=2,absoluteStrokeWidth:d,className:m="",children:v,iconNode:w,...C},b)=>h.createElement("svg",{ref:b,...sp,width:o,height:o,stroke:r,strokeWidth:d?Number(f)*24/Number(o):f,className:uh("lucide",m),...!v&&!lp(C)&&{"aria-hidden":"true"},...C},[...w.map(([x,U])=>h.createElement(x,U)),...Array.isArray(v)?v:[v]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(r,o)=>{const f=h.forwardRef(({className:d,...m},v)=>h.createElement(np,{ref:v,iconNode:o,className:uh(`lucide-${tp(Qm(r))}`,`lucide-${r}`,d),...m}));return f.displayName=Qm(r),f};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],dh=fe("arrow-right",ip);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]],po=fe("backpack",rp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=[["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["path",{d:"M14.856 6H16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.935",key:"lre1cr"}],["path",{d:"M22 14v-4",key:"14q9d5"}],["path",{d:"M5.14 18H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.936",key:"13q5k0"}]],op=fe("battery-charging",cp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],dp=fe("battery",up);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ad=fe("book-open",fp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gd=fe("check",mp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=[["path",{d:"M5 20a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1z",key:"b89hwq"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"m17 18-1-9",key:"10nd7q"}],["path",{d:"M6 2v5a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2",key:"uxf4yx"}],["path",{d:"M6 4h12",key:"1x2ag7"}],["path",{d:"m7 18 1-9",key:"1si9vq"}]],kd=fe("chess-rook",hp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pp=fe("chevron-down",xp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fh=fe("chevron-right",gp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],go=fe("circle-alert",bp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vp=fe("circle-check-big",yp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Hr=fe("circle-check",jp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mh=fe("circle-question-mark",Np);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qi=fe("clock",wp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],is=fe("cpu",Sp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ma=fe("crown",Mp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],oo=fe("diamond",Ap);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Zm=fe("eye-off",kp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Km=fe("eye",Cp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],Ep=fe("fast-forward",Tp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Jm=fe("file-text",_p);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],hh=fe("flame",zp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],ei=fe("flask-conical",Dp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Bp=fe("funnel",Rp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],xh=fe("gem",Op);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],bd=fe("gift",Up);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],bo=fe("ghost",Hp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Lp=fe("github",qp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Xl=fe("globe",Gp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Yp=fe("grid-3x3",$p);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],Oi=fe("infinity",Xp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],yo=fe("info",Vp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],zs=fe("layout-grid",Qp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],fo=fe("library",Zp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ph=fe("lightbulb",Kp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],gh=fe("lock-open",Jp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],El=fe("lock",Pp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],bh=fe("mail",Fp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yd=fe("map-pin",Wp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],eg=fe("map",Ip);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],ag=fe("maximize-2",tg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],sg=fe("message-circle",lg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],ig=fe("minimize-2",ng);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],cg=fe("moon",rg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],ug=fe("newspaper",og);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=[["path",{d:"M20.341 6.484A10 10 0 0 1 10.266 21.85",key:"1enhxb"}],["path",{d:"M3.659 17.516A10 10 0 0 1 13.74 2.152",key:"1crzgf"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]],fg=fe("orbit",dg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]],Pm=fe("package-x",mg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Fm=fe("palette",hg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],yh=fe("pause",xg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],vd=fe("play",pg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bg=fe("plus",gg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],ml=fe("repeat",yg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Wm=fe("rotate-ccw",vg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],vo=fe("scroll",jg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vh=fe("settings",Ng);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Cd=fe("shield",wg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],jh=fe("shopping-cart",Sg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],mo=fe("skull",Mg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ga=fe("sparkles",Ag);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Nh=fe("star",kg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Tg=fe("sun",Cg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],rs=fe("swords",Eg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wh=fe("target",_g);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=[["path",{d:"m10.065 12.493-6.18 1.318a.934.934 0 0 1-1.108-.702l-.537-2.15a1.07 1.07 0 0 1 .691-1.265l13.504-4.44",key:"k4qptu"}],["path",{d:"m13.56 11.747 4.332-.924",key:"19l80z"}],["path",{d:"m16 21-3.105-6.21",key:"7oh9d"}],["path",{d:"M16.485 5.94a2 2 0 0 1 1.455-2.425l1.09-.272a1 1 0 0 1 1.212.727l1.515 6.06a1 1 0 0 1-.727 1.213l-1.09.272a2 2 0 0 1-2.425-1.455z",key:"m7xp4m"}],["path",{d:"m6.158 8.633 1.114 4.456",key:"74o979"}],["path",{d:"m8 21 3.105-6.21",key:"1fvxut"}],["circle",{cx:"12",cy:"13",r:"2",key:"1c1ljs"}]],Dg=fe("telescope",zg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jd=fe("trash-2",Rg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Og=fe("trending-up",Bg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ti=fe("trophy",Ug);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],qg=fe("twitter",Hg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Gg=fe("volume-2",Lg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Yg=fe("volume-x",$g);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=[["path",{d:"M15 4V2",key:"z1p9b7"}],["path",{d:"M15 16v-2",key:"px0unx"}],["path",{d:"M8 9h2",key:"1g203m"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M17.8 11.8 19 13",key:"yihg8r"}],["path",{d:"M15 9h.01",key:"x1ddxp"}],["path",{d:"M17.8 6.2 19 5",key:"fd4us0"}],["path",{d:"m3 21 9-9",key:"1jfql5"}],["path",{d:"M12.2 6.2 11 5",key:"i3da3b"}]],Vg=fe("wand",Xg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Im=fe("wrench",Qg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ra=fe("x",Zg);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_l=fe("zap",Kg),eh=200,Jg=250,th=1e4,Pg=2e4,Qt={common:{name:"Common",color:"text-slate-400",chance:.6,mult:1,resonance:.005},uncommon:{name:"Uncommon",color:"text-green-400",chance:.3,mult:1.5,resonance:.01},rare:{name:"Rare",color:"text-blue-400",chance:.08,mult:2.5,resonance:.03},epic:{name:"Epic",color:"text-purple-400",chance:.019,mult:5,resonance:.05},legendary:{name:"Legendary",color:"text-amber-400",chance:.001,mult:10,resonance:.15},unique:{name:"Unique",color:"text-cyan-400",chance:.001,mult:15,resonance:.3}},hd={1:{text:"Peaceful",color:"text-green-400"},2:{text:"Calm",color:"text-blue-400"},5:{text:"Risky",color:"text-yellow-400"},12:{text:"Dangerous",color:"text-orange-400"},25:{text:"Treacherous",color:"text-red-400"},40:{text:"Deadly",color:"text-rose-600"},50:{text:"Extreme Danger",color:"text-fuchsia-600"}},ot=[{id:"earth",name:"Mortal Realm",desc:"Home to the humans and dwarves, a boring but peaceful place.",color:"from-blue-900 via-sky-950 to-black",lightColor:"from-blue-100 to-white",cardBorder:"border-blue-500/40",cardBg:"bg-blue-900/20",unlockCost:0,exploreCost:8,difficulty:1,dangerLevel:"Peaceful",duration:5},{id:"fire",name:"Cinder Plane",desc:"A world of ash and eternal flame ruled by the Fire Elementals.",color:"from-orange-900 via-red-950 to-black",lightColor:"from-orange-200 via-red-100 to-amber-50",cardBorder:"border-orange-500/40",cardBg:"bg-orange-900/20",unlockCost:3e3,exploreCost:40,difficulty:2,dangerLevel:"Calm",duration:10},{id:"void",name:"The Void",desc:"An empty expanse where logic and reason do not apply. No mortal beings rule here.",color:"from-indigo-950 to-black",lightColor:"from-indigo-100 to-slate-200",cardBorder:"border-indigo-500/40",cardBg:"bg-indigo-900/20",unlockCost:15e3,exploreCost:160,difficulty:5,dangerLevel:"Risky",duration:20},{id:"astral",name:"Astral Sea",desc:"A realm of floating islands on a beautiful stardust sea. Home to the elves, angels and other mystical creatures.",color:"from-fuchsia-900 to-slate-900",lightColor:"from-fuchsia-100 to-purple-50",cardBorder:"border-fuchsia-500/40",cardBg:"bg-fuchsia-900/20",unlockCost:1e5,exploreCost:800,difficulty:12,dangerLevel:"Dangerous",duration:30},{id:"chaos",name:"Chaos Rift",desc:"Ruled over by the Mad Gods, reality constantly shifts here.",color:"from-green-900 via-emerald-950 to-black",lightColor:"from-green-100 via-emerald-100 to-white",cardBorder:"border-green-500/40",cardBg:"bg-green-900/20",unlockCost:1e6,exploreCost:4e3,difficulty:25,dangerLevel:"Treacherous",duration:45},{id:"omega",name:"Omega Timeline",desc:"The end of all realities joined in one constantly warping realm. This dimension bodes ill for your continued exploration.",color:"from-amber-700 via-yellow-800 to-black",lightColor:"from-amber-100 via-yellow-100 to-amber-200",cardBorder:"border-amber-500/40",cardBg:"bg-amber-900/20",unlockCost:15e6,exploreCost:2e4,difficulty:40,dangerLevel:"Deadly",duration:60},{id:"wellspring",name:"Wellspring",desc:"A sacred spring where mana flows from the source itself. Only accessed through transcendence.",color:"from-cyan-900 via-teal-950 to-black",lightColor:"from-cyan-100 via-teal-100 to-white",cardBorder:"border-cyan-500/40",cardBg:"bg-cyan-900/20",unlockCost:2e8,exploreCost:1e5,difficulty:50,dangerLevel:"Extreme Danger",duration:90}],Td=[{id:"meditation",name:"Meditation Orb",baseCost:10,baseProd:.9,baseDust:.09,desc:"A magical focus that generates mana."},{id:"scrolls",name:"Arcane Scrolls",baseCost:100,baseProd:4.5,baseDust:.45,desc:"Basic magical knowledge collected over aeons."},{id:"crystal",name:"Mana Crystal",baseCost:1e3,baseProd:22.5,baseDust:2.25,desc:"Absorbs ambient mana from the atmosphere."},{id:"familiar",name:"Summoned Imp",baseCost:5e3,baseProd:90,baseDust:9,desc:"A helpful, if mischievous, wizard's assistant."},{id:"reactor",name:"Aether Reactor",baseCost:5e4,baseProd:450,baseDust:45,desc:"Converts matter directly into mana."},{id:"siphon",name:"Void Siphon",baseCost:25e4,baseProd:1800,baseDust:180,desc:"Drains energy from the vacuum of eternity."},{id:"chronosphere",name:"Chronosphere",baseCost:1e6,baseProd:7200,baseDust:720,desc:"Harvests mana from future timelines."},{id:"singularity",name:"Singularity Engine",baseCost:1e7,baseProd:45e3,baseDust:4500,desc:"A multiversal black hole generator."}],xn=[{id:"portal_access",name:"Rift Stabilization",baseCost:100,type:"dust",maxLevel:1,costScale:1,desc:"Unlocks the Portal to explore strange dimensions.",icon:Xl},{id:"arena_access",name:"Battle Magic",baseCost:400,type:"dust",maxLevel:1,costScale:1,desc:"Unlocks the Arena for combat against waves of enemies.",icon:rs},{id:"library_access",name:"Arcane Archives",baseCost:800,type:"dust",maxLevel:1,costScale:1,desc:"Unlocks the Library to craft Codex for bonus effects.",icon:vo},{id:"auto_explore",name:"Scouting Golems",baseCost:1500,type:"dust",maxLevel:1,costScale:1,desc:"Unlocks the Auto-Explore function in the Portal.",icon:Dg},{id:"efficiency_1",name:"Planar Mapping",baseCost:3e3,type:"dust",maxLevel:10,costScale:1.5,desc:"-5% Explore Cost per level.",icon:eg,category:"efficiency"},{id:"click_1",name:"Conductive Wand",baseCost:6e3,type:"dust",maxLevel:10,costScale:1.8,desc:"+1% MPS to Clicks per level.",icon:Vg,category:"efficiency"},{id:"dust_amplification",name:"Dust Amplification",baseCost:1e4,type:"dust",maxLevel:10,costScale:1.7,desc:"+5% Dust generation per level.",icon:Sparkle,category:"efficiency"},{id:"resonant_harvesting",name:"Resonant Harvesting",baseCost:8e3,type:"dust",maxLevel:5,costScale:2,desc:"+10% rewards from exploration per level.",icon:Gift,category:"efficiency"},{id:"synergy_1",name:"Soul Binding",baseCost:12e3,type:"dust",maxLevel:5,costScale:2,desc:"+2% Resonance Bonus per level.",icon:bo,category:"efficiency"},{id:"offline_mastery",name:"Chronostasis",baseCost:2e4,type:"dust",maxLevel:5,costScale:1.6,desc:"+1 Max Offline Hour per level.",icon:qi,category:"efficiency"},{id:"mana_compression",name:"Mana Compression",baseCost:25e3,type:"dust",maxLevel:5,costScale:1.8,desc:"-10% building costs per level.",icon:Hammer,category:"efficiency"},{id:"arcane_focus",name:"Arcane Focus",baseCost:5e4,type:"dust",maxLevel:3,costScale:2.5,desc:"+1 max equipped creature per level.",icon:Focus,category:"efficiency"},{id:"auto_meditate",name:"Automated Meditation",baseCost:250,type:"dust",maxLevel:1,costScale:1,desc:"Auto-build Meditation Orbs.",icon:is,category:"automation"},{id:"auto_scroll",name:"Scroll Replication",baseCost:800,type:"dust",maxLevel:1,costScale:1,desc:"Auto-build Arcane Scrolls.",icon:is,category:"automation"},{id:"auto_crystal",name:"Crystalline Assembly",baseCost:15e3,type:"dust",maxLevel:1,costScale:1,desc:"Auto-build Mana Crystals.",icon:is,category:"automation"},{id:"auto_familiar",name:"Imp Summoning Circle",baseCost:4e4,type:"dust",maxLevel:1,costScale:1,desc:"Auto-build Summoned Imps.",icon:is,category:"automation"},{id:"auto_reactor",name:"Reactor Autonomy",baseCost:12e4,type:"dust",maxLevel:1,costScale:1,desc:"Auto-build Aether Reactors.",icon:is,category:"automation"},{id:"auto_siphon",name:"Siphon Efficiency",baseCost:45e4,type:"dust",maxLevel:1,costScale:1,desc:"Auto-build Void Siphons.",icon:is,category:"automation"},{id:"auto_chrono",name:"Chronosphere Mastery",baseCost:18e5,type:"dust",maxLevel:1,costScale:1,desc:"Auto-build Chronospheres.",icon:is,category:"automation"},{id:"auto_singularity",name:"Singularity Control",baseCost:8e6,type:"dust",maxLevel:1,costScale:1,desc:"Auto-build Singularity Engines.",icon:is,category:"automation"},{id:"expedition_protocols",name:"Expedition Protocols",baseCost:3e6,type:"dust",maxLevel:1,costScale:1,desc:"Auto-explore prioritizes dimensions with highest difficulty you can afford.",icon:ml,category:"automation"},{id:"autonomous_ascension",name:"Autonomous Ascension",baseCost:5e6,type:"dust",maxLevel:1,costScale:1,desc:"Automatically purchases cheapest available ascension perk.",icon:HandCoins,category:"automation",requiresAscension:!0},{id:"void_attunement",name:"Void Attunement",baseCost:35e4,type:"dust",maxLevel:3,costScale:2.8,desc:"Increases all Creature Power by 15% per level.",icon:Space,category:"secret"},{id:"forbidden_knowledge",name:"Forbidden Knowledge",baseCost:4e5,type:"dust",maxLevel:5,costScale:2.4,desc:"Each level increases all Mana gain by 10%.",icon:BookOpen,category:"secret"},{id:"rift_mastery",name:"Rift Mastery",baseCost:75e4,type:"dust",maxLevel:5,costScale:2,desc:"-5% Exploration Time per level.",icon:Waves,category:"secret"},{id:"multiversal_echoes",name:"Multiversal Echoes",baseCost:2e6,type:"dust",maxLevel:5,costScale:2.2,desc:"+5% chance to find double rewards during exploration per level.",icon:Blend,category:"secret"},{id:"time_dilation_tech",name:"Temporal Dilation",baseCost:3e6,type:"dust",maxLevel:1,costScale:1,desc:"Unlocks double offline earnings if Wellspring is active.",icon:ClockFading,category:"secret"},{id:"void_resonance_mastery",name:"Void Resonance Mastery",baseCost:5e6,type:"dust",maxLevel:5,costScale:2.5,desc:"Equipped creatures and artifacts gain +10% stats per level.",icon:Users,category:"secret"},{id:"singularity_knowledge",name:"Singularity Theory",baseCost:15e6,type:"dust",maxLevel:3,costScale:3.2,desc:"All production multiplied by (1 + ascension count * 0.02) per level.",icon:ga,category:"secret"},{id:"ascendant_knowledge",name:"Ascendant Knowledge",baseCost:5e7,type:"dust",maxLevel:1,costScale:1,desc:"Gain +1 Ascension Point per prestige permanently.",icon:ti,category:"secret"}],Ur=[{id:"codex_earth",name:"Codex of Rock & Stone",desc:"+100% Click Power & +10% Mana/s",cost:{pages:2,scripts:2,mana:1e3,dust:100},bonus:"click",icon:Stone,color:"text-emerald-500",lore:"The roots of the world run deep, and the stone remembers."},{id:"codex_fire",name:"Codex of Seething Rage",desc:"+10% Arena Stats (ATK & HP)",cost:{pages:5,scripts:3,mana:5e3,dust:500},bonus:"arena",icon:hh,color:"text-orange-500",lore:"Ink seethes and smokes upon the page. It burns to be read."},{id:"codex_void",name:"Codex of Void Summoning",desc:"Higher Rarity Luck + -10% Expedition Time",cost:{pages:8,scripts:5,mana:1e4,dust:1e3},bonus:"void_luck",icon:bo,color:"text-indigo-400",lore:"It calls to things that should not answer. Yet they do."},{id:"codex_astral",name:"Codex of Astral Attunement",desc:"+25% Passive Dust Gen",cost:{pages:12,scripts:8,mana:25e3,dust:2500},bonus:"dust",icon:fg,color:"text-fuchsia-400",lore:"Threads of starlight bind each page; your hands hum reading it."},{id:"codex_chaos",name:"Codex of the Mad Gods",desc:"Dark Whispers appear with lore + random rewards",cost:{pages:20,scripts:15,mana:1e5,dust:5e3},bonus:"whispers",icon:Atom,color:"text-rose-500",lore:"It whispers truths you cannot hold. It will not stop."},{id:"codex_omega",name:"Codex of Time",desc:"Double offline earnings if equipped when exiting",cost:{pages:50,scripts:50,mana:1e6,dust:25e3},bonus:"time",icon:qi,color:"text-slate-200",lore:"Sand slips between the words. The margins stretch for years."}],Fg=[{id:"pack_tier1",gold:115,bonus:15,prices:{USD:.99,EUR:.99,GBP:.79,AUD:1.99,CAD:1.49},tier:"Impulse"},{id:"pack_tier2",gold:625,bonus:25,prices:{USD:4.99,EUR:5.99,GBP:3.99,AUD:7.99,CAD:6.49},tier:"Best Value",recommended:!0},{id:"pack_tier3",gold:1250,bonus:25,prices:{USD:9.99,EUR:11.99,GBP:7.99,AUD:14.99,CAD:12.99},tier:"Bulk"},{id:"pack_tier4",gold:2650,bonus:32,prices:{USD:19.99,EUR:23.99,GBP:15.99,AUD:29.99,CAD:25.99},tier:"Premium"}],Wg={active:r=>{const f=Math.floor(r%6048e5/864e5);return f>=5&&f<7},bonusPercent:10},Ed=[{id:"starter_pack",name:"Novice Bundle",cost:0,type:"dlc",desc:"A gift for new apprentices. (One-time claim)",currency:"FREE",repeatable:!1},{id:"time_dilation",name:"Time Dilation",cost:70,type:"dlc",desc:"Instantly get 12 hours of offline progress.",currency:"Gold",repeatable:!0},{id:"hourglass_dlc",name:"Timeless Hourglass",cost:250,type:"dlc",desc:"Permanent increase to Max Offline Time by additional 4 hours.",currency:"Gold",repeatable:!1},{id:"goblin_manager",name:"Goblin Manager",cost:650,type:"dlc",desc:"Permanently 2x All Production.",currency:"Gold",repeatable:!1},{id:"battlemage_pack",name:"Battlemage Pack",cost:450,type:"dlc",desc:"Grants a powerful unique artifact and creature which persist between rebirths. These grant very high ATK and HP bonuses.",currency:"Gold",repeatable:!1},{id:"restore_battlemage",name:"Restore Battlemage Items",cost:0,type:"utility",desc:"Re-add your Battlemage Pack items if accidentally dismantled.",currency:"FREE",repeatable:!0,requiresPurchase:"battlemage_pack"},{id:"gilded_tower",name:"Gilded Tower",cost:600,type:"dlc",desc:"Gild your tower with the finest gold to show off your immense wealth!",currency:"Gold",repeatable:!1},{id:"golem_helper",name:"Golem Helper",cost:800,type:"dlc",desc:"Animated golem pet who auto-taps the mana button for you and offers encouragement.",currency:"Gold",repeatable:!1}],mn={creature:"battlemage_creature",artifact:"battlemage_artifact"},ah=[{id:"letter_1",sender:"The Apprentice",subject:"Supply Update",body:"Master, I found some spare dust sweeping the floors.",rewardType:"scaledDust",baseDust:100},{id:"letter_2",sender:"High Council",subject:"Cease & Desist",body:"Your mana usage is destabilizing the local grid. Please accept this bribe to stop.",rewardType:"scaledMana",baseMana:2500},{id:"letter_3",sender:"Unknown",subject:"Whispers",body:"The Void stares back. It has a gift for you.",rewardType:"scaledDust",baseDust:250},{id:"letter_4",sender:"Future Self",subject:"Don't mess up",body:"Sending resources from a doomed timeline. Use them wisely.",rewardType:"scaledCombo",baseMana:1e3,baseDust:50},{id:"letter_5",sender:"The Artificer",subject:"Blueprint Fragment",body:"A schematic for improved mana channeling. Apply it wisely.",rewardType:"tempProductionBoost",boostPercent:10,durationMinutes:60},{id:"letter_6",sender:"The Cartographer",subject:"Map to Hidden Cache",body:"The dimensions hold secrets. This map leads to one of them.",rewardType:"scaledLarge",baseMana:2500,baseDust:150,manaMult:3,dustMult:1.5},{id:"letter_7",sender:"The Arcane Scholar",subject:"Breakthrough Insight",body:"A profound realization about the nature of reality itself.",rewardType:"instantResearch",limit:"oncePerPrestige"},{id:"letter_8",sender:"The Gladiator",subject:"Battle Secrets",body:"Victory comes to those who understand their enemies.",rewardType:"arenaLevel",levels:1},{id:"letter_9",sender:"The Chronicler",subject:"Echoes of Your Legacy",body:"Your deeds are recorded in the annals of eternity.",rewardType:"prestigeScaled",baseMana:5e3,baseDust:500},{id:"letter_10",sender:"The Time Keeper",subject:"Temporal Anomaly",body:"Time works strangely here. Use this moment wisely.",rewardType:"offlineBoost",multiplier:2,durationHours:2},{id:"letter_11",sender:"A Captured Creature",subject:"Gratitude",body:"Thank you for freeing me. A small token of appreciation.",rewardType:"freeCreature",rarityTier:"highest"},{id:"letter_12",sender:"The Enchanter",subject:"Artifice",body:"An item of power, crafted for one such as you.",rewardType:"freeArtifact",rarityTier:"highest"},{id:"letter_13",sender:"The Librarian",subject:"Codex Addition",body:"A page fragment from a lost tome. Integrate it with your collection.",rewardType:"tomeResources",pages:5,scripts:5},{id:"letter_14",sender:"The Witness",subject:"Milestone Recognition",body:"You've reached a significant threshold. This is your reward.",rewardType:"scaledCombo",baseMana:3e3,baseDust:300},{id:"letter_15",sender:"A Worried Ally",subject:"Beware!",body:"The void grows restless. Prepare yourself.",rewardType:"tempExplorationBoost",boostPercent:20,durationMinutes:20},{id:"letter_16",sender:"The Oracle",subject:"A Vision of Victory",body:"I see a triumphant future for you. Here, let this guide you.",rewardType:"tripleCombo",baseMana:2e3,baseDust:200,includeCreature:!0},{id:"letter_17",sender:"The Reluctant Imp",subject:"Dissatisfaction",body:"Working for you isn't so bad. Have some dust I found lying around.",rewardType:"smallDust",baseDust:300},{id:"letter_18",sender:"?",subject:"[Unintelligible]",body:"host messge",rewardType:"mystery",possibleRewards:["scaledMana","scaledDust","freeCreature"]},{id:"letter_19",sender:"The Season's Spirit",subject:"Seasonal Greeting",body:"The cycle of seasons brings gifts to those who endure.",rewardType:"seasonal",baseMana:4e3,baseDust:400},{id:"letter_20",sender:"The Trickster",subject:"A Peculiar Wager",body:"I've hidden a gift somewhere in reality. Find it if you can.",rewardType:"randomLarge",baseMana:1e4,baseDust:1e3,variance:2},{id:"letter_21",sender:"",subject:"",body:"*Only silence.*",rewardType:"ultraRare",baseMana:5e4,baseDust:5e3}],io=["You found a torn page from a wizard's diary.","Scratches on the wall indicate a struggle.","A faint echo of laughter drifts through the air.","You tripped over a mana-infused rock.","You found a broken artifact in the dust.","Small creatures passed this way, the day before yesterday.","A great battle happened here.","Some ancient being was smitten upon the ground here.","Your apprentice bartered supplies from the local village."],Ig=[{id:"rare_10",rarity:"rare",count:10,bonus:"dustMult",value:.05,desc:"+5% Dust generation",name:"Rare Collector"},{id:"epic_5",rarity:"epic",count:5,bonus:"manaMult",value:.1,desc:"+10% Mana generation",name:"Epic Hoarder"},{id:"legendary_3",rarity:"legendary",count:3,bonus:"exploreRewards",value:.15,desc:"+15% Exploration rewards",name:"Legendary Hunter"},{id:"unique_1",rarity:"unique",count:1,bonus:"itemPower",value:.2,desc:"+20% Creature/Artifact power",name:"Unique Owner"},{id:"rare_25",rarity:"rare",count:25,bonus:"dustMult",value:.1,desc:"+10% Dust generation (total)",name:"Rare Master"},{id:"epic_15",rarity:"epic",count:15,bonus:"manaMult",value:.2,desc:"+20% Mana generation (total)",name:"Epic Master"},{id:"legendary_10",rarity:"legendary",count:10,bonus:"allProduction",value:.25,desc:"+25% All production",name:"Legendary Master"}],_d=[{id:"mana_novice",name:"Spark of Magic",desc:"Accumulate 1,000 Mana.",req:r=>r.totalMana>=1e3},{id:"mana_adept",name:"Flowing Power",desc:"Accumulate 1,000,000 Mana.",req:r=>r.totalMana>=1e6},{id:"mana_master",name:"Archmage",desc:"Accumulate 1 Billion Mana.",req:r=>r.totalMana>=1e9},{id:"dust_collector",name:"Stardust",desc:"Have 1,000 Astral Dust.",req:r=>r.dust>=1e3},{id:"first_blood",name:"First Blood",desc:"Defeat the Training Dummy (Arena Wave 1).",req:r=>r.arenaLevel>=1},{id:"arena_champ",name:"Gladiator",desc:"Reach Arena Wave 10.",req:r=>r.arenaLevel>=10},{id:"arena_legend",name:"Dimension Slayer",desc:"Reach Arena Wave 50.",req:r=>r.arenaLevel>=50},{id:"explorer",name:"Surveyor",desc:"Complete 10 Explorations.",req:r=>r.explorationsCount>=10},{id:"collector",name:"Beast Master",desc:"Capture 10 Creatures.",req:r=>r.creaturesCount>=10},{id:"hoarder",name:"Relic Hunter",desc:"Find 10 Artifacts.",req:r=>r.itemsCount>=10},{id:"time_traveler",name:"Time Traveler",desc:"Teleport to a new timeline.",req:r=>r.prestigeCount>=1},{id:"chronolord",name:"Chronolord",desc:"Teleport 5 times.",req:r=>r.prestigeCount>=5},{id:"builder",name:"Architect",desc:"Build 50 Meditation Orbs.",req:r=>r.rugs>=50},{id:"high_tech",name:"Singularity",desc:"Build a Singularity Engine.",req:r=>r.hasSingularity},{id:"clicker",name:"Finger Workout",desc:"Manually click 500 times.",req:r=>r.clicks>=500},{id:"researcher",name:"Bookworm",desc:"Unlock 5 Research technologies.",req:r=>Object.keys(r.researchLevels||{}).length>=5},{id:"shopping",name:"Big Spender",desc:"Buy a DLC item.",req:r=>r.hasDLC},{id:"void_walker",name:"Void Walker",desc:"Unlock The Void dimension.",req:r=>r.unlockedVoid},{id:"dedicated",name:"Dedicated",desc:"Play for 1 hour (total ticks).",req:r=>r.playTime>=3600}],zd=[{id:"madness_1",name:"Whispers Heard",desc:"Keep the Codex active for 5 minutes total.",req:r=>r.madness>=300,bonus:{type:"manaGain",value:.05,display:"+5% Mana Gain (Permanent)"}},{id:"madness_2",name:"Embracing Chaos",desc:"Keep the Codex active for 1 hour total.",req:r=>r.madness>=3600,bonus:{type:"production",value:.1,display:"+10% Building Production (Permanent)"}},{id:"madness_3",name:"Riftwalker",desc:"Keep the Codex active for 4 hours total.",req:r=>r.madness>=14400,bonus:{type:"production",value:.15,display:"+15% Building Production (Permanent)"}},{id:"madness_4",name:"Void-Sworn",desc:"Keep the Codex active for 8 hours total.",req:r=>r.madness>=28800,bonus:{type:"whisperRewards",value:.25,display:"+25% Dark Whisper Rewards (Permanent)"}},{id:"madness_5",name:"Herald of Ruin",desc:"Keep the Codex active for 14 hours total.",req:r=>r.madness>=50400,bonus:{type:"whisperRewards",value:.5,display:"+50% Dark Whisper Rewards (Permanent)"}},{id:"madness_6",name:"Apotheosis",desc:"Keep the Codex active for 24 hours total.",req:r=>r.madness>=86400,bonus:{type:"manaGain",value:.2,display:"+20% Mana Gain (Permanent)"}}],Nd=(r,o,f)=>{let d=0;const m=1.1;let v=r*Math.pow(m,o);for(let w=0;w<f;w++)d+=v,v*=m;return Math.floor(d)},wd=(r,o)=>{const f=xn.find(d=>d.id===r);return f?Math.floor(f.baseCost*Math.pow(f.costScale,o)):0},Sh=(r,o,f,d,m,v)=>{(!r||!Array.isArray(r))&&(r=[]),(!o||!Array.isArray(o))&&(o=[]),(!f||!Array.isArray(f))&&(f=[]),(!d||typeof d!="object")&&(d={}),(!m||m<=0)&&(m=1),v||(v={});const w=r.reduce((T,S)=>{const G=S&&typeof S.count=="number"?S.count:0,B=S&&typeof S.baseProd=="number"?S.baseProd:0;return T+G*B},0),C=r.reduce((T,S)=>{const G=S&&typeof S.count=="number"?S.count:0,B=S&&typeof S.baseDust=="number"?S.baseDust:0;return T+G*B},0),b=d&&typeof d.synergy_1=="number"?d.synergy_1:0,x=1+Math.max(0,b)*.02,U=T=>!!(v&&(v.active===T||v.active2===T)),R=!!(v&&v.active&&v.active2&&v.active!==v.active2);let M=U("codex_astral")?1.25:1,E=1;if(U("codex_earth")&&(E*=1.1),R){const T=v.active,S=v.active2,G=[T,S].sort().join("_");G==="codex_astral_codex_earth"?(E*=1.15,M*=1.15):G==="codex_earth_codex_fire"?(E*=1.05,M*=1.05):G==="codex_astral_codex_omega"?M*=1.1:G==="codex_fire_codex_void"&&(E*=1.2,M*=1.2)}const A=[...o,...f].filter(T=>T&&typeof T=="object").length,Q=Math.sqrt(Math.max(0,A))*.02;let L=x;R&&[v.active,v.active2].sort().join("_")==="codex_chaos_codex_void"&&(L*=1.25);const H=isNaN(Q)||isNaN(L)?0:Q*L,I=1+(isNaN(H)?0:H),se=(isNaN(w)?0:w)*I*m*E,Z=(isNaN(C)?0:C)*m*M;return(isNaN(se)||isNaN(Z))&&console.warn("NaN detected in production calculation:",{baseMana:w,baseDust:C,discoveryMult:I,prestigeMult:m,manaTomeBonus:E,dustTomeBonus:M,totalMana:se,totalDust:Z}),{mana:isNaN(se)?0:se,dust:isNaN(Z)?0:Z,discoveryMult:isNaN(I)?1:I,finalResonancePercent:isNaN(H)?0:H}};class eb{constructor(){this.ctx=null,this.enabled=!1,this.musicInterval=null}init(){if(!this.ctx&&typeof window<"u")try{this.ctx=new(window.AudioContext||window.webkitAudioContext)}catch(o){console.error("AudioContext failed to initialize:",o),this.enabled=!1}}createOscillator(o,f,d,m,v){if(!this.enabled||!this.ctx)return;this.ctx.state==="suspended"&&this.ctx.resume();const w=this.ctx.createOscillator(),C=this.ctx.createGain();w.type=o,w.frequency.setValueAtTime(f,this.ctx.currentTime);const b=this.ctx.currentTime;C.gain.setValueAtTime(0,b),C.gain.linearRampToValueAtTime(d,b+m),C.gain.exponentialRampToValueAtTime(1e-4,b+m+v),w.connect(C),C.connect(this.ctx.destination),w.start(),w.stop(b+m+v+.1)}playClick(){this.createOscillator("sine",800+Math.random()*200,.03,.01,.1)}playBuy(){this.createOscillator("triangle",300,.03,.02,.15),setTimeout(()=>this.createOscillator("sine",600,.02,.05,.2),50)}playSuccess(){this.ctx&&(this.createOscillator("sine",523.25,.05,.1,1),setTimeout(()=>this.createOscillator("sine",659.25,.05,.1,1),100))}playError(){this.createOscillator("sine",150,.05,.01,.2)}playUnlock(){!this.ctx||!this.enabled||(this.createOscillator("sine",400,.05,.1,2),setTimeout(()=>this.createOscillator("sine",800,.05,.1,2),200))}playBattleHit(){this.createOscillator("sawtooth",100+Math.random()*50,.05,.01,.1)}playBattleWin(){this.createOscillator("square",400,.05,.1,.5),setTimeout(()=>this.createOscillator("square",600,.05,.1,.5),150)}playBossSpawn(){!this.ctx||!this.enabled||(this.createOscillator("sawtooth",100,.1,.1,1),setTimeout(()=>this.createOscillator("sawtooth",80,.1,.1,1),200))}startMusic(){if(this.ctx||this.init(),!this.enabled||!this.ctx)return;this.musicInterval&&clearInterval(this.musicInterval);const o=[164.81,196,220,246.94,293.66,329.63,392],f=()=>{if(!this.enabled||!this.ctx)return;const d=o[Math.floor(Math.random()*o.length)],m=2+Math.random()*3;this.createOscillator("sine",d,.02,1,m)};this.ctx.state==="suspended"?this.ctx.resume().then(()=>{f(),this.musicInterval=setInterval(f,3500)}):(f(),this.musicInterval=setInterval(f,3500))}stopMusic(){this.musicInterval&&(clearInterval(this.musicInterval),this.musicInterval=null)}}const ge=new eb,xd="wizardTowerSaveV11",tb=()=>({mana:0,dust:0,totalMana:0,buildings:Td.map(r=>({...r,count:0,autoUnlocked:!1,autoActive:!1})),creatures:[],items:[],research:{},purchasedUpgrades:[],unlockedDimensions:["earth"],inbox:[],explorationsCount:0,clicks:0,playTime:0,unlockedAchievements:[],showTutorial:!0,prestigeCount:0,prestigeBaseMultiplier:1,arenaLevel:0,themeMode:"dark",audioEnabled:!1,numberFormat:"dynamic",dynamicBackground:!0,storyProgress:[],batterySaver:!1,antiFlicker:!1,hideNavLabels:!1,headerFixed:!0,headerCompact:!1,uiScale:1,equippedCreatureIds:[],equippedItemsBySlot:{},autoExploreEnabled:!1,library:{pages:0,scripts:0,unlocked:[],active:null,active2:null},spellCharges:{},currentSpellId:null,lastSpellDrop:null,offlineEarnings:null,gildedTowerEnabled:!1,golemPosition:"left",golemPetHidden:!1,arcaneGems:0,totalArcaneGemsEarned:0,purchasedTalents:{},temporalLoopStacks:0,masteryPoints:0,masteryBoard:Array(25).fill(null),timesRespecced:0,tutorialsSeen:{mastery:!1,ascension:!1,talents:!1},essence:0,ascensionLevel:0,ascensionPerks:{},lastSaveTime:Date.now()}),ab=(r,o,f)=>{const{setMana:d,setDust:m,setTotalMana:v,setBuildings:w,setItems:C,setCreatures:b,setResearch:x,setCurrentDimensionIndex:U,setPrestigeCount:R,setPrestigeBaseMultiplier:M,setArenaLevel:E,setThemeMode:A,setAudioEnabled:Q,setPurchasedUpgrades:L,setExplorationsCount:H,setClicks:I,setPlayTime:se,setUnlockedAchievements:Z,setShowTutorial:T,setUnlockedDimensions:S,setInbox:G,setNumberFormat:B,setDynamicBackground:he,setStoryProgress:Be,setBatterySaver:Pe,setAntiFlicker:De,setHideNavLabels:Qe,setHeaderFixed:Ye,setHeaderCompact:ce,setUiScale:D,setEquippedCreatureIds:ee,setEquippedItemsBySlot:me,setAutoExploreEnabled:Ne,setLibrary:Ce,setSpellCharges:g,setCurrentSpellId:Y,setLastSpellDrop:te,setOfflineEarnings:ue,offlineEarnings:be,setGildedTowerEnabled:_e,setGolemPosition:Oe,setGolemPetHidden:Ot,setArcaneGems:He,setPurchasedTalents:Ut,setTutorialsSeen:Wt,setMasteryPoints:Oa,setMasteryBoard:Ua,setTimesRespecced:ba,setEssence:Ha,setAscensionLevel:qa,setAscensionPerks:tl}=o,Fe=h.useCallback(()=>{const Gt={mana:r.mana,dust:r.dust,totalMana:r.totalMana,buildings:r.buildings,creatures:r.creatures,items:r.items,research:r.research,currentDimensionIndex:r.currentDimensionIndex,prestigeCount:r.prestigeCount,prestigeMultiplier:r.prestigeBaseMultiplier,arenaLevel:r.arenaLevel,themeMode:r.themeMode,audioEnabled:r.audioEnabled,purchasedUpgrades:r.purchasedUpgrades,explorationsCount:r.explorationsCount,clicks:r.clicks,playTime:r.playTime,unlockedAchievements:r.unlockedAchievements,showTutorial:r.showTutorial,unlockedDimensions:r.unlockedDimensions,inbox:r.inbox,numberFormat:r.numberFormat,dynamicBackground:r.dynamicBackground,storyProgress:r.storyProgress,batterySaver:r.batterySaver,antiFlicker:r.antiFlicker,hideNavLabels:r.hideNavLabels,headerFixed:r.headerFixed,headerCompact:r.headerCompact,uiScale:r.uiScale,equippedCreatureIds:r.equippedCreatureIds,equippedItemsBySlot:r.equippedItemsBySlot,autoExploreEnabled:r.autoExploreEnabled,library:r.library,spellCharges:r.spellCharges,currentSpellId:r.currentSpellId,lastSpellDrop:r.lastSpellDrop,gildedTowerEnabled:r.gildedTowerEnabled,golemPosition:r.golemPosition,golemPetHidden:r.golemPetHidden,arcaneGems:r.arcaneGems,totalArcaneGemsEarned:r.totalArcaneGemsEarned,purchasedTalents:r.purchasedTalents,temporalLoopStacks:r.temporalLoopStacks,masteryPoints:r.masteryPoints,masteryBoard:r.masteryBoard,timesRespecced:r.timesRespecced,tutorialsSeen:r.tutorialsSeen,essence:r.essence,ascensionLevel:r.ascensionLevel,ascensionPerks:r.ascensionPerks,lastSaveTime:Date.now()};localStorage.setItem(xd,JSON.stringify(Gt))},[r]),_a=h.useCallback(()=>{sessionStorage.getItem("skipDevClear")&&sessionStorage.removeItem("skipDevClear");const Et=localStorage.getItem(xd),ie=tb();if(Et)try{const ae=JSON.parse(Et);d(ae.mana??ie.mana),m(ae.dust??ie.dust),v(ae.totalMana??ie.totalMana),E(ae.arenaLevel??ie.arenaLevel),U(ae.currentDimensionIndex??ie.currentDimensionIndex),M(ae.prestigeMultiplier??ie.prestigeBaseMultiplier),R(ae.prestigeCount??ie.prestigeCount),A(ae.themeMode??ie.themeMode),Q(ae.audioEnabled??ie.audioEnabled),T(ae.showTutorial??ie.showTutorial),B(ae.numberFormat??ie.numberFormat),he(ae.dynamicBackground??ie.dynamicBackground),Pe(ae.batterySaver??ie.batterySaver),De(ae.antiFlicker??ie.antiFlicker),Qe(ae.hideNavLabels??ie.hideNavLabels),Ye(ae.headerFixed??ie.headerFixed),ce(ae.headerCompact??ie.headerCompact),D(ae.uiScale??ie.uiScale),L(ae.purchasedUpgrades||ie.purchasedUpgrades),S(ae.unlockedDimensions||ie.unlockedDimensions);const st=(ae.inbox||ie.inbox).map(Zt=>({...Zt,claimed:Zt.claimed===!0,read:Zt.read===!0})),Ql=st.length>0?st:ie.inbox;if(G(Ql),Be(ae.storyProgress||ie.storyProgress),H(ae.explorationsCount||ie.explorationsCount),I(ae.clicks||ie.clicks),se(ae.playTime||ie.playTime),Z(ae.unlockedAchievements||ie.unlockedAchievements),ee(ae.equippedCreatureIds||ie.equippedCreatureIds),me(ae.equippedItemsBySlot||ie.equippedItemsBySlot),Ne(ae.autoExploreEnabled??ie.autoExploreEnabled),ae.buildings){const Zt=Td.map(ya=>{const La=ae.buildings.find(al=>al.id===ya.id);return La?{...ya,...La,autoUnlocked:La.autoUnlocked||!1,autoActive:La.autoActive||!1}:{...ya,count:0,autoUnlocked:!1,autoActive:!1}});w(Zt)}else w(ie.buildings);if(Array.isArray(ae.research)){const Zt={};ae.research.forEach(ya=>Zt[ya]=1),x(Zt)}else ae.research?x(ae.research):x(ie.research);if(C(ae.items||[]),b(ae.creatures||[]),Ce(ae.library?{...ie.library,...ae.library}:ie.library),g(ae.spellCharges??ie.spellCharges),Y(ae.currentSpellId??ie.currentSpellId),te(ae.lastSpellDrop??ie.lastSpellDrop),_e(ae.gildedTowerEnabled??ie.gildedTowerEnabled),Oe(ae.golemPosition??ie.golemPosition),Ot(ae.golemPetHidden??ie.golemPetHidden),He(ae.arcaneGems??ie.arcaneGems),o.setTotalArcaneGemsEarned&&o.setTotalArcaneGemsEarned(ae.totalArcaneGemsEarned??ie.totalArcaneGemsEarned),Ut(ae.purchasedTalents??ie.purchasedTalents),o.setTemporalLoopStacks&&o.setTemporalLoopStacks(ae.temporalLoopStacks??ie.temporalLoopStacks),Oa(ae.masteryPoints??ie.masteryPoints),Ua(ae.masteryBoard??ie.masteryBoard),ba(ae.timesRespecced??ie.timesRespecced),Wt(ae.tutorialsSeen??ie.tutorialsSeen),Ha(ae.essence??ie.essence),qa(ae.ascensionLevel??ie.ascensionLevel),tl(ae.ascensionPerks??ie.ascensionPerks),ae.lastSaveTime){const ya=(Date.now()-ae.lastSaveTime)/1e3;if(ya>60){const La=ae.buildings||ie.buildings,al=ae.creatures||ie.creatures,Ga=ae.items||ie.items,ca=ae.research&&!Array.isArray(ae.research)?ae.research:{},Ht=ae.prestigeMultiplier||1,It=ae.purchasedUpgrades||[],F=ae.library?{...ie.library,...ae.library}:ie.library,ke=Ht*(It.includes("wizard_pass")?2:1),Me=Sh(La,al,Ga,ca,ke,F);let Ge=2;const Ie=ca.offline_mastery||0;Ge+=Ie,It.includes("hourglass_dlc")&&(Ge+=4);const dt=Math.min(ya,Ge*3600),ze=F.active==="codex_omega"?2:1,gt=Math.floor((Me.mana&&!isNaN(Me.mana)?Me.mana:0)*dt*ze),mt=Math.floor((Me.dust&&!isNaN(Me.dust)?Me.dust:0)*dt*ze);(gt>0||mt>0)&&(d(bt=>(bt||0)+gt),m(bt=>(bt||0)+mt),ue({time:Math.floor(dt),mana:gt,dust:mt,capped:ya>Ge*3600}),ge.playSuccess(),f("Offline earnings collected."))}}}catch(ae){console.error("Save Load Error: Using default state.",ae),Object.keys(ie).forEach(st=>{o[`set${st.charAt(0).toUpperCase()+st.slice(1)}`]&&o[`set${st.charAt(0).toUpperCase()+st.slice(1)}`](ie[st])})}},[o,f]);return{saveGame:Fe,loadGame:_a,offlineEarnings:be,setOfflineEarnings:ue,getSaveString:()=>{const Gt={mana:r.mana,dust:r.dust,totalMana:r.totalMana,buildings:r.buildings,creatures:r.creatures,items:r.items,research:r.research,currentDimensionIndex:r.currentDimensionIndex,prestigeCount:r.prestigeCount,prestigeMultiplier:r.prestigeBaseMultiplier,arenaLevel:r.arenaLevel,themeMode:r.themeMode,audioEnabled:r.audioEnabled,purchasedUpgrades:r.purchasedUpgrades,explorationsCount:r.explorationsCount,clicks:r.clicks,playTime:r.playTime,unlockedAchievements:r.unlockedAchievements,showTutorial:r.showTutorial,unlockedDimensions:r.unlockedDimensions,inbox:r.inbox,numberFormat:r.numberFormat,dynamicBackground:r.dynamicBackground,storyProgress:r.storyProgress,batterySaver:r.batterySaver,antiFlicker:r.antiFlicker,hideNavLabels:r.hideNavLabels,headerFixed:r.headerFixed,headerCompact:r.headerCompact,uiScale:r.uiScale,equippedCreatureIds:r.equippedCreatureIds,equippedItemsBySlot:r.equippedItemsBySlot,autoExploreEnabled:r.autoExploreEnabled,library:r.library,spellCharges:r.spellCharges,currentSpellId:r.currentSpellId,lastSpellDrop:r.lastSpellDrop,gildedTowerEnabled:r.gildedTowerEnabled,golemPosition:r.golemPosition,golemPetHidden:r.golemPetHidden,arcaneGems:r.arcaneGems,totalArcaneGemsEarned:r.totalArcaneGemsEarned,purchasedTalents:r.purchasedTalents,temporalLoopStacks:r.temporalLoopStacks,masteryPoints:r.masteryPoints,masteryBoard:r.masteryBoard,timesRespecced:r.timesRespecced,tutorialsSeen:r.tutorialsSeen,essence:r.essence,ascensionLevel:r.ascensionLevel,ascensionPerks:r.ascensionPerks,lastSaveTime:Date.now()},Et=JSON.stringify(Gt);return btoa(encodeURIComponent(Et))},loadFromString:Gt=>{try{const Et=decodeURIComponent(atob(Gt)),ie=JSON.parse(Et);return localStorage.setItem(xd,Et),sessionStorage.setItem("skipDevClear","true"),f&&f("Backup code loaded successfully."),!0}catch(Et){return console.error("Failed to load backup code",Et),f&&f("Failed to load backup code. Invalid or corrupted code."),!1}}}},fl={catalyst:{id:"catalyst",name:"Catalyst",icon:_l,color:"text-red-400",bgColor:"bg-red-900/20",cost:1,desc:"Production +8% per adjacent sigil",effect:{productionPerAdjacent:.08}},resonator:{id:"resonator",name:"Resonator",icon:Cd,color:"text-blue-400",bgColor:"bg-blue-900/20",cost:1,desc:"Exploration rarity +5% per adjacent sigil",effect:{exploreRarityPerAdjacent:.05}},amplifier:{id:"amplifier",name:"Amplifier",icon:Ma,color:"text-amber-400",bgColor:"bg-amber-900/20",cost:2,desc:"Prestige multiplier +15% per adjacent sigil",effect:{prestigePerAdjacent:.15}},chronometer:{id:"chronometer",name:"Chronometer",icon:qi,color:"text-purple-400",bgColor:"bg-purple-900/20",cost:3,desc:"Game tick -10ms per adjacent sigil (faster automation)",effect:{tickReductionPerAdjacent:10}},vault:{id:"vault",name:"Vault",icon:xh,color:"text-cyan-400",bgColor:"bg-cyan-900/20",cost:2,desc:"Arena ATK/HP +4% per adjacent sigil",effect:{arenaAtkPerAdjacent:.04,arenaHPPerAdjacent:.04}}},pa=5,Dd={fire:{id:"fire",name:"Fire",color:"text-red-400",bgColor:"bg-red-900/20",emoji:"",bonuses:{atkBonus:.15,spdBonus:.1},description:"Fierce and swift. Increases Attack and Speed."},water:{id:"water",name:"Water",color:"text-blue-400",bgColor:"bg-blue-900/20",emoji:"",bonuses:{defBonus:.15,hpBonus:.1},description:"Calm and resilient. Increases Defense and HP."},grass:{id:"grass",name:"Grass",color:"text-green-400",bgColor:"bg-green-900/20",emoji:"",bonuses:{spdBonus:.12,spaBonus:.12},description:"Balanced and natural. Increases Speed and Sp. Atk."},electric:{id:"electric",name:"Electric",color:"text-yellow-400",bgColor:"bg-yellow-900/20",emoji:"",bonuses:{spdBonus:.2},description:"Lightning-fast. Greatly increases Speed."},psychic:{id:"psychic",name:"Psychic",color:"text-purple-400",bgColor:"bg-purple-900/20",emoji:"",bonuses:{spaBonus:.15,spdBonus:.08},description:"Mystical power. Increases Sp. Atk and Speed."},dark:{id:"dark",name:"Dark",color:"text-slate-600",bgColor:"bg-slate-900/20",emoji:"",bonuses:{atkBonus:.12,defBonus:.08},description:"Shadowy and cunning. Increases Attack and Defense."},fairy:{id:"fairy",name:"Fairy",color:"text-pink-400",bgColor:"bg-pink-900/20",emoji:"",bonuses:{hpBonus:.12,spaBonus:.1},description:"Magical and enchanting. Increases HP and Sp. Atk."}},Ri={weapon:{id:"weapon",name:"Weapon",emoji:"",statFocus:"atk",maxSlots:1,description:"Primary attack tool. Greatly boosts ATK."},offHand:{id:"offHand",name:"Off-Hand",emoji:"",statFocus:"def",maxSlots:1,description:"Secondary defensive item. Boosts DEF."},head:{id:"head",name:"Head",emoji:"",statFocus:"hp",maxSlots:1,description:"Crown or helmet. Increases HP pool."},body:{id:"body",name:"Armour",emoji:"",statFocus:"def",maxSlots:1,description:"Full body protection. Greatly boosts DEF."},amulet:{id:"amulet",name:"Amulet",emoji:"",statFocus:"spa",maxSlots:1,description:"Mystical pendant. Boosts Sp. Atk and utility."}},lh={earth:{grass:5,electric:3,fire:1,dark:.5,fairy:0,psychic:.5,water:3},fire:{grass:.5,electric:1,fire:5,dark:3,fairy:0,psychic:.5,water:0},void:{grass:1,electric:1,fire:1,dark:5,fairy:.5,psychic:3,water:1},astral:{grass:3,electric:1,fire:1,dark:0,fairy:5,psychic:.5,water:1},chaos:{grass:0,electric:1,fire:1,dark:3,fairy:0,psychic:5,water:0},omega:{grass:1,electric:1,fire:1,dark:1,fairy:1,psychic:1,water:1},wellspring:{grass:1,electric:1,fire:1,dark:1,fairy:3,psychic:1,water:5}},lb=()=>{const r=Object.keys(Dd);return r[Math.floor(Math.random()*r.length)]},sb=r=>{const o=lh[r]||lh.earth,f=[];return Object.entries(o).forEach(([d,m])=>{if(m>0){const v=Math.round(m*10);for(let w=0;w<v;w++)f.push(d)}}),f.length===0?lb():f[Math.floor(Math.random()*f.length)]},nb=r=>{const o=Dd[r];return o?{atkBonus:o.bonuses.atkBonus||0,defBonus:o.bonuses.defBonus||0,hpBonus:o.bonuses.hpBonus||0,spdBonus:o.bonuses.spdBonus||0,spaBonus:o.bonuses.spaBonus||0}:{atkBonus:0,defBonus:0,hpBonus:0,spdBonus:0,spaBonus:0}},sh={regenerating:{id:"regenerating",name:"Regenerating",emoji:"",color:"text-green-400",description:"Boss recovers 5% of max HP.",effect:"regen",regenPercent:.05},hardened:{id:"hardened",name:"Hardened",emoji:"",color:"text-slate-400",description:"Boss takes 20% less damage from all sources.",effect:"damageReduction",reduction:.2},berserk:{id:"berserk",name:"Berserk",emoji:"",color:"text-red-400",description:"Boss deals 25% increased damage.",effect:"damageBuff",damageIncrease:.25},lifesteal:{id:"lifesteal",name:"Lifesteal",emoji:"",color:"text-purple-400",description:"Boss recovers 30% of damage dealt.",effect:"lifesteal",healPercent:.3},explosive:{id:"explosive",name:"Explosive",emoji:"",color:"text-orange-400",description:"When boss is hit, reflects 15% of damage back.",effect:"reflect",reflectPercent:.15},shielded:{id:"shielded",name:"Shielded",emoji:"",color:"text-cyan-400",description:"Boss blocks 10% of all incoming damage.",effect:"shield",blockPercent:.1},swift:{id:"swift",name:"Swift",emoji:"",color:"text-yellow-400",description:"Boss attacks twice each time.",effect:"doubleAttack"},resilient:{id:"resilient",name:"Resilient",emoji:"",color:"text-blue-400",description:"Boss requires 3 consecutive hits to take damage.",effect:"chargeHits",chargesNeeded:3}},ib=(r=2)=>{const o=Object.keys(sh),f=[],d=[...o];for(let m=0;m<Math.min(r,d.length);m++){const v=Math.floor(Math.random()*d.length);f.push(d[v]),d.splice(v,1)}return f.map(m=>sh[m])},uo=(r,o)=>{const f=(r+1)%5===0,d=f?1.6:1;let m=80*Math.pow(1.18,r)*d,v=3*Math.pow(1.12,r)*d;if(o&&r<10){const H=Math.max(0,(o.atk||0)-6),I=Math.max(0,(o.hp||0)-40),se=Math.min(1.4,1+H/40*.4+I/400*.3);m*=se,v*=Math.min(1.3,1+H/60*.3)}const w=Math.floor(m),C=Math.floor(v),b=Math.floor(10*Math.pow(1.12,r)*(f?3:1)),x=Object.keys(Ui),U=x[Math.floor(Math.random()*x.length)],R=Ui[U],M=R.adj[Math.floor(Math.random()*R.adj.length)],E=R.noun[Math.floor(Math.random()*R.noun.length)],A=H=>H.charAt(0).toUpperCase()+H.slice(1),Q=f?`BOSS: ${A(M)} ${A(E)} ${["Overlord","Titan","Lord","Emperor","Sovereign"][Math.floor(Math.random()*5)]}`:`${A(M)} ${A(E)}`,L=f?ib(Math.floor(Math.random()*2)+1):[];return{name:Q,hp:w,atk:C,reward:{dust:b},level:r,isBoss:f,affixes:L}},Rr=(r=1,o=0)=>{const f=(r-1)*.01,d=Math.random(),m=Math.max(0,Math.min(1,o)),v=Math.min(1,Qt.unique.chance+f+.005*m),w=Math.min(1,Qt.legendary.chance+f+.01*m),C=Math.min(1,Qt.epic.chance+.02*m),b=Math.min(1,Qt.rare.chance+.03*m),x=Qt.uncommon.chance;return d<v?"unique":d<v+w?"legendary":d<v+w+C?"epic":d<v+w+C+b?"rare":d<v+w+C+b+x?"uncommon":"common"},Mh=(r,o)=>{const f=Qt[o]||Qt.common,d=r*10,m=f&&f.mult?f.mult:1,v=.8+Math.random()*.4,w=Math.floor(d*m*v);return isNaN(w)?0:w},ho={weapon:{adj:["keen","brutal","balanced","serrated","mythic","razor-edged","tempered","forged","hallowed","cursed","ancient","sharpened","bloodied","legendary","masterwork","enchanted","corrupted","celestial","infernal","eternal"],noun:["blade","staff","spear","hammer","bow","glaive","axe","sword","mace","scythe","claymore","rapier","katana","warhammer","greataxe","halberd","dagger","lance","scepter","wand"],verb:["hungers for battle","sings when swung","cuts through armor","thrums with power","cleaves shadow and light","strikes with divine fury","channels raw destruction","pulses with killing intent","gleams with deadly purpose","whispers of countless victories","hums with arcane resonance","craves the taste of victory"]},offHand:{adj:["sturdy","ornate","runed","polished","ancient","warded","blessed","fortified","mystical","crystalline","iron-bound","gilded","engraved","spectral","guardian","protective","steadfast","timeworn","ethereal","radiant"],noun:["shield","talisman","focus","grimoire","buckler","aegis","ward","barrier","bulwark","orb","tome","codex","relic","artifact","fetish","totem","icon","phylactery","effigy","sphere"],verb:["wards incoming blows","channels protective auras","deflects with ease","channels destructive magics","absorbs hostile energy","turns fate aside","shields the bearer from harm","radiates defensive power","bends reality to protect","shimmers with barrier magic","repels dark forces","guards against all threats"]},head:{adj:["gleaming","horned","hooded","crowned","enchanted","jeweled","winged","feathered","spiked","regal","decorated","ornamental","arcane","mystical","royal","noble","sovereign","majestic","imperial","divine"],noun:["helm","circlet","hood","crown","mask","diadem","tiara","cowl","headband","visor","coif","cap","veil","headdress","coronet","wreath","chaplet","fillet","bandeau","war-mask"],verb:["sharpens the mind","focuses intent","whispers ancient counsel","grants clarity of purpose","reveals hidden truths","expands consciousness","channels celestial wisdom","illuminates the path forward","protects the thoughts within","amplifies mental fortitude","pierces through illusion","crowns with authority"]},body:{adj:["layered","plated","woven","scaled","blessed","reinforced","enchanted","studded","chainmail","padded","hardened","mystical","fortified","runic","steel-bound","dragon-scale","ethereal","spectral","living","adaptive"],noun:["armor","robes","mail","cuirass","garb","hauberk","breastplate","vestment","tunic","coat","jerkin","doublet","surcoat","brigandine","harness","carapace","raiment","regalia","mantle","cloak"],verb:["turns aside strikes","radiates quiet resilience","flows like water","stands unyielding","absorbs tremendous force","moves with the wearer","bears the weight of destiny","shields from mortal peril","breathes with arcane life","wraps in protective magic","endures all hardships","molds to the body"]},amulet:{adj:["glimmering","etched","sacred","ominous","prismatic","gleaming","mystical","ancient","runed","blessed","cursed","radiant","shadowed","luminous","crystalline","obsidian","golden","silver","jade","starlit"],noun:["amulet","pendant","charm","sigil","token","medallion","brooch","locket","talisman","emblem","crest","seal","badge","jewel","stone","gem","ornament","trinket","keepsake","relic"],verb:["binds latent power","aligns the spirit","hums with ancient magic","pulses with inner light","resonates with the cosmos","channels primordial forces","bridges worlds unseen","awakens dormant potential","glows with mystical energy","connects to the weave","harmonizes with the soul","whispers of forgotten ages"]}},Ui={fire:{adj:["blazing","ember-born","searing","smoldering","volcanic","incandescent","scorching","fiery","burning","infernal","flame-wreathed","molten","cinderous","pyroclastic","charred","ignited","combusting","red-hot","hell-forged","ashen"],noun:["flamekin","cinderbeast","pyre wraith","ashling","imp","elemental","dragon","phoenix","salamander","ifrit","magma golem","fire sprite","lava serpent","flame spirit","ember wolf","inferno titan","coal-heart","scorch demon","blaze fiend","cinder drake"],verb:["crackles with heat","leaves scorched footprints","kindles nearby air","radiates intense warmth","burns with inner fire","ignites the very air","smolders with rage","exhales smoke and flame","scorches all it touches","blazes eternally","erupts with volcanic fury","chars the ground beneath"]},water:{adj:["tidal","briny","mist-veiled","flowing","icy","frozen","aquatic","oceanic","glacial","crystalline","frost-touched","deep-dwelling","current-born","wave-riding","torrential","fluid","submerged","coral-bound","abyssal","pelagic"],noun:["elemental","kelp walker","tideling","sea sprite","siren","mer","deep lord","dragon","naiad","undine","water spirit","reef guardian","frost wyrm","ice phantom","wave dancer","ocean strider","current weaver","aqua beast","tide caller","leviathan spawn"],verb:["ripples the ground","drips with mana","speaks in bubbles","flows like a river","freezes the air around it","parts like mist","swims through reality","crashes like waves","erodes all barriers","ebbs and flows eternally","surges with aquatic power","shimmers with liquid grace"]},grass:{adj:["verdant","blooming","rootbound","thorned","living","vinebound","mossy","leafy","flowering","overgrown","bark-covered","fungal","herbal","woody","botanical","chlorophyll-kissed","photosynthetic","sprouting","budding","garden-born"],noun:["grove spirit","thicket stalker","seedling","barkkin","treant","elemental","dragon","dryad","shambler","spriggan","vine horror","moss beast","thorn walker","bloom sprite","root tender","canopy lurker","verdant guardian","pollen wraith","hedge beast","nature sentinel"],verb:["sheds pollen","weaves vines underfoot","sways to unseen winds","grows with wild abandon","blooms in cycles","photosynthesizes ambient mana","roots deep into the earth","spreads like wildfire","rustles with life","flourishes endlessly","breathes pure oxygen","tangles all who approach"]},electric:{adj:["crackling","charged","ion-lit","stormborn","thundering","energized","voltaic","magnetic","plasma-wreathed","lightning-quick","electrified","shocking","static-filled","arc-dancing","tesla-touched","galvanic","current-laden","spark-showered","ionized","thunderstruck"],noun:["spark runner","volt wisp","coil serpent","stormling","elemental","volt mouse","dragon","thunder beast","lightning sprite","storm spirit","plasma wraith","arc wolf","static phantom","bolt fiend","tesla horror","tempest drake","shock demon","current rider","ion sprite","thunderbird"],verb:["arcs with static","snaps at shadows","thrums like thunder","crackles with electricity","generates constant voltage","ionizes the surrounding air","strikes like lightning","conducts raw energy","sparks uncontrollably","pulses with electromagnetic force","discharges brilliant arcs","moves at the speed of thought"]},psychic:{adj:["mind-veiled","astral","whispering","lucid","incorporeal","telepathic","prescient","omniscient","cognitive","cerebral","thought-born","consciousness-bound","third-eyed","mental","psionic","synaptic","awareness-touched","perception-twisted","brain-linked","esper"],noun:["thoughtform","dream eater","seerkin","mindshard","elemental","flayer","psychic","telepath","mentalist","esper beast","brain wraith","psi phantom","consciousness spirit","mind predator","thought stalker","astral wanderer","psyche guardian","dream weaver","id manifestation","neural entity"],verb:["bends the air","echoes silent words","stares beyond sight","reads minds effortlessly","projects psychic force","exists in thought alone","dreams while awake","perceives all timelines","transcends physical form","communes telepathically","fractures reality with will","sees through all deception"]},dark:{adj:["umbral","shadowcast","void-touched","nightborne","malicious","tenebrous","stygian","pitch-black","eclipsed","obsidian","shadow-wreathed","midnight","darkened","abyssal","lightless","noir","cimmerian","murky","shade-born","penumbral"],noun:["gloom fiend","shade prowler","void spawn","night wraith","darkserpent","shadow","umbra beast","darkness elemental","nightstalker","void walker","eclipse demon","midnight terror","shade dragon","abyss crawler","shadow fiend","dusk phantom","noir spirit","tenebrous horror","black specter","dark entity"],verb:["dims nearby light","drinks in warmth","moves between shadows","exists in darkness","absorbs all illumination","cloaks itself in void","swallows hope whole","spreads endless night","hunts in perpetual gloom","feeds on despair","shrouds the world in shadow","extinguishes all flames"]},fairy:{adj:["glittering","mischief-touched","gossamer","luminous","ethereal","sparkling","enchanted","whimsical","iridescent","prismatic","moonlit","starry","fey-touched","magical","celestial","dreamlike","otherworldly","fantastical","radiant","shimmering"],noun:["pixling","glamour sprite","fae mote","will-o-wisp","unicorn","dragon","spellbreaker","fairy","pixie","sylph","fey spirit","moonbeam dancer","starlight sprite","dream fairy","enchantment wisp","rainbow guardian","celestial being","magic sprite","glitter phantom","fae dragon"],verb:["trails stardust","giggles on the wind","twinkles out of sight","dances in moonlight","sprinkles fairy dust","enchants all who see it","grants wishes unbidden","flutters between worlds","shimmers with pure magic","sparkles eternally","plays tricks on mortals","radiates innocent wonder"]}},rb=r=>{const o=ho[r]||ho.weapon,f=o.verb[Math.floor(Math.random()*o.verb.length)],d=f.charAt(0).toUpperCase(),m=f.slice(1);return`${d}${m}.`},cb=r=>{const o=Ui[r]||Ui.fire,f=o.verb[Math.floor(Math.random()*o.verb.length)],d=f.charAt(0).toUpperCase(),m=f.slice(1);return`${d}${m}.`},ro=(r,o,f,d)=>{const m=ot.find(M=>M.id===d)||ot[0],v=ho[r]||ho.weapon,w=v.adj[Math.floor(Math.random()*v.adj.length)],C=v.noun[Math.floor(Math.random()*v.noun.length)],b=M=>M.charAt(0).toUpperCase()+M.slice(1),x=`${b(w)} ${b(C)}`;let U=Mh(o,f);return U=Math.floor(U*({weapon:1.2,offHand:.9,head:1,body:1.1,amulet:1.05}[r]||1)),{id:Date.now()+Math.random(),name:x,rarity:f,power:U,slot:r,dimension:m.name,flavor:rb(r)}},Br=(r,o,f)=>{const d=sb(f),m=Dd[d],v=ot.find(M=>M.id===f)||ot[0],w=Ui[d]||Ui.fire,C=w.adj[Math.floor(Math.random()*w.adj.length)],b=w.noun[Math.floor(Math.random()*w.noun.length)],x=M=>M.charAt(0).toUpperCase()+M.slice(1),U=`${x(C)} ${x(b)}`,R=Mh(r,o);return{id:Date.now()+Math.random(),name:U,rarity:o,power:R,elemental:d,elementalName:m.name,dimension:v.name,flavor:cb(d)}},kt={CHANNELING:"channeling",BATTLE:"battle",SCHOLAR:"scholar"},Hi={channeling_flow:{id:"channeling_flow",name:"Enhanced Flow",desc:"Increases Mana generation by 15%",path:kt.CHANNELING,tier:1,cost:1,maxRanks:1,requires:[],effect:{type:"mana_mult",value:.15}},channeling_dust:{id:"channeling_dust",name:"Dust Affinity",desc:"Increases Dust generation by 15%",path:kt.CHANNELING,tier:1,cost:1,maxRanks:1,requires:[],effect:{type:"dust_mult",value:.15}},channeling_efficiency:{id:"channeling_efficiency",name:"Efficient Construction",desc:"Buildings cost 8% less Mana",path:kt.CHANNELING,tier:2,cost:2,maxRanks:1,requires:["channeling_flow"],effect:{type:"building_cost",value:.92}},channeling_major1:{id:"channeling_major1",name:"Mana Nexus",desc:"Buildings generate an additional 5% of their neighbors' production",path:kt.CHANNELING,tier:3,cost:5,maxRanks:1,requires:["channeling_efficiency"],effect:{type:"nexus",value:.05},major:!0,lore:"The tower's floors resonate with each other, channeling energy through unseen connections."},channeling_crystal:{id:"channeling_crystal",name:"Crystalline Resonance",desc:"Each Crystal boosts Mana and Dust generation by 2%",path:kt.CHANNELING,tier:4,cost:3,maxRanks:1,requires:["channeling_major1"],effect:{type:"crystal_boost",value:.02}},channeling_overflow:{id:"channeling_overflow",name:"Overflow Mastery",desc:"Resource overflow provides 20% bonus instead of diminishing returns",path:kt.CHANNELING,tier:5,cost:4,maxRanks:1,requires:["channeling_crystal"],effect:{type:"overflow",value:.2}},channeling_major2:{id:"channeling_major2",name:"Temporal Loop",desc:"Every 10th Teleport grants a permanent +5% base multiplier (stacks infinitely)",path:kt.CHANNELING,tier:6,cost:8,maxRanks:1,requires:["channeling_overflow"],effect:{type:"temporal_loop",value:.05},major:!0,lore:"You've learned to anchor echoes from previous timelines, each loop strengthening your mastery."},channeling_capstone:{id:"channeling_capstone",name:"Infinite Wellspring",desc:"Mana and Dust generation +100%. Buildings auto-purchase when affordable (toggleable). Unlock Wellspring Dimension.",path:kt.CHANNELING,tier:7,cost:15,maxRanks:1,requires:["channeling_major2"],effect:{type:"wellspring",value:1},capstone:!0,lore:"At the heart of the tower lies an eternal font of arcane power. You have become one with it."},battle_attack:{id:"battle_attack",name:"Weapon Training",desc:"Increases player attack by 12%",path:kt.BATTLE,tier:1,cost:1,maxRanks:1,requires:[],effect:{type:"player_atk",value:.12}},battle_hp:{id:"battle_hp",name:"Fortified Will",desc:"Increases player HP by 15%",path:kt.BATTLE,tier:1,cost:1,maxRanks:1,requires:[],effect:{type:"player_hp",value:.15}},battle_explorer:{id:"battle_explorer",name:"Swift Explorer",desc:"Reduces dimension exploration time by 10%",path:kt.BATTLE,tier:2,cost:2,maxRanks:1,requires:["battle_attack"],effect:{type:"explore_speed",value:.9}},battle_major1:{id:"battle_major1",name:"Beast Bond",desc:"Equipped creatures gain experience and can level up (max +5 levels, +10% stats per level)",path:kt.BATTLE,tier:3,cost:5,maxRanks:1,requires:["battle_explorer"],effect:{type:"beast_bond",value:5},major:!0,lore:"Your bond with summoned creatures deepens. They grow stronger alongside you."},battle_crit:{id:"battle_crit",name:"Critical Strike",desc:"15% chance to deal double damage in combat",path:kt.BATTLE,tier:4,cost:3,maxRanks:1,requires:["battle_major1"],effect:{type:"crit_chance",value:.15}},battle_rift:{id:"battle_rift",name:"Dimensional Rift",desc:"Can explore 2 dimensions simultaneously",path:kt.BATTLE,tier:5,cost:4,maxRanks:1,requires:["battle_crit"],effect:{type:"dual_explore",value:2}},battle_major2:{id:"battle_major2",name:"Boss Whispers",desc:"Defeated arena bosses have a 5% chance to join as recruitable creatures",path:kt.BATTLE,tier:6,cost:8,maxRanks:1,requires:["battle_rift"],effect:{type:"boss_recruit",value:.05},major:!0,lore:"The conquered remember their master. Those broken by your power may swear fealty."},battle_capstone:{id:"battle_capstone",name:"Apex Predator",desc:"Start each Arena wave at +3 levels. All equipped creatures gain +50% stats. Unlock Endless Arena mode.",path:kt.BATTLE,tier:7,cost:15,maxRanks:1,requires:["battle_major2"],effect:{type:"apex",value:3},capstone:!0,lore:"You have become the ultimate hunter. No foe can match your ferocity and precision."},scholar_research:{id:"scholar_research",name:"Rapid Study",desc:"Research costs 12% less Dust",path:kt.SCHOLAR,tier:1,cost:1,maxRanks:1,requires:[],effect:{type:"research_cost",value:.88}},scholar_perks:{id:"scholar_perks",name:"Perk Efficiency",desc:"Ascension perks are 10% stronger",path:kt.SCHOLAR,tier:1,cost:1,maxRanks:1,requires:[],effect:{type:"perk_power",value:.1}},scholar_shards:{id:"scholar_shards",name:"Challenge Insight",desc:"Challenge Shard gains increased by 15%",path:kt.SCHOLAR,tier:2,cost:2,maxRanks:1,requires:["scholar_research"],effect:{type:"shard_mult",value:.15}},scholar_major1:{id:"scholar_major1",name:"Omniscient Library",desc:"Can have 2 active Grimoire tomes simultaneously. Certain pairs provide synergy bonuses.",path:kt.SCHOLAR,tier:3,cost:5,maxRanks:1,requires:["scholar_shards"],effect:{type:"dual_tomes",value:2},major:!0,lore:"Your mind expands to contain multiple streams of forbidden knowledge at once."},scholar_essence:{id:"scholar_essence",name:"Essence Compression",desc:"Ascension rewards +20% more Essence",path:kt.SCHOLAR,tier:4,cost:3,maxRanks:1,requires:["scholar_major1"],effect:{type:"essence_mult",value:.2}},scholar_mastery:{id:"scholar_mastery",name:"Mastery Overflow",desc:"Gain 1 extra Mastery point per Ascension",path:kt.SCHOLAR,tier:5,cost:4,maxRanks:1,requires:["scholar_essence"],effect:{type:"mastery_bonus",value:1}},scholar_major2:{id:"scholar_major2",name:"Forgotten Archives",desc:"Unlock 5 hidden researches with powerful unique effects",path:kt.SCHOLAR,tier:6,cost:8,maxRanks:1,requires:["scholar_mastery"],effect:{type:"secret_research",value:5},major:!0,lore:"You discover the tower's original purpose: a prison for knowledge too dangerous to exist."},scholar_capstone:{id:"scholar_capstone",name:"Transcendent Mind",desc:"All researches 50% more effective. Can bank up to 3 Challenge modifiers for normal runs. +1 Ascension perk slot (7 total).",path:kt.SCHOLAR,tier:7,cost:15,maxRanks:1,requires:["scholar_major2"],effect:{type:"transcendent",value:.5},capstone:!0,lore:"Your consciousness transcends mortal limitation. You perceive patterns in reality itself."}};function ob(r){return Object.values(Hi).filter(o=>o.path===r)}function Ah(r,o){const f=Hi[r];return!f||o[r]?!1:f.requires.every(d=>o[d])}function ub(r){const o={manaMult:1,dustMult:1,buildingCostMult:1,playerAtkMult:1,playerHpMult:1,exploreSpeedMult:1,researchCostMult:1,perkPowerMult:1,shardMult:1,essenceMult:1,crystalBoost:0,critChance:0,masteryBonus:0,nexusBonus:0,hasNexus:!1,hasOverflow:!1,hasTemporalLoop:!1,hasWellspring:!1,hasBeastBond:!1,hasDualExplore:!1,hasBossRecruit:!1,bossRecruitChance:0,hasApex:!1,apexLevels:0,hasDualTomes:!1,hasSecretResearch:!1,hasTranscendent:!1};return Object.entries(r).forEach(([f,d])=>{if(!d)return;const m=Hi[f];if(!m)return;const v=m.effect;switch(v.type){case"mana_mult":o.manaMult+=v.value;break;case"dust_mult":o.dustMult+=v.value;break;case"building_cost":o.buildingCostMult*=v.value;break;case"player_atk":o.playerAtkMult+=v.value;break;case"player_hp":o.playerHpMult+=v.value;break;case"explore_speed":o.exploreSpeedMult*=v.value;break;case"research_cost":o.researchCostMult*=v.value;break;case"perk_power":o.perkPowerMult+=v.value;break;case"shard_mult":o.shardMult+=v.value;break;case"essence_mult":o.essenceMult+=v.value;break;case"crystal_boost":o.crystalBoost=v.value;break;case"crit_chance":o.critChance=v.value;break;case"mastery_bonus":o.masteryBonus=v.value;break;case"nexus":o.hasNexus=!0,o.nexusBonus=v.value;break;case"overflow":o.hasOverflow=!0;break;case"temporal_loop":o.hasTemporalLoop=!0;break;case"wellspring":o.hasWellspring=!0,o.manaMult+=v.value,o.dustMult+=v.value;break;case"beast_bond":o.hasBeastBond=!0;break;case"dual_explore":o.hasDualExplore=!0;break;case"boss_recruit":o.hasBossRecruit=!0,o.bossRecruitChance=v.value;break;case"apex":o.hasApex=!0,o.apexLevels=v.value;break;case"dual_tomes":o.hasDualTomes=!0;break;case"secret_research":o.hasSecretResearch=!0;break;case"transcendent":o.hasTranscendent=!0;break}}),o}const Bi={temporal_forge:{id:"temporal_forge",name:"Temporal Forge",desc:"Game tick rate -10ms per level (faster production)",cost:5,maxLevel:5,costScale:1.5,category:"production",icon:qi,color:"text-amber-400",effect:r=>({tickReduction:r*10})},essence_infusion:{id:"essence_infusion",name:"Essence Infusion",desc:"+20% to ALL production per level",cost:3,maxLevel:10,costScale:1.8,category:"production",icon:_l,color:"text-indigo-400",effect:r=>({productionMult:1+r*.2})},eternal_automation:{id:"eternal_automation",name:"Eternal Automation",desc:"All buildings start with auto-build unlocked",cost:10,maxLevel:1,costScale:1,category:"production",icon:is,color:"text-emerald-400",effect:()=>({autoUnlockAll:!0})},dust_synthesis:{id:"dust_synthesis",name:"Dust Synthesis",desc:"+15% Dust generation per level",cost:4,maxLevel:8,costScale:1.6,category:"production",icon:ga,color:"text-fuchsia-400",effect:r=>({dustMult:1+r*.15})},ancient_knowledge:{id:"ancient_knowledge",name:"Ancient Knowledge",desc:"Start each prestige with +1 free level in all research",cost:8,maxLevel:3,costScale:2,category:"research",icon:ei,color:"text-cyan-400",effect:r=>({freeResearchLevels:r})},research_efficiency:{id:"research_efficiency",name:"Research Efficiency",desc:"All research costs -10% per level",cost:6,maxLevel:5,costScale:1.7,category:"research",icon:ei,color:"text-purple-400",effect:r=>({researchCostReduction:r*.1})},dimensional_echo:{id:"dimensional_echo",name:"Dimensional Echo",desc:"Exploration speed +25% per level",cost:4,maxLevel:8,costScale:1.6,category:"portal",icon:Xl,color:"text-blue-400",effect:r=>({explorationSpeed:1+r*.25})},planar_memories:{id:"planar_memories",name:"Planar Memories",desc:"Keep all unlocked dimensions after Teleport",cost:12,maxLevel:1,costScale:1,category:"portal",icon:ml,color:"text-indigo-300",effect:()=>({keepDimensions:!0})},void_mastery:{id:"void_mastery",name:"Void Mastery",desc:"+10% better rarity chances per level",cost:6,maxLevel:5,costScale:1.7,category:"portal",icon:bo,color:"text-indigo-400",effect:r=>({rarityBonus:r*.1})},battle_relics:{id:"battle_relics",name:"Battle Relics",desc:"Unlock +1 extra loadout slot per level",cost:7,maxLevel:3,costScale:2.5,category:"arena",icon:rs,color:"text-red-400",effect:r=>({extraLoadoutSlots:r})},immortal_warrior:{id:"immortal_warrior",name:"Immortal Warrior",desc:"Start arena fights with +20% HP per level",cost:4,maxLevel:10,costScale:1.5,category:"arena",icon:Cd,color:"text-orange-400",effect:r=>({arenaHPBonus:r*.2})},eternal_champion:{id:"eternal_champion",name:"Eternal Champion",desc:"+10% Arena attack damage per level",cost:5,maxLevel:8,costScale:1.6,category:"arena",icon:hh,color:"text-rose-400",effect:r=>({arenaAtkBonus:r*.1})},prestige_persistence:{id:"prestige_persistence",name:"Prestige Persistence",desc:"Keep +10% base mana per level after Teleport",cost:8,maxLevel:5,costScale:2,category:"meta",icon:ml,color:"text-emerald-300",effect:r=>({keepManaPercent:r*.1})},mastery_genius:{id:"mastery_genius",name:"Mastery Genius",desc:"+1 Mastery Point per prestige",cost:15,maxLevel:1,costScale:1,category:"meta",icon:zs,color:"text-yellow-400",effect:()=>({bonusMasteryPoint:!0})},infinite_library:{id:"infinite_library",name:"Infinite Library",desc:"Equip 2 Codex simultaneously",cost:20,maxLevel:1,costScale:1,category:"meta",icon:fo,color:"text-purple-300",effect:()=>({doubleCodex:!0})},cosmic_insight:{id:"cosmic_insight",name:"Cosmic Insight",desc:"Prestige multiplier applies at 1.25x effectiveness",cost:25,maxLevel:1,costScale:1,category:"meta",icon:Ma,color:"text-amber-300",effect:()=>({prestigeMultBonus:1.25})}},db={production:{name:"Production",icon:_l,color:"text-indigo-400",desc:"Boost mana, dust, and tick rates"},research:{name:"Research",icon:ei,color:"text-cyan-400",desc:"Enhance lab capabilities"},portal:{name:"Portal",icon:Xl,color:"text-blue-400",desc:"Improve dimension exploration"},arena:{name:"Arena",icon:rs,color:"text-red-400",desc:"Strengthen combat abilities"},meta:{name:"Meta",icon:Ma,color:"text-amber-400",desc:"Game-changing permanent upgrades"}},fb=r=>{const{mana:o,dust:f,totalMana:d,buildings:m,creatures:v,items:w,research:C,purchasedUpgrades:b,library:x,equippedCreatureIds:U,equippedItemsBySlot:R,arenaLevel:M,currentDimensionIndex:E,prestigeBaseMultiplier:A,inbox:Q,masteryBoard:L,unlockedAchievements:H}=r,I=h.useMemo(()=>ub(r.purchasedTalents||{}),[r.purchasedTalents]),se=h.useMemo(()=>{const F={tickReduction:0,productionMult:1,dustMult:1,researchCostReduction:0,explorationSpeed:1,rarityBonus:0,arenaAtkBonus:0,arenaHPBonus:0,keepManaPercent:0,freeResearchLevels:0,extraLoadoutSlots:0,bonusMasteryPoint:!1},ke=r.ascensionPerks||{},Me=I.perkPowerMult||1;return Object.entries(ke).forEach(([Ge,Ie])=>{if(!Ie||Ie<=0)return;const dt=Bi[Ge];if(!dt||!dt.effect)return;const ze=dt.effect(Ie);ze.tickReduction&&(F.tickReduction+=ze.tickReduction*Me),ze.productionMult&&(F.productionMult*=ze.productionMult),ze.dustMult&&(F.dustMult*=ze.dustMult),ze.researchCostReduction&&(F.researchCostReduction+=ze.researchCostReduction*Me),ze.explorationSpeed&&(F.explorationSpeed*=ze.explorationSpeed),ze.rarityBonus&&(F.rarityBonus+=ze.rarityBonus*Me),ze.arenaAtkBonus&&(F.arenaAtkBonus+=ze.arenaAtkBonus*Me),ze.arenaHPBonus&&(F.arenaHPBonus+=ze.arenaHPBonus*Me),ze.keepManaPercent&&(F.keepManaPercent+=ze.keepManaPercent),ze.freeResearchLevels&&(F.freeResearchLevels+=ze.freeResearchLevels),ze.extraLoadoutSlots&&(F.extraLoadoutSlots+=ze.extraLoadoutSlots),ze.bonusMasteryPoint&&(F.bonusMasteryPoint=!0)}),F},[r.ascensionPerks,I.perkPowerMult]),Z=h.useMemo(()=>{let F=0,ke=0,Me=0;return zd.forEach(Ge=>{H!=null&&H.includes(Ge.id)&&(Ge.bonus.type==="manaGain"&&(F+=Ge.bonus.value),Ge.bonus.type==="production"&&(ke+=Ge.bonus.value),Ge.bonus.type==="whisperRewards"&&(Me+=Ge.bonus.value))}),{manaGainBonus:F,productionBonus:ke,whisperRewardBonus:Me}},[H]),T=F=>{const ke=C[F]||0,Me=se.freeResearchLevels||0;return ke+Me},S=F=>!!(x&&(x.active===F||x.active2===F)),G=F=>T(F)>0,B=h.useMemo(()=>{let F=1,ke=0,Me=0,Ge=0,Ie=0,dt=0;if(!L)return{productionMult:F,tickReduction:ke,offlineBonus:Me};if(!L.some(mt=>mt!==null))return{productionMult:F,tickReduction:ke,offlineBonus:Me};let gt=L.map((mt,bt)=>({i:bt,s:mt})).filter(mt=>mt.s!==null).map(mt=>mt.i);return L.forEach((mt,bt)=>{if(!mt||gt.length&&!gt.includes(bt))return;const $t=fl[mt];if(!$t)return;const $a=bt%pa;let va=[bt-pa,bt+pa,$a>0?bt-1:-1,$a<pa-1?bt+1:-1].filter(ea=>ea>=0&&ea<L.length&&L[ea]!==null&&(!gt.length||gt.includes(ea))).length;mt==="catalyst"&&$t.effect.productionPerAdjacent&&(F+=$t.effect.productionPerAdjacent*va),mt==="resonator"&&$t.effect.exploreRarityPerAdjacent&&(Ge+=$t.effect.exploreRarityPerAdjacent*va),mt==="amplifier"&&$t.effect.prestigePerAdjacent,mt==="chronometer"&&$t.effect.tickReductionPerAdjacent&&(ke+=$t.effect.tickReductionPerAdjacent*va),mt==="vault"&&($t.effect.arenaAtkPerAdjacent&&(Ie+=$t.effect.arenaAtkPerAdjacent*va),$t.effect.arenaHPPerAdjacent&&(dt+=$t.effect.arenaHPPerAdjacent*va))}),{productionMult:F,tickReduction:ke,offlineBonus:Me,exploreRarityBonus:Ge,arenaAtkBonus:Ie,arenaHPBonus:dt}},[L]),he=h.useMemo(()=>{let F=0;return!L||!L.some(Me=>Me==="amplifier")||L.forEach((Me,Ge)=>{if(Me!=="amplifier")return;const Ie=fl.amplifier;if(!Ie)return;const dt=Ge%pa,ze=[Ge-pa,Ge+pa,dt>0?Ge-1:-1,dt<pa-1?Ge+1:-1].filter(gt=>gt>=0&&gt<L.length&&L[gt]!==null).length;F+=Ie.effect.prestigePerAdjacent*ze}),F},[L]),Be=b.includes("goblin_manager")?2:1,Pe=A&&!isNaN(A)?A*Be:1,De=1+(r.temporalLoopStacks||0)*.05,Qe=Pe*De*(1+he),Ye=h.useMemo(()=>{const F=Sh(m,v,w,C,Qe,x);let ke=F&&F.mana&&!isNaN(F.mana)?F.mana:0,Me=F&&F.dust&&!isNaN(F.dust)?F.dust:0;ke*=B.productionMult,Me*=B.productionMult,ke*=1+Z.manaGainBonus+Z.productionBonus,Me*=1+Z.productionBonus,ke*=se.productionMult||1,Me*=se.dustMult||1,ke*=I.manaMult||1,Me*=I.dustMult||1;const Ge=T("dust_amplification");if(Ge>0&&(Me*=1+Ge*.05),I.nexusBonus){const Ie=ke*I.nexusBonus;ke+=Ie,Me+=Me/ke*Ie}if(I.crystalBoost){const Ie=1+(r.totalArcaneGemsEarned||0)*I.crystalBoost;ke*=Ie,Me*=Ie}return{mana:ke,dust:Me,discoveryMult:F&&F.discoveryMult&&!isNaN(F.discoveryMult)?F.discoveryMult:1,finalResonancePercent:F&&F.finalResonancePercent&&!isNaN(F.finalResonancePercent)?F.finalResonancePercent:0}},[m,v,w,C,Qe,x,B,se,I,r.totalArcaneGemsEarned]),ce=r.surgeActive?2:1,D=Ye.mana*ce,ee=Ye.dust,me=r.clicksPerSecond||0,Ne=(()=>{const F=r;return(F.purchasedUpgrades||[]).includes("golem_helper")&&F.golemPosition&&F.golemPosition!=="off"?10*ce:0})(),Ce=me+Ne,Y=T("click_1")*.01,te=w.reduce((F,ke)=>F+ke.power,0),ue=S("codex_earth")?2:1;let be=(.5+w.length*.5+te+D*Y)*ce*ue;const _e=.25*Pe,Oe=be*Ce,Ot=_e*Ce,He=D+Oe,Ut=ee+Ot,Wt=T("efficiency_1"),Oa=Math.max(.1,1-Wt*.05),Ua=ot[E].exploreCost*Oa,ba=se.explorationSpeed||1,tl=(2+T("offline_mastery")+(b.includes("hourglass_dlc")?4:0))*(1+B.offlineBonus),Fe=v.filter(F=>U.includes(F.id)),_a=Object.values(R||{}),Aa=w.filter(F=>_a.includes(F.id)),We=h.useMemo(()=>{let F=0,ke=0,Me=0,Ge=0,Ie=0;return Fe.forEach(dt=>{const ze=nb(dt.elemental);F+=ze.atkBonus||0,ke+=ze.defBonus||0,Me+=ze.hpBonus||0,Ge+=ze.spdBonus||0,Ie+=ze.spaBonus||0}),{atkBonus:F,defBonus:ke,hpBonus:Me,spdBonus:Ge,spaBonus:Ie}},[Fe]),Et=1+T("void_resonance_mastery")*.1,ie=S("codex_fire")?1.1:1;let ae=Math.floor((2+Aa.reduce((F,ke)=>F+ke.power*Et,0))*ie*10)/10,st=Math.floor((25+Fe.reduce((F,ke)=>F+ke.power*Et,0))*ie);We.atkBonus&&(ae=Math.floor(ae*(1+We.atkBonus)*10)/10),We.hpBonus&&(st=Math.floor(st*(1+We.hpBonus))),B.arenaAtkBonus&&(ae=Math.floor(ae*(1+B.arenaAtkBonus)*10)/10),B.arenaHPBonus&&(st=Math.floor(st*(1+B.arenaHPBonus))),se.arenaAtkBonus&&(ae=Math.floor(ae*(1+se.arenaAtkBonus)*10)/10),se.arenaHPBonus&&(st=Math.floor(st*(1+se.arenaHPBonus)));const Ql=ot[E],Zt=Q.filter(F=>!F.read).length,ya=xn.some(F=>{const ke=T(F.id);if(ke>=F.maxLevel)return!1;const Me=wd(F.id,ke);return F.type==="mana"&&o>=Me||F.type==="dust"&&f>=Me}),al=(()=>{const F={common:0,uncommon:0,rare:0,epic:0,legendary:0};return[...v,...w].forEach(ke=>{F[ke.rarity]!==void 0&&F[ke.rarity]++}),F})(),Ga=h.useMemo(()=>uo(M,{atk:ae,hp:st}),[M,ae,st]),ca=()=>{if(d<1e6)return 0;let F=Math.floor(Math.pow(d/1e6,1/3));const ke=se.prestigeMultBonus||0;return F=Math.floor(F*(1+ke)),G("ascendant_knowledge")&&(F+=1),F},Ht=(F,ke)=>{const Me=wd(F,ke),Ge=Math.max(.1,I.researchCostMult||1),Ie=Math.max(.1,1-(se.researchCostReduction||0));return Math.floor(Me*Ge*Ie)};return I.playerAtkMult&&(ae=Math.floor(ae*I.playerAtkMult*10)/10),I.playerHpMult&&(st=Math.floor(st*I.playerHpMult)),{getResearchLevel:T,hasResearch:G,isAutoBuyUnlocked:F=>{const Me={meditation:"auto_meditate",scrolls:"auto_scroll",crystal:"auto_crystal",familiar:"auto_familiar",reactor:"auto_reactor",siphon:"auto_siphon",chronosphere:"auto_chrono",singularity:"auto_singularity"}[F];return Me?G(Me):!1},prestigeMultiplier:Qe,production:Ye,totalManaPerSecond:He,dustPerSecond:Ut,totalDustPerSecond:Ut,clickPower:be,clickDust:_e,exploreCost:Ua,exploreCostMult:Oa,maxOfflineHours:tl,playerMaxHP:st,playerAtk:ae,currentDim:Ql,unreadCount:Zt,hasAffordableResearch:ya,rarityCounts:al,nextEnemy:Ga,calculateTeleportBonus:ca,masteryBonuses:B,talentBonuses:I,perkEffects:se,getResearchCost:Ht,elementalBonuses:We,equippedCreatures:Fe,equippedItems:Aa,madGodBonuses:Z,explorationSpeedPerk:ba}},nh={earth:["Local wizard spotted yelling at clouds.","Sheep population mysteriously floating.","Wizard's Council warns against unlicensed fireballs.","Market prices for frog legs stable.","Peasants grow suspicious of reclusive wizard.","It's raining... again.","King announces tax on magical towers."],fire:["Temperature rising, dress accordingly.","Ash rain expected all week.","Fire elementals demand better working conditions.","Phoenix sighting reported in the upper atmosphere.","Don't bathe in the lava, unless you're an emberling.","Phoenix sighting reported in the upper atmosphere.","Don't touch the lava. How else can we possibly make this clearer?","Don't touch the lava. Seriously."],void:["Nothing happened today. Literally nothing.","Existential dread levels nominal.","Gravity taking a personal day.","Whispers in your head are getting louder.","Yes...","Who's there?.","Whispers from the dark are getting louder.","Physics temporarily out of order."],astral:["Stardust storms causing mild euphoria.","Falling off an island is not recommended.","Space whales migrating south.","Mana density at an all-time high.","Unicorns sighted in outer isles.","Do not feed the elves.","Local gnomes unhappy at arrival of wizard's tower.","Local gnomes protest construction of new mana siphons.","Constellations looking judgmental today."],chaos:["Up is down, blue is seven.","Reality check failed.","Tentacles reported in the cafeteria.","Keep carry and calm on.","The eye of Ogg-Ssalmon turns on you.","Colour Out of Space was an underrated movie.","Time is moving sideways.","Please remain panic."],omega:["The end is nigh... ish.","Entropy increasing as scheduled.","Just close the game down, it's pointless.","Who turned out the lights?","Timeline stability critical.","The timelines are converging!","Is this when the bad guy turns into a multiversal tree to save us?","Multiversal stuff is soooo last season.","Last one out, please close the portal."],wellspring:["The very fount of mana sprawls before you.","Mana flow is out of control!","So this is what the afterlife looks like.","Local mana-elves create a generational opus.","Timeline stability... err... stabilised.","Lovely spot of mana rain we're having.","Apprentice Timmy fell down the well!","67... it appears to be some magical number.","Do not drink from the wellspring."]},mb=(r,o,f,d,m)=>{const v=h.useRef(null),w=h.useRef(null),C=h.useRef(null),{setMana:b,setDust:x,setGold:U,setTotalMana:R,setBuildings:M,setItems:E,setCreatures:A,setResearch:Q,setPurchasedUpgrades:L,setUnlockedDimensions:H,setPrestigeCount:I,setPrestigeBaseMultiplier:se,setExplorationsCount:Z,setClicks:T,setPlayTime:S,setArenaLevel:G,setInBattle:B,setPlayerHP:he,setEnemyHP:Be,setEquippedCreatureIds:Pe,setLibrary:De,setActiveTab:Qe,setBuyAmount:Ye,setThemeMode:ce,setAudioEnabled:D,setDynamicBackground:ee,setBatterySaver:me,setGildedTowerEnabled:Ne,setNewsText:Ce,setNewsCycle:g,setLogs:Y,setHasNewInventoryEntry:te,setHasPortalAlert:ue,setHasNewAchievement:be,setAchievementPopup:_e,setUnlockedAchievements:Oe,setStoryProgress:Ot,setInbox:He,setShowInbox:Ut,setShowTutorial:Wt,setShowGuide:Oa,setShowTeleportModal:Ua,setShowSettingsModal:ba,setShowLoadoutModal:Ha,setLoadoutFlash:qa,setReadingTome:tl,setOfflineEarnings:Fe,setAutoExploreEnabled:_a,setCurrentDimensionIndex:Aa,setExplorationProgress:We,setIsExploring:Gt,setExplorationResult:Et,setDiscoveryToast:ie,setExplorationProgress2:ae,setExplorationResult2:st,setSurgeActive:Ql,setInventoryRarityFilter:Zt,setInventoryRealmFilter:ya,setNumberFormat:La,setWhispers:al,setMasteryPoints:Ga,setMasteryBoard:ca,setEssence:Ht,setAscensionPerks:It,setMadness:F,setBossAffixes:ke,setArenaEvents:Me,setCurrentSpellId:Ge,setEquippedItemsBySlot:Ie,setArcaneGems:dt,setPurchasedTalents:ze,setTimesRespecced:gt,setShowTalentGuideModal:mt}=o,{totalManaPerSecond:bt,dustPerSecond:$t,exploreCostMult:$a,playerMaxHP:va,playerAtk:ea,hasResearch:ai,prestigeMultiplier:cs,currentDim:pn,maxOfflineHours:ll,talentBonuses:gn}=f,os=h.useCallback(()=>{const y=re.current.buildings||[];v.current=y.reduce((j,q)=>j+(q.count||0),0),w.current=y.reduce((j,q)=>j+q.baseProd*q.count*.01,0),C.current=JSON.stringify(y.map(j=>({id:j.id,count:j.count,baseProd:j.baseProd})))},[]);h.useEffect(()=>{const y=re.current.buildings||[],j=JSON.stringify(y.map(q=>({id:q.id,count:q.count,baseProd:q.baseProd})));C.current!==j&&os()},[r.buildings]);const Ds=h.useCallback(()=>{var ne;const y=re.current,j={totalMana:y.totalMana,dust:y.dust,arenaLevel:y.arenaLevel,explorationsCount:y.explorationsCount,creaturesCount:(y.creatures||[]).length,itemsCount:(y.items||[]).length,prestigeCount:y.prestigeCount,clicks:y.clicks,playTime:y.playTime,researchLevels:Object.fromEntries(Object.entries(y.research||{}).filter(([,le])=>le>0)),hasDLC:(y.purchasedUpgrades||[]).some(le=>Ed.find(pe=>pe.id===le&&pe.type==="dlc")),unlockedVoid:(y.unlockedDimensions||[]).includes("void"),hasSingularity:(y.buildings||[]).some(le=>le.id==="singularity"&&le.count>0),rugs:((ne=(y.buildings||[]).find(le=>le.id==="meditation"))==null?void 0:ne.count)||0},q=_d.filter(le=>!y.unlockedAchievements.includes(le.id)&&le.req(j)),X={...j,madness:y.madness||0},J=zd.filter(le=>!y.unlockedAchievements.includes(le.id)&&le.req(X)),W=[...q,...J];W.length!==0&&(Oe(le=>{const pe=[...le];return W.forEach(de=>{pe.includes(de.id)||pe.push(de.id)}),pe}),be(!0),_e({name:W[0].name,desc:W[0].desc}),m(`Achievement unlocked: ${W[0].name}`))},[Oe,be,_e,m]),re=h.useRef(r),Ya=h.useRef(0),_t=h.useRef(bt),Kt=h.useRef($t),oa=h.useRef(ea),ua=h.useRef(va),Rs=h.useRef(Date.now()),bn=h.useRef("Welcome to your tower, Mage!");h.useEffect(()=>{re.current=r,_t.current=bt,Kt.current=$t,oa.current=ea,ua.current=va},[r,bt,$t,ea,va]);const us=h.useCallback(y=>{const j={...y,id:y.id||Date.now().toString(),read:!1,claimed:!1};He(q=>[j,...q]),ge.playSuccess(),m("New Letter Received!")},[He,m]),zl=(y,j)=>!!(y!=null&&y.library&&(y.library.active===j||y.library.active2===j)),Zl=h.useCallback(()=>{var Ct,St,tt,Jt,qt,yt;Gt(!1),We(0),Z(ve=>ve+1);const y=re.current;y.activeTab!=="portal"&&o.setHasPortalAlert(!0);const j=ot[y.currentDimensionIndex],q=Math.random(),J=1+(((Ct=y.research)==null?void 0:Ct.resonant_harvesting)||0)*.1,ne=(((St=y.research)==null?void 0:St.multiversal_echoes)||0)*.05,le=Math.random()<ne;let pe,de,je,Ae;if(q<.25)if(Math.random()<.5||j.id==="earth"){const ve=Math.random()>.5?"pages":"scripts",qe=le?2:1;De(Te=>({...Te,[ve]:(Te[ve]||0)+qe})),pe="fragment",de=le?"Fragment Found [2X]":"Fragment Found",je="An undecipherable ancient text was found.",Ae=ve==="pages"?le?"2x Torn Pages":"Torn Page":le?"2x Runescript Fragments":"Runescript Fragment"}else{const ve=io[Math.floor(Math.random()*io.length)],qe=Math.floor(100*(y.prestigeBaseMultiplier||1)*J*(le?2:1));b(Te=>Te+qe),pe="lore",de=le?"Ancient Note [2X]":"Ancient Note",je=ve,Ae=`${qe} Mana`}else if(q<.55){const ve=Math.floor(j.difficulty*200*(y.prestigeBaseMultiplier||1)*J*(le?2:1)),qe=Math.floor(j.difficulty*10*(y.prestigeBaseMultiplier||1)*J*(le?2:1));b(Te=>Te+ve),x(Te=>Te+qe),pe="success",de=le?"Resource Cache [2X]":"Resource Cache",je="Raw magic and refined astral dust recovered.",Ae=`${ve} Mana, ${qe} Dust`,ge.playSuccess()}else if(q<.8){o.setHasNewInventoryEntry(!0);const ve=Rr(j.difficulty,(y.library&&(y.library.active==="codex_void"||y.library.active2==="codex_void")?1:0)+(((tt=f.masteryBonuses)==null?void 0:tt.exploreRarityBonus)||0)+(((Jt=f.perkEffects)==null?void 0:Jt.rarityBonus)||0)),qe=Qt[ve]||Qt.common,Te=Br(j.difficulty,ve,j.id);if(A($e=>[...$e,Te]),le){const $e=Br(j.difficulty,ve,j.id);A(at=>[...at,$e]),pe="creature",de="Captured! [2X]",je=`Two ${qe.name} entities were bound to your tower!`,Ae=Te}else pe="creature",de="Captured!",je=`A ${qe.name} ${Te.elementalName} entity was bound to your tower.`,Ae=Te;ge.playUnlock()}else{o.setHasNewInventoryEntry(!0);const ve=Rr(j.difficulty,(y.library&&(y.library.active==="codex_void"||y.library.active2==="codex_void")?1:0)+(((qt=f.masteryBonuses)==null?void 0:qt.exploreRarityBonus)||0)+(((yt=f.perkEffects)==null?void 0:yt.rarityBonus)||0)),qe=Qt[ve]||Qt.common,Te=Object.keys(Ri),$e=Te[Math.floor(Math.random()*Te.length)],at=ro($e,j.difficulty,ve,j.id);if(E(Mt=>[...Mt,at]),le){const Mt=Te[Math.floor(Math.random()*Te.length)],ht=ro(Mt,j.difficulty,ve,j.id);E(lt=>[...lt,ht]),pe="item",de="Artifact Found! [2X]",je=`Two ${qe.name} relics were stabilized!`,Ae=at}else pe="item",de="Artifact Found!",je=`A ${qe.name} ${at.slot} relic was stabilized.`,Ae=at;ge.playUnlock()}if(Et({type:pe,title:de,message:je,reward:Ae}),y.activeTab!=="portal"){const ve=pe==="creature"||pe==="item"?`${de} ${typeof Ae=="object"?Ae.name:""}`:de;ie(ve),setTimeout(()=>ie(null),5e3)}m(`Exploration in ${j.name} completed: ${de}`)},[m,Z,Et,ie,b,x,A,E,De,Gt,o.setHasPortalAlert,o.setHasNewInventoryEntry]),sl=h.useCallback(()=>{var Ct,St,tt,Jt,qt,yt;ae(0),Z(ve=>ve+1);const y=re.current;y.activeTab!=="portal"&&o.setHasPortalAlert(!0);const j=ot[y.currentDimensionIndex],q=Math.random(),J=1+(((Ct=y.research)==null?void 0:Ct.resonant_harvesting)||0)*.1,ne=(((St=y.research)==null?void 0:St.multiversal_echoes)||0)*.05,le=Math.random()<ne;let pe,de,je,Ae;if(q<.25)if(Math.random()<.5||j.id==="earth"){const ve=Math.random()>.5?"pages":"scripts",qe=le?2:1;De(Te=>({...Te,[ve]:(Te[ve]||0)+qe})),pe="fragment",de=le?"Fragment Found [2X]":"Fragment Found",je="An undecipherable ancient text was found.",Ae=ve==="pages"?le?"2x Torn Pages":"Torn Page":le?"2x Runescript Fragments":"Runescript Fragment"}else{const ve=io[Math.floor(Math.random()*io.length)],qe=Math.floor(100*(y.prestigeBaseMultiplier||1)*J*(le?2:1));b(Te=>Te+qe),pe="lore",de=le?"Ancient Note [2X]":"Ancient Note",je=ve,Ae=`${qe} Mana`}else if(q<.55){const ve=Math.floor(j.difficulty*200*(y.prestigeBaseMultiplier||1)*J*(le?2:1)),qe=Math.floor(j.difficulty*10*(y.prestigeBaseMultiplier||1)*J*(le?2:1));b(Te=>Te+ve),x(Te=>Te+qe),pe="success",de=le?"Resource Cache [2X]":"Resource Cache",je="Raw magic and refined astral dust recovered.",Ae=`${ve} Mana, ${qe} Dust`,ge.playSuccess()}else if(q<.8){o.setHasNewInventoryEntry(!0);const ve=Rr(j.difficulty,(y.library&&(y.library.active==="codex_void"||y.library.active2==="codex_void")?1:0)+(((tt=f.masteryBonuses)==null?void 0:tt.exploreRarityBonus)||0)+(((Jt=f.perkEffects)==null?void 0:Jt.rarityBonus)||0)),qe=Qt[ve]||Qt.common,Te=Br(j.difficulty,ve,j.id);if(A($e=>[...$e,Te]),le){const $e=Br(j.difficulty,ve,j.id);A(at=>[...at,$e]),pe="creature",de="Captured! [2X]",je=`Two ${qe.name} entities were bound to your tower!`,Ae=Te}else pe="creature",de="Captured!",je=`A ${qe.name} ${Te.elementalName} entity was bound to your tower.`,Ae=Te;ge.playUnlock()}else{o.setHasNewInventoryEntry(!0);const ve=Rr(j.difficulty,(y.library&&(y.library.active==="codex_void"||y.library.active2==="codex_void")?1:0)+(((qt=f.masteryBonuses)==null?void 0:qt.exploreRarityBonus)||0)+(((yt=f.perkEffects)==null?void 0:yt.rarityBonus)||0)),qe=Qt[ve]||Qt.common,Te=Object.keys(Ri),$e=Te[Math.floor(Math.random()*Te.length)],at=ro($e,j.difficulty,ve,j.id);if(E(Mt=>[...Mt,at]),le){const Mt=Te[Math.floor(Math.random()*Te.length)],ht=ro(Mt,j.difficulty,ve,j.id);E(lt=>[...lt,ht]),pe="item",de="Artifact Found! [2X]",je=`Two ${qe.name} relics were stabilized!`,Ae=at}else pe="item",de="Artifact Found!",je=`A ${qe.name} ${at.slot} relic was stabilized.`,Ae=at;ge.playUnlock()}st({type:pe,title:de,message:je,reward:Ae}),m(`Exploration in ${j.name} (Slot 2) completed: ${de}`)},[m,Z,st,b,x,A,E,De,o.setHasPortalAlert,o.setHasNewInventoryEntry]),hl=h.useCallback(y=>{var J,W,ne;B(!1),ge.playBattleWin();const j=y+(((J=f==null?void 0:f.talentBonuses)==null?void 0:J.apexLevels)||0),q=uo(j,{atk:oa.current,hp:ua.current});x(le=>le+q.reward.dust);const X=(y+1)%5===0;if(m(X?`BOSS DEFEATED! +${q.reward.dust} Dust.`:`Arena Victory! +${q.reward.dust} Dust.`),G(le=>le+1),(W=f==null?void 0:f.talentBonuses)!=null&&W.hasBeastBond){const de=re.current.equippedCreatureIds||[];A(je=>je.map(Ae=>{if(!de.includes(Ae.id))return Ae;const Ct=Ae.bbLvl||0,St=(Ae.bbXP||0)+1;if(Ct>=5)return{...Ae,bbLvl:Ct,bbXP:St};if(St>=3){const tt=Math.min(5,Ct+1),Jt=Ae.basePower||Ae.power||0,qt=Math.floor(Jt*(1+.1*tt));return{...Ae,bbLvl:tt,bbXP:0,basePower:Jt||Ae.power,power:qt}}return{...Ae,bbLvl:Ct,bbXP:St}}))}if(X&&((ne=f==null?void 0:f.talentBonuses)!=null&&ne.hasBossRecruit)){const le=f.talentBonuses.bossRecruitChance||0;if(Math.random()<le){const pe=re.current.currentDimensionIndex!=null?ot[re.current.currentDimensionIndex].id:"earth",de=Rr(j+10,2),je=Br(j+10,de,pe);A(Ae=>[...Ae,{...je,name:je.name+" (Recruited Boss)"}]),m("A defeated boss has sworn fealty and joined you!"),ge.playUnlock()}}},[B,x,G,m]),xl=h.useCallback(()=>{var Jt,qt;const y=Date.now(),j=Math.max(0,(y-Rs.current)/1e3);if(j===0)return;Rs.current=y;let q=v.current,X=w.current;(q==null||X==null)&&(os(),q=v.current,X=w.current);const J=isNaN(_t.current)?0:_t.current*j,W=isNaN(Kt.current)?0:Kt.current*j,ne=re.current.mana||0,le=re.current.dust||0,pe=re.current.totalMana||0,de=ne+J,je=le+W,Ae=pe+J;if(de!==ne&&b(de),Ae!==pe&&R(Ae),je!==le&&x(je),S(yt=>yt+j),(((Jt=(re.current.buildings||[]).find(yt=>yt.id==="meditation"))==null?void 0:Jt.count)||0)>=10&&((re.current.inbox||[]).some(ve=>ve.id==="welcome")||us({sender:"High Archmage",subject:"Welcome",body:"Here is a starting grant to build your tower.",reward:{mana:100},id:"welcome"})),q>0){const yt=Math.min(.25,.01+q*6e-4);if(Math.random()<yt*j){const ve=re.current.buildings||[],qe=ve.find(lt=>lt.id==="singularity"&&lt.count>0),Te=ve.find(lt=>lt.id==="engine"&&lt.count>0);let $e=[{id:"heal",w:2},{id:"frostbolt",w:2}];Te&&($e=[{id:"fireball",w:1},{id:"heal",w:2},{id:"frostbolt",w:2}]),qe&&($e=[{id:"shockwave",w:1},{id:"blessing",w:1},{id:"fireball",w:2}]);const at=$e.reduce((lt,Ol)=>lt+Ol.w,0);let Mt=Math.random()*at,ht=$e[0].id;for(const lt of $e){if(Mt<lt.w){ht=lt.id;break}Mt-=lt.w}o.setSpellCharges(lt=>({...lt,[ht]:(lt[ht]||0)+1})),o.setLastSpellDrop({id:ht,ts:Date.now()}),m(`Spell charge found: ${ht}`)}}const St=re.current;zl(St,"codex_chaos")&&F(yt=>yt+j),Ds(),Math.random()<5e-4*j&&us(ah[Math.floor(Math.random()*ah.length)]);const tt=re.current;if(zl(tt,"codex_chaos")&&Math.random()<.03*j){const ve=["The void","The darkness","Reality","Time","The abyss","The stars","The ancient ones","Eternity","The cosmos","Forgotten realms","The depths","Madness","The outer gods","Your sanity","The fabric of space","Dimensional barriers","The endless","The crawling chaos","The dreaming city","The gateway","The threshold"],qe=["whispers your name","watches from beyond","hungers","remembers","calls to you","bleeds through","fractures","awakens","stirs in slumber","tears at the seams","beckons","festers","pulses with ancient power","writhes in the darkness","speaks in tongues forgotten","cracks and splinters","demands tribute","sees you","knows your thoughts","unravels","converges","warps around you","drips into being","coalesces","breathes"],Te=["...","in your dreams...","from the void...","beyond comprehension...","across dimensions...","through the veil...","in the silence...","before time began...","at the edge of reason...","in dead tongues...","where light dies...","beneath the surface...","and reality trembles...","as worlds collide...","in the spaces between...","and you feel it watching..."],$e=ve[Math.floor(Math.random()*ve.length)],at=qe[Math.floor(Math.random()*qe.length)],Mt=Te[Math.floor(Math.random()*Te.length)],ht=`${$e} ${at} ${Mt}`,lt=Math.floor(15+Math.random()*70),Ol=Math.floor(15+Math.random()*60),gl=`${Date.now()}-${Math.random().toString(16).slice(2)}`;let Os=null;const Ul=Math.random(),xs=1+(((qt=f.madGodBonuses)==null?void 0:qt.whisperRewardBonus)||0);if(Ul<.35){const ta=Math.floor((50+Math.random()*150)*(tt.prestigeBaseMultiplier||1)*xs);x(Qa=>Qa+ta),Os={type:"dust",amount:ta}}else{const ta=Math.floor((200+Math.random()*600)*(tt.prestigeBaseMultiplier||1)*xs);b(Qa=>Qa+ta),R(Qa=>Qa+ta),Os={type:"mana",amount:ta}}al(ta=>[...ta,{id:gl,text:ht,x:lt,y:Ol,reward:Os}]),setTimeout(()=>{al(ta=>ta.filter(Qa=>Qa.id!==gl))},3500)}},[b,R,x,S,us,Ds]),nl=h.useCallback(()=>{var y;if(xl(),re.current.purchasedUpgrades.includes("golem_helper")&&re.current.golemPosition!=="off"){const j=re.current;(y=j.research)!=null&&y.click_1;const q=(j.items||[]).reduce((ne,le)=>ne+(le.power||0),0),X=j.library&&(j.library.active==="codex_earth"||j.library.active2==="codex_earth")?2:1;let J=(1+(j.items||[]).length*.5+q)*X;const W=(j.buildings||[]).reduce((ne,le)=>ne+le.baseProd*le.count*.01,0);J+=W,b(ne=>ne+J*.5)}},[xl,b]),wt=h.useCallback(()=>{var j;const y=(j=f==null?void 0:f.talentBonuses)==null?void 0:j.hasDualExplore;if(re.current.isExploring&&We(q=>{var de,je;const X=re.current.library&&(re.current.library.active==="codex_void"||re.current.library.active2==="codex_void")?.9:1,J=((de=f==null?void 0:f.talentBonuses)==null?void 0:de.exploreSpeedMult)||1,W=((je=f==null?void 0:f.perkEffects)==null?void 0:je.explorationSpeed)||1,le=100/(ot[re.current.currentDimensionIndex].duration*X*J/W)*.1,pe=q+le;return pe>=100&&Zl(),Math.min(100,pe)}),y&&re.current.explorationProgress2>0&&ae(q=>{var de,je;const X=re.current.library&&(re.current.library.active==="codex_void"||re.current.library.active2==="codex_void")?.9:1,J=((de=f==null?void 0:f.talentBonuses)==null?void 0:de.exploreSpeedMult)||1,W=((je=f==null?void 0:f.perkEffects)==null?void 0:je.explorationSpeed)||1,le=100/(ot[re.current.currentDimensionIndex].duration*X*J/W)*.1,pe=q+le;return pe>=100&&sl(),Math.min(100,pe)}),!re.current.isExploring&&(!y||re.current.explorationProgress2===0)&&re.current.autoExploreEnabled&&re.current.research.auto_explore){const q=re.current.research.efficiency_1||0,X=Math.max(.1,1-q*.05);let J=re.current.currentDimensionIndex;if(re.current.research.expedition_protocols){const le=re.current.unlockedDimensions||[];let pe=-1,de=-1;for(let je=0;je<ot.length;je++)if(le.includes(ot[je].id)){const Ae=Math.floor(ot[je].exploreCost*X);re.current.dust>=Ae&&ot[je].difficulty>de&&(de=ot[je].difficulty,pe=je)}pe!==-1&&(J=pe,J!==re.current.currentDimensionIndex&&Aa(J))}const W=ot[J],ne=Math.floor(W.exploreCost*X);re.current.dust>=ne&&(x(le=>le-ne),Gt(!0),We(0),setTimeout(()=>Et(null),3e3))}},[We,ae,Gt,Et,x,Zl,sl,f]),pl=h.useCallback(()=>{Date.now()<Ya.current||b(y=>{let j=y;return M(q=>{const X=[...q];return X.forEach((J,W)=>{var pe,de;const ne=f!=null&&f.isAutoBuyUnlocked?f.isAutoBuyUnlocked(J.id):!1;if(J.autoActive&&ne||((pe=f==null?void 0:f.talentBonuses)==null?void 0:pe.hasWellspring)){const je=Nd(J.baseCost,J.count,1),Ae=Math.floor(je*(((de=f==null?void 0:f.talentBonuses)==null?void 0:de.buildingCostMult)||1));j>=Ae&&(j-=Ae,X[W]={...J,count:J.count+1})}}),X}),j})},[b,M,f]),Bs=h.useCallback(()=>{var J,W;if(!((J=re.current.research)!=null&&J.autonomous_ascension))return;const y=re.current,j=y.essence||0;let q=null,X=1/0;Object.entries(Bi).forEach(([ne,le])=>{var je;const pe=((je=y.ascensionPerks)==null?void 0:je[ne])||0;if(pe>=le.maxLevel)return;const de=Math.ceil(le.cost*Math.pow(le.costScale,pe));j>=de&&de<X&&(X=de,q=ne)}),q&&(Ht(ne=>ne-X),It(ne=>({...ne,[q]:(ne[q]||0)+1})),m(`Auto-purchased ${Bi[q].name} (Level ${(((W=y.ascensionPerks)==null?void 0:W[q])||0)+1})`))},[Ht,It,m]),Xa=h.useCallback(()=>{var y,j;if(re.current.inBattle){const q=re.current.arenaLevel+(((y=f==null?void 0:f.talentBonuses)==null?void 0:y.apexLevels)||0),X=uo(q,{atk:oa.current,hp:ua.current});let J=Math.floor(oa.current*(.8+Math.random()*.4));if((j=f==null?void 0:f.talentBonuses)!=null&&j.critChance&&Math.random()<f.talentBonuses.critChance&&(J*=2),Be(ne=>Math.max(0,ne-J)),ge.playBattleHit(),re.current.enemyHP<=J){hl(re.current.arenaLevel);return}const W=Math.floor(X.atk*(.8+Math.random()*.4));he(ne=>{const le=Math.max(0,ne-W);return le===0&&(B(!1),he(ua.current),m("Defeated in the Arena. Improve your collection."),ge.playError()),le})}},[Be,he,B,hl,m]);h.useEffect(()=>{var Ae,Ct;const y=re.current,j=((Ae=f.masteryBonuses)==null?void 0:Ae.tickReduction)||0,q=((Ct=f.perkEffects)==null?void 0:Ct.tickReduction)||0,J=1-Math.min(.5,j+q),W=(y.batterySaver?eh*2:eh)*J,ne=y.batterySaver?th*2:th,le=setInterval(nl,W),pe=setInterval(pl,W),de=setInterval(Bs,W*5),je=setInterval(d,ne);return()=>{clearInterval(le),clearInterval(pe),clearInterval(de),clearInterval(je)}},[nl,pl,Bs,d,f.masteryBonuses,f.perkEffects]),h.useEffect(()=>{const y=setInterval(()=>{const j=re.current,q=ot[j.currentDimensionIndex],X=nh[q.id]||nh.earth;let J,W=0;do J=X[Math.floor(Math.random()*X.length)],W++;while(J===bn.current&&W<10&&X.length>1);bn.current=J,Ce(J),g(ne=>ne+1)},Pg);return()=>clearInterval(y)},[Ce,g]),h.useEffect(()=>{const y=setInterval(Xa,Jg);return()=>clearInterval(y)},[Xa]),h.useEffect(()=>{const j=setInterval(wt,100);return()=>clearInterval(j)},[wt]);const Dl=h.useCallback((y,j,q)=>{var je,Ae;Ya.current=Date.now()+200;const X=re.current,J=X.buildings.findIndex(Ct=>Ct.id===y);if(J===-1)return;const W=X.buildings[J],ne=Nd(W.baseCost,W.count,j),le=((je=X.research)==null?void 0:je.mana_compression)||0,pe=Math.max(.1,1-le*.1),de=Math.floor(ne*(((Ae=f==null?void 0:f.talentBonuses)==null?void 0:Ae.buildingCostMult)||1)*pe);if(X.mana<de){q||ge.playError();return}b(Ct=>Math.max(0,Ct-de)),M(Ct=>{const St=[...Ct],tt=St.findIndex(Jt=>Jt.id===y);return tt!==-1&&(St[tt]={...St[tt],count:St[tt].count+j}),St}),q||(ge.playBuy(),j>1&&m(`Constructed ${j}x ${W.name}.`))},[b,M,m]),Kl=h.useCallback(y=>{M(j=>j.map(q=>q.id===y?{...q,autoActive:!q.autoActive}:q)),ge.playClick()},[M]),yn=h.useCallback(y=>{console.log("buyResearch called",y);const j=xn.find(W=>W.id===y),q=re.current.research[y]||0;if(q>=j.maxLevel)return;const X=f&&f.getResearchCost?f.getResearchCost(y,q):wd(y,q);re.current[j.type]>=X?(j.type==="mana"?b(W=>W-X):j.type==="dust"&&x(W=>W-X),Q(W=>({...W,[y]:(W[y]||0)+1})),m(`Researched: ${j.name} (Lvl ${q+1})`),ge.playUnlock()):ge.playError()},[b,x,Q,m]),ds=h.useCallback(y=>{var q;const j=ot.find(X=>X.id===y);if(y==="wellspring"&&!((q=f==null?void 0:f.talentBonuses)!=null&&q.hasTranscendent)){m("The Wellspring is locked beyond the veil of transcendence."),ge.playError();return}re.current.mana>=j.unlockCost?(b(X=>X-j.unlockCost),H(X=>[...X,y]),m(`Portal to ${j.name} Stabilized.`),ge.playUnlock()):(m(`Need ${j.unlockCost} Mana to unlock.`),ge.playError())},[b,H,m,f]),vn=h.useCallback(y=>{re.current.isExploring||(Aa(y),ge.playBuy())},[Aa]),Jl=h.useCallback((y="primary")=>{var ne;const j=(ne=f==null?void 0:f.talentBonuses)==null?void 0:ne.hasDualExplore,q=re.current.isExploring,X=re.current.explorationProgress2>0;let J=y;if(y==="auto"&&(J=j&&q&&!X?"secondary":"primary"),q&&X&&J==="secondary"){m("Both exploration slots are active."),ge.playError();return}if(J==="secondary"&&!j){m("Unlock Dimensional Rift talent for dual exploration."),ge.playError();return}const W=ot[re.current.currentDimensionIndex].exploreCost*$a;if(re.current.dust<W){m(`Need ${Math.floor(W)} Dust.`),ge.playError();return}x(le=>le-W),J==="secondary"?(st(null),ae(0)):(Et(null),Gt(!0),We(0)),ge.playBuy(),m(`Entering ${ot[re.current.currentDimensionIndex].name}...`)},[x,Et,st,Gt,We,ae,m,$a,f]),fs=h.useCallback(y=>{const{pages:j,scripts:q,mana:X,dust:J}=y.cost;re.current.library.pages>=j&&re.current.library.scripts>=q&&re.current.mana>=X&&re.current.dust>=J?(De(W=>({...W,pages:W.pages-j,scripts:W.scripts-q,unlocked:[...W.unlocked,y.id],active:W.active?W.active:y.id})),b(W=>W-X),x(W=>W-J),ge.playUnlock(),m(`Synthesized ${y.name}!`)):ge.playError()},[De,b,x,m]),Va=h.useCallback((y,j=null)=>{De(X=>{var le;const J=X&&typeof X=="object"?X:{pages:0,scripts:0,unlocked:[],active:null,active2:null},W=!!((le=f==null?void 0:f.talentBonuses)!=null&&le.hasDualTomes);J.active,J.active2;const ne={...J};if(j==="A")ne.active=y,ne.active2===y&&(ne.active2=null);else if(j==="B"){if(!W||ne.active===y)return J;ne.active2=y}else W&&ne.active&&ne.active!==y?ne.active2!==y&&(ne.active2=y):(ne.active=y,ne.active2===y&&(ne.active2=null));return ne}),tl(null),ge.playClick();const q=Ur.find(X=>X.id===y);m(`Equipped ${q?q.name:"Tome"}${j?` to Slot ${j}`:""}`)},[De,m,tl,f]),ka=h.useCallback(()=>{if(re.current.inBattle){m("Already in battle!"),ge.playError();return}(re.current.arenaLevel+1)%5===0?ge.playBossSpawn():ge.playBuy();const q=uo(re.current.arenaLevel,{atk:oa.current,hp:ua.current});let X=q.hp,J=ua.current;const W=re.current.currentSpellId,ne=re.current.spellCharges||{};W&&(ne[W]||0)>0&&(o.setSpellCharges(le=>({...le,[W]:(le[W]||0)-1})),m(`Cast ${W} at battle start!`),W==="fireball"?X=Math.max(0,X-Math.floor(oa.current*1.5)):W==="frostbolt"?X=Math.max(0,X-Math.floor(oa.current*1)):W==="heal"?J=Math.min(ua.current,J+Math.floor(ua.current*.4)):W==="shockwave"?X=Math.max(0,X-Math.floor(oa.current*2)):W==="blessing"&&(J=Math.min(ua.current,J+Math.floor(ua.current*.25)))),Be(X),he(J),q.affixes&&q.affixes.length>0?o.setBossAffixes(q.affixes):o.setBossAffixes([]),B(!0)},[m,Be,he,B]),jn=h.useCallback(y=>{if(re.current.equippedCreatureIds.includes(y))Pe(j=>j.filter(q=>q!==y));else{if(re.current.equippedCreatureIds.length>=3){m("Maximum 3 creatures can be equipped."),ge.playError();return}Pe(j=>[...j,y])}ge.playClick()},[Pe,m]),Nn=h.useCallback((y,j)=>{Ie(y===null?q=>{const X={...q};return delete X[j],X}:q=>({...q,[j]:y})),ge.playClick()},[Ie]),ms=h.useCallback(y=>{if(!y.repeatable&&re.current.purchasedUpgrades.includes(y.id)){m("Error: Already owned!"),ge.playError();return}if(y.currency==="FREE")y.id==="starter_pack"&&(L(j=>[...j,y.id]),ge.playSuccess(),m(`Claimed ${y.name}!`));else if(y.currency==="Gold")if(re.current.gold>=y.cost){if(U(j=>j-y.cost),y.id==="time_dilation"){const j=Math.floor(_t.current*3600*12);b(q=>q+j),m("Time Dilation: Gained 12 hours of offline progress!")}else if(y.id==="crystal_pouch")m("Crystal Pouch has been retired.");else if(y.id==="goblin_manager")L(j=>[...j,y.id]),m("Goblin Manager Hired: 2x All Production enabled!");else if(y.id==="hourglass_dlc")L(j=>[...j,y.id]),m("Timeless Hourglass acquired! Max Offline Time increased by 4 hours.");else if(y.id==="battlemage_pack"){const j={id:"battlemage_regalia_"+Date.now(),name:"Battlemage Regalia",rarity:"unique",slot:"body",dimension:"Battlemage Set",power:60,atk:60,hp:60,flavor:"Golden armor infused with raw magical power. Grants tremendous ATK bonuses."},q={id:"ferocious_werecat_"+Date.now(),name:"Ferocious Werecat",rarity:"unique",power:80,elemental:"fire",elementalName:"Fire",dimension:"Battlemage Set",flavor:"A terrifying beast of legend. Grants exceptional HP."};E(X=>[...X,j]),A(X=>[...X,q]),L(X=>[...X,y.id]),o.setHasNewInventoryEntry&&o.setHasNewInventoryEntry(!0),m("Battlemage Pack acquired! Unique Battlemage Regalia and Ferocious Werecat summoned!")}else y.id==="golem_helper"?(L(j=>[...j,y.id]),m("Golem Helper summoned! Your buddy will auto-tap for you now.")):y.id==="gilded_tower"?(L(j=>[...j,y.id]),Ne(!0),m("Gilded Tower cosmetics applied! Your tower now shimmers with golden glory!")):y.id==="restore_battlemage"&&Bl();y.repeatable||L(j=>[...j,y.id]),ge.playBuy()}else ge.playError(),m("Not enough Gold. Purchase more from the Merchant Guild.");else y.type==="utility"&&y.currency==="FREE"&&y.id==="restore_battlemage"&&Bl()},[U,L,x,b,E,A,Ne,m,ll,Bl]),li=h.useCallback(()=>{const y=xn.reduce((j,q)=>(j[q.id]=q.maxLevel,j),{});Q(y),De(j=>{const q=j&&typeof j=="object"?j:{pages:0,scripts:0,unlocked:[],active:null};return{...q,pages:999999,scripts:999999,unlocked:Ur.map(X=>X.id),active:q.active||Ur[0].id}}),m("Developer: All Lab research maxed and all Codex unlocked."),ge.playSuccess()},[Q,De,m]),hs=h.useCallback(y=>{He(j=>j.map(q=>q.id===y?{...q,read:!0}:q))},[He]),wn=h.useCallback(y=>{const j=re.current.inbox.find(q=>q.id===y);!j||j.claimed||!j.read||(j.reward&&(j.reward.mana&&b(q=>q+j.reward.mana),j.reward.dust&&x(q=>q+j.reward.dust)),He(q=>q.map(X=>X.id===y?{...X,claimed:!0}:X)),ge.playSuccess())},[b,x,He]),da=h.useCallback(y=>{He(j=>j.filter(q=>q.id!==y))},[He]),Sn=h.useCallback((y,j)=>{const q=fl[j];if(!q)return;const X=re.current;if(X.masteryPoints<q.cost){m(`Insufficient Mastery Points (need ${q.cost}, have ${X.masteryPoints})`);return}ca(J=>{const W=[...J];return W[y]=j,W}),Ga(J=>J-q.cost),m(`Placed ${q.name} on board`),ge.playClick()},[Ga,ca,m]),Mn=h.useCallback(y=>{ca(j=>{const q=[...j],X=q[y];if(X){const J=fl[X].cost;Ga(W=>W+J),m(`Removed ${fl[X].name}, recovered ${J} Mastery Points`)}return q[y]=null,q}),ge.playClick()},[Ga,ca,m]),An=h.useCallback(y=>{const j=Bi[y];if(!j)return;const q=re.current,X=q.ascensionPerks[y]||0;if(X>=j.maxLevel){m(`${j.name} is already maxed out`);return}const J=Math.ceil(j.cost*Math.pow(j.costScale,X));if(q.essence<J){m(`Insufficient Essence (need ${J}, have ${q.essence})`),ge.playError();return}Ht(W=>W-J),It(W=>({...W,[y]:(W[y]||0)+1})),m(`Upgraded ${j.name} to level ${X+1}`),ge.playUnlock()},[Ht,It,m]),Rl=h.useCallback(y=>{U(j=>j+y.amount),m(`Purchased ${y.amount} Gold for $${y.price.toFixed(2)} (Connect to App Store/Play Store)`),ge.playSuccess()},[U,m]),Pl=h.useCallback(y=>{const j=Hi[y],q=re.current;if(!j){m("Talent not found."),ge.playError();return}if(!Ah(y,q.purchasedTalents||{})){m("Requirements not met."),ge.playError();return}if((q.arcaneGems||0)<j.cost){m(`Need ${j.cost} Arcane Crystals.`),ge.playError();return}dt(X=>Math.max(0,(X||0)-j.cost)),ze(X=>({...X,[y]:!0})),m(`Unlocked talent: ${j.name}`),ge.playUnlock()},[dt,ze,m]),kn=h.useCallback(()=>{const y=re.current,j=1e4*Math.pow(2,y.timesRespecced||0);if((y.dust||0)<j){m(`Need ${j.toLocaleString()} Dust to respec.`),ge.playError();return}const q=Object.entries(y.purchasedTalents||{}).reduce((X,[J,W])=>{var ne;return W?X+(((ne=Hi[J])==null?void 0:ne.cost)||0):X},0);x(X=>Math.max(0,(X||0)-j)),ze({}),dt(X=>(X||0)+q),gt(X=>(X||0)+1),m(`Respecced all talents. Refunded ${q} Arcane Crystals.`),ge.playSuccess()},[x,ze,dt,gt,m]),Ca=h.useCallback((y,j)=>{const q=Math.floor(Math.random()*50)+10;x(X=>X+q),y==="creature"?A(X=>X.filter(J=>J.id!==j)):E(X=>X.filter(J=>J.id!==j)),m(`Dismantled ${y} and received ${q} dust.`),ge.play("buy")},[A,E,x,m]),Fl=h.useCallback((y,j)=>{let q=0,X=0;y==="rarity"?(A(J=>J.filter(ne=>ne.rarity===j&&ne.id!==mn.creature?(q++,X+=Math.floor(Math.random()*50)+10,!1):!0)),E(J=>J.filter(ne=>ne.rarity===j&&ne.id!==mn.artifact?(q++,X+=Math.floor(Math.random()*50)+10,!1):!0))):y==="dimension"&&j!=="all"&&(A(J=>J.filter(ne=>ne.dimension===j&&ne.id!==mn.creature?(q++,X+=Math.floor(Math.random()*50)+10,!1):!0)),E(J=>J.filter(ne=>ne.dimension===j&&ne.id!==mn.artifact?(q++,X+=Math.floor(Math.random()*50)+10,!1):!0))),q>0&&(x(J=>J+X),m(`Mass dismantled ${q} items and received ${X} dust.`),ge.play("buy"))},[A,E,x,m]),Bl=h.useCallback(()=>{const y=re.current.creatures||[],j=re.current.items||[],q=y.some(J=>J.id===mn.creature),X=j.some(J=>J.id===mn.artifact);if(!q){const J={id:mn.creature,name:"Battlemage Guardian",rarity:"unique",power:500,dimension:"Premium",flavor:"A legendary guardian granted by the Merchant Guild.",elemental:"psychic",elementalName:"Psychic"};A(W=>[...W,J])}if(!X){const J={id:mn.artifact,name:"Battlemage Armor",rarity:"unique",power:500,dimension:"Premium",flavor:"Legendary armor forged for true champions.",slot:"armor"};E(W=>[...W,J])}m("Battlemage Pack items restored to inventory."),ge.play("buy")},[A,E,m]);return{buyBuilding:Dl,toggleAutoBuild:Kl,buyResearch:yn,unlockDimension:ds,switchDimension:vn,startExploration:Jl,handleExplorationComplete:Zl,handleExplorationComplete2:sl,craftTome:fs,equipTome:Va,startArenaBattle:ka,toggleEquipCreature:jn,toggleEquipItemToSlot:Nn,handleShopPurchase:ms,handleGoldPurchase:Rl,openMessage:hs,claimMessageReward:wn,deleteMessage:da,placeMasterySigil:Sn,removeMasterySigil:Mn,purchaseAscensionPerk:An,unlockAllLabsAndTomes:li,applyPassiveDelta:xl,purchaseTalent:Pl,respecTalents:kn,handleDismantle:Ca,handleMassDismantle:Fl,handleRestoreBattlemage:Bl}},Je=(r,o)=>o==="stable"?r.toLocaleString("en-US",{maximumFractionDigits:2}):o==="scientific"?r>=1e3||r<=-1e3?r.toExponential(0):r.toFixed(2):o==="logarithmic"?r<=0?"0.00":r<10?r.toFixed(2):`e${Math.log10(r).toFixed(2)}`:r>=1e63?(r/1e63).toFixed(2)+"Vg":r>=1e60?(r/1e60).toFixed(2)+"Nod":r>=1e57?(r/1e57).toFixed(2)+"Ocd":r>=1e54?(r/1e54).toFixed(2)+"Spd":r>=1e51?(r/1e51).toFixed(2)+"Sxd":r>=1e48?(r/1e48).toFixed(2)+"Qid":r>=1e45?(r/1e45).toFixed(2)+"Qd":r>=1e42?(r/1e42).toFixed(2)+"Td":r>=1e39?(r/1e39).toFixed(2)+"Dd":r>=1e36?(r/1e36).toFixed(2)+"Ud":r>=1e33?(r/1e33).toFixed(2)+"Dc":r>=1e30?(r/1e30).toFixed(2)+"No":r>=1e27?(r/1e27).toFixed(2)+"Oc":r>=1e24?(r/1e24).toFixed(2)+"Sp":r>=1e21?(r/1e21).toFixed(2)+"Sx":r>=1e18?(r/1e18).toFixed(2)+"Qi":r>=1e15?(r/1e15).toFixed(2)+"Qa":r>=1e12?(r/1e12).toFixed(2)+"T":r>=1e9?(r/1e9).toFixed(2)+"B":r>=1e6?(r/1e6).toFixed(2)+"M":r>=1e3?(r/1e3).toFixed(2)+"k":r.toFixed(2),xo=(r,o)=>r>=1e3?Je(r,o):r.toFixed(2),hn=({active:r,onClick:o,icon:f,label:d,alert:m,gilded:v,compact:w=!1,hideLabels:C=!1,mobileDense:b=!1})=>l.jsxs("button",{onClick:o,className:`relative flex-1 lg:w-full flex flex-col items-center justify-center ${w?"min-w-[50px] h-8 lg:py-0.5":C?"min-w-[44px] h-14":b?"min-w-[72px] h-14":"min-w-[96px] h-16"} lg:min-w-0 px-0.5 rounded transition-all
        ${r?v?"text-amber-500 bg-amber-500/10":"text-indigo-500 bg-indigo-500/10":v?"text-amber-400/70 opacity-60 hover:bg-black/5":"text-slate-400 opacity-60 hover:bg-black/5"}`,children:[l.jsx(f,{size:w?12:C?24:b?18:20,className:`${w?"lg:w-3 lg:h-3":"lg:w-4 lg:h-4"} xl:w-5 xl:h-5 2xl:w-6 2xl:h-6 ${r?"fill-current":""}`}),!C&&l.jsx("span",{className:`${w?"text-[6px]":"text-[10px]"} lg:text-[10px] xl:text-xs ${w?"-mt-0.5":"mt-0.5"} lg:mt-0.5 font-bold`,children:d}),m&&l.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 lg:w-2 lg:h-2 xl:w-2.5 xl:h-2.5 2xl:w-3 2xl:h-3 bg-red-500 rounded-full animate-pulse shadow-lg shadow-red-500/50"})]}),hb=({activeTab:r,onTabChange:o,isMasteryUnlocked:f,isTalentsUnlocked:d,isAscensionUnlocked:m,hasMasteryAlert:v,hasAscensionAlert:w,hideLabels:C,gilded:b,navBg:x})=>{const[U,R]=h.useState(!1),[M,E]=h.useState({left:0,bottom:0,top:void 0}),A=h.useRef(null),Q=h.useRef(null);h.useEffect(()=>{const T=S=>{A.current&&!A.current.contains(S.target)&&R(!1)};if(U)return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[U]);const L=["mastery","talents","ascension"].includes(r),H=v||w,I=()=>{if(!U&&Q.current){const T=Q.current.getBoundingClientRect(),S=window.innerWidth>=1024;E({left:S?T.right+8:T.left+T.width/2,bottom:S?window.innerHeight-T.bottom:window.innerHeight-T.top+8,top:S?T.top:void 0})}R(!U)},se=T=>{o(T),R(!1)};let Z=Oi;return r==="mastery"?Z=zs:r==="talents"?Z=ga:r==="ascension"&&(Z=Ma),l.jsxs("div",{className:"relative",ref:A,children:[l.jsxs("button",{ref:Q,onClick:I,className:`relative ${C?"min-w-[44px] h-14":"flex-1 min-w-[96px] h-16"} lg:h-16 lg:w-full lg:min-w-0 flex flex-col items-center justify-center px-0.5 rounded transition-all ${L?b?"text-amber-400 bg-amber-500/20 opacity-100":"text-purple-400 bg-purple-500/20 opacity-100":U?"text-slate-300 bg-slate-700/30 opacity-90":b?"text-amber-400/70 opacity-60 hover:bg-black/5":"text-slate-400 opacity-60 hover:bg-black/5"}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Z,{size:C?24:20,className:`lg:w-5 lg:h-5 xl:w-6 xl:h-6 ${L?"fill-current":""}`}),H&&l.jsx("span",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 lg:w-3 lg:h-3 bg-red-500 rounded-full animate-pulse shadow-lg shadow-red-500/50"})]}),!C&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-[10px] lg:text-xs mt-0.5 lg:mt-0.5 font-bold",children:"Chrono"}),l.jsx(fh,{size:10,className:`transition-transform ${U?"rotate-90":"rotate-0"}`})]})]}),U&&l.jsxs("div",{className:`fixed ${window.innerWidth>=1024?"":"-translate-x-1/2"} ${x} border rounded-lg shadow-xl z-[100] min-w-[180px] overflow-hidden`,style:{left:`${M.left}px`,top:M.top!==void 0?`${M.top}px`:void 0,bottom:M.top===void 0?`${M.bottom}px`:void 0},children:[f&&l.jsxs("button",{onClick:()=>se("mastery"),className:`w-full flex items-center gap-3 px-4 py-3 hover:bg-indigo-500/10 transition-colors ${r==="mastery"?"bg-indigo-500/20":""}`,children:[l.jsx(zs,{size:18,className:r==="mastery"?"text-indigo-400":"text-slate-400"}),l.jsx("span",{className:`text-sm font-medium ${r==="mastery"?"text-indigo-300":"text-slate-300"}`,children:"Mastery"}),v&&l.jsx("span",{className:"ml-auto w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),d?l.jsxs("button",{onClick:()=>se("talents"),className:`w-full flex items-center gap-3 px-4 py-3 hover:bg-purple-500/10 transition-colors ${r==="talents"?"bg-purple-500/20":""}`,children:[l.jsx(ga,{size:18,className:r==="talents"?"text-purple-400":"text-slate-400"}),l.jsx("span",{className:`text-sm font-medium ${r==="talents"?"text-purple-300":"text-slate-300"}`,children:"Talents"})]}):l.jsxs("div",{className:"w-full flex items-center gap-3 px-4 py-3 opacity-40 cursor-not-allowed",children:[l.jsx(El,{size:18,className:"text-slate-500"}),l.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Locked"})]}),m?l.jsxs("button",{onClick:()=>se("ascension"),className:`w-full flex items-center gap-3 px-4 py-3 hover:bg-amber-500/10 transition-colors ${r==="ascension"?"bg-amber-500/20":""}`,children:[l.jsx(Ma,{size:18,className:r==="ascension"?"text-amber-400":"text-slate-400"}),l.jsx("span",{className:`text-sm font-medium ${r==="ascension"?"text-amber-300":"text-slate-300"}`,children:"Ascension"}),w&&l.jsx("span",{className:"ml-auto w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}):l.jsxs("div",{className:"w-full flex items-center gap-3 px-4 py-3 opacity-40 cursor-not-allowed",children:[l.jsx(El,{size:18,className:"text-slate-500"}),l.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Locked"})]})]})]})},In=({rarity:r})=>{const o=Qt[r]||Qt.common;return l.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded bg-slate-800 ${o.color}`,children:o.name})},Vl=({title:r,text:o,setShowTutorial:f,showTutorial:d,cardBg:m,icon:v,iconColor:w="text-indigo-400"})=>d?l.jsx("div",{className:`${m} p-2 rounded-lg border mb-2 animate-in fade-in slide-in-from-top-2 relative`,children:l.jsxs("div",{className:"flex items-start gap-2",children:[v&&l.jsx("div",{className:`flex-shrink-0 ${w}`,children:l.jsx(v,{size:20,className:"xl:w-6 xl:h-6"})}),l.jsxs("div",{className:"flex-1 pr-6",children:[l.jsx("h3",{className:"font-bold text-base xl:text-lg 2xl:text-xl mb-0.5 flex items-center gap-2",children:r}),l.jsx("p",{className:"text-xs xl:text-sm opacity-80 leading-snug",children:o})]}),l.jsx("button",{onClick:()=>f(!1),className:"absolute top-2 right-2 text-[10px] xl:text-xs font-bold px-3 py-1 rounded-full bg-slate-200/80 text-slate-800 hover:bg-rose-200 hover:text-rose-900 transition-colors",children:"Hide"})]})}):null,ih=["You're doing great!","Keep it up!","That's the spirit!","Rock and stone, to the bone!","You got this!","Tap tap tap!","Let's go!","Incredible!","Stay strong!","Marvelous work!","Splendid!","Watch out for bad juju!","You're unstoppable!","Simply magnificent!","Don't forget to click that!","Be careful in the void!","Are you still there?","Brilliant!","Excelsior!","It's your destiny!"],pd=[{eyes:" ",mouth:"",mood:"happy"},{eyes:" ",mouth:"",mood:"excited"},{eyes:" ",mouth:"",mood:"content"},{eyes:" ",mouth:"",mood:"cheerful"},{eyes:" ",mouth:"",mood:"delighted"}],xb=({position:r})=>{const[o,f]=h.useState(""),[d,m]=h.useState(!1),[v,w]=h.useState(pd[0]),[C,b]=h.useState(!1);h.useRef(null),h.useRef(null),h.useRef(null);const x=r==="left"?"left-4 lg:left-32 xl:left-36 bottom-24 lg:bottom-8":"right-4 bottom-24 lg:bottom-8",U=r==="left"?"left-full ml-3 bottom-full mb-2":"right-full mr-3 bottom-full mb-2",R=r==="left"?"left-3":"right-3";return h.useEffect(()=>{const M=()=>{const Q=ih[Math.floor(Math.random()*ih.length)];f(Q),m(!0),setTimeout(()=>{m(!1)},3e3)},E=setTimeout(M,2e3),A=setInterval(()=>{M()},8e3+Math.random()*7e3);return()=>{clearTimeout(E),clearInterval(A)}},[]),h.useEffect(()=>{const E=setInterval(()=>{const A=pd[Math.floor(Math.random()*pd.length)];w(A)},4e3+Math.random()*3e3);return()=>clearInterval(E)},[]),h.useEffect(()=>{const E=setInterval(()=>{b(!0),setTimeout(()=>b(!1),150)},3e3+Math.random()*3e3);return()=>clearInterval(E)},[]),l.jsxs("div",{id:"golem-helper",className:`fixed ${x} z-40 pointer-events-none select-none`,style:{width:"100px",height:"120px"},children:[d&&l.jsx("div",{className:`absolute ${U} animate-in fade-in slide-in-from-bottom-2 duration-300 pointer-events-none z-50`,children:l.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-600 to-emerald-700 text-white px-4 py-2 rounded-2xl shadow-xl border-2 border-emerald-400 whitespace-nowrap",children:[l.jsx("span",{className:"text-sm font-bold",children:o}),l.jsx("div",{className:`absolute top-full ${R} -mt-[1px]`,children:l.jsx("div",{className:"w-0 h-0 border-l-[8px] border-r-[8px] border-t-[8px] border-l-transparent border-r-transparent border-t-emerald-600"})})]})}),l.jsxs("div",{className:"relative w-full h-full flex items-end justify-center",children:[l.jsxs("div",{className:"relative bg-gradient-to-br from-stone-600 to-stone-800 rounded-2xl shadow-2xl border-4 border-stone-900",style:{width:"80px",height:"80px",animation:"bounce 2s ease-in-out infinite"},children:[l.jsx("div",{className:"absolute inset-2 border-2 border-stone-700/30 rounded-xl"}),l.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 flex gap-6",children:[l.jsx("div",{className:"relative w-7 h-7 bg-amber-500 rounded-full shadow-inner flex items-center justify-center",style:{animation:"glow-pulse 2s ease-in-out infinite"},children:l.jsx("div",{className:`w-3 h-3 bg-amber-900 rounded-full transition-all duration-200 ${C?"scale-y-0":"scale-y-100"}`})}),l.jsx("div",{className:"relative w-7 h-7 bg-amber-500 rounded-full shadow-inner flex items-center justify-center",style:{animation:"glow-pulse 2s ease-in-out infinite"},children:l.jsx("div",{className:`w-3 h-3 bg-amber-900 rounded-full transition-all duration-200 ${C?"scale-y-0":"scale-y-100"}`})})]}),l.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:l.jsx("div",{className:`text-3xl text-stone-950 font-bold transition-all duration-500 ${v.mood==="excited"?"scale-110":"scale-100"}`,children:v.mouth})}),l.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-t from-emerald-500/20 to-transparent animate-pulse"})]}),l.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-20 h-2 bg-black/30 rounded-full blur-sm",style:{animation:"shadow-pulse 2s ease-in-out infinite"}})]}),l.jsx("style",{children:`
                @keyframes bounce {
                    0%, 100% { transform: translateY(0); }
                    50% { transform: translateY(-8px); }
                }
                
                @keyframes shadow-pulse {
                    0%, 100% { transform: translateX(-50%) scale(1); opacity: 0.3; }
                    50% { transform: translateX(-50%) scale(0.9); opacity: 0.2; }
                }
                
                @keyframes glow-pulse {
                    0%, 100% { box-shadow: 0 0 8px rgba(251, 191, 36, 0.6); }
                    50% { box-shadow: 0 0 16px rgba(251, 191, 36, 0.9); }
                }
            `})]})},pb=h.memo(function({b:o,mana:f,buyAmount:d,prestigeBaseMultiplier:m,cardBg:v,toggleAutoBuild:w,buyBuilding:C,formatNumber:b,antiFlicker:x,gildedTowerEnabled:U,isAutoBuyUnlocked:R,manaCompressionMult:M,talentBuildingCostMult:E}){const A=Nd(o.baseCost,o.count,d),Q=Math.floor(A*(E||1)*(M||1)),L=f>=Q,H=o.baseProd*m,I=o.baseDust*m,se=o.count>0,Z=se?Math.max(1e-4,(H+I)*o.count):0,T=se?Math.min(6,Math.max(.5,2.5/Math.log10(Z+2))):null,S=h.useMemo(()=>{const G={r:217,g:70,b:239},B={r:34,g:211,b:238},he={r:251,g:191,b:36};return Array.from({length:20},(Be,Pe)=>{const De=Math.random(),Qe=Math.round(G.r*De+B.r*(1-De)),Ye=Math.round(G.g*De+B.g*(1-De)),ce=Math.round(G.b*De+B.b*(1-De)),D=`radial-gradient(circle at 50% 50%, rgba(${Qe},${Ye},${ce},1) 0%, rgba(${Qe},${Ye},${ce},0.6) 40%, rgba(${Qe},${Ye},${ce},0) 100%)`,ee=`rgba(${Qe},${Ye},${ce},0.45)`,me=Math.round(he.r*.7+Qe*.3),Ne=Math.round(he.g*.7+Ye*.3),Ce=Math.round(he.b*.7+ce*.3),g=`radial-gradient(circle at 50% 50%, rgba(${me},${Ne},${Ce},1) 0%, rgba(${me},${Ne},${Ce},0.6) 40%, rgba(${me},${Ne},${Ce},0) 100%)`,Y=`rgba(${me},${Ne},${Ce},0.45)`;return{size:.2+Math.random()*.25,opacity:.75+Math.random()*.25,topPosition:40+Math.random()*20,animDelay:Math.random(),normalGradient:D,normalGlow:ee,gildedGradient:g,gildedGlow:Y}})},[o.id]);return l.jsxs("div",{className:`w-full p-3 xl:p-4 2xl:p-5 rounded-lg border relative overflow-hidden flex flex-col justify-between transition-all ${v}`,children:[l.jsxs("div",{className:"flex justify-between items-start w-full mb-1",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-bold text-base xl:text-lg truncate",children:o.name}),l.jsxs("div",{className:"text-[11px] xl:text-sm opacity-60 italic mb-1 line-clamp-1",children:['"',o.desc,'"']})]}),l.jsx("div",{className:"text-xl xl:text-2xl font-mono font-bold opacity-80 ml-2",children:o.count})]}),l.jsxs("div",{className:"flex flex-col items-start w-full mt-auto gap-1",children:[l.jsxs("div",{className:"flex justify-between items-center w-full",children:[l.jsxs("div",{className:"flex flex-col items-start flex-1 min-w-0",children:[l.jsxs("div",{className:"text-[11px] xl:text-sm text-indigo-400 font-mono truncate",children:["+",xo(H*o.count)," Mana/s"]}),o.baseDust>0&&l.jsxs("div",{className:"text-[11px] xl:text-sm text-fuchsia-400 font-mono truncate",children:["+",xo(I*o.count)," Dust/s"]})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center ml-1",children:[R(o.id)?l.jsx("button",{onClick:()=>w(o.id),className:`w-9 h-9 rounded-full flex items-center justify-center transition-all ${o.autoActive?"bg-emerald-500 text-white shadow-[0_0_8px_rgba(16,185,129,0.5)]":"bg-slate-700 text-slate-400"}`,title:o.autoActive?"Active":"Paused",children:o.autoActive?l.jsx(vd,{size:12,fill:"currentColor"}):l.jsx(yh,{size:12,fill:"currentColor"})}):l.jsx("button",{type:"button",disabled:!0,title:"Purchase the Lab Upgrade to unlock Auto-Builder",className:"w-9 h-9 rounded-full bg-slate-800/50 border border-slate-700 flex items-center justify-center text-slate-600 cursor-not-allowed",children:l.jsx(El,{size:12})}),l.jsx("span",{className:"text-[9px] xl:text-[10px] uppercase font-bold mt-0.5 opacity-50",children:"Auto"})]})]}),!x&&se&&l.jsx("div",{className:"w-full h-5 xl:h-6 mt-1.5 relative p-0 m-0",style:{background:"none",borderRadius:0,overflow:"hidden"},children:l.jsx("div",{className:`tick-beam-bubbles ${U?"gilded":""}`,style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none","--tick-speed":`${T}s`},children:S.map((G,B)=>l.jsx("span",{className:"tick-bubble",style:{left:"-5%",top:`${G.topPosition}%`,width:`${G.size}em`,height:`${G.size}em`,opacity:G.opacity,animationDelay:`${(G.animDelay*T).toFixed(3)}s`,"--bubble-color":U?G.gildedGradient:G.normalGradient,"--bubble-glow":U?G.gildedGlow:G.normalGlow}},B))})}),l.jsxs("button",{type:"button",onClick:()=>C(o.id,d,!1),className:`w-full py-1.5 xl:py-2 rounded text-[10px] xl:text-xs font-bold border transition-colors hover:bg-emerald-600 hover:text-white
                        bg-emerald-600/20 border-emerald-500 text-emerald-400 aria-disabled:opacity-50`,"aria-disabled":!L,children:["Buy x",d,": ",b(Q)]})]})]})}),gb=({showTutorial:r,setShowTutorial:o,mana:f,totalMana:d,buildings:m,buyAmount:v,setBuyAmount:w,prestigeBaseMultiplier:C,clickPower:b,cardBg:x,animPulse:U,buyBuilding:R,toggleAutoBuild:M,handleClick:E,setShowTeleportModal:A,tapPopups:Q,calculateTeleportBonus:L,antiFlicker:H,gildedTowerEnabled:I,purchasedUpgrades:se,golemPosition:Z,isAutoBuyUnlocked:T,prestigeCount:S,prestigeMultiplier:G,formatNumber:B,research:he,talentBonuses:Be})=>{const Pe=(he==null?void 0:he.mana_compression)||0,De=Math.max(.1,1-Pe*.1),Qe=(Be==null?void 0:Be.buildingCostMult)||1,Ye=(se||[]).includes("golem_helper")&&Z!=="off";return l.jsxs("div",{className:"w-full",children:[l.jsx(Vl,{title:"The Tower",text:"Tap the arcane orb to gather Mana and Dust. Use it to construct new floors and upgrades. Upgrades generate both Mana and Dust passively over time. Once you are powerful enough, you may Teleport to reset your timeline for a massive power boost.",icon:kd,iconColor:"text-indigo-400",showTutorial:r,setShowTutorial:o,cardBg:x}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3",children:[l.jsxs("div",{className:"lg:col-span-1 space-y-3 lg:self-start",children:[l.jsxs("div",{className:`${x} p-5 xl:p-6 rounded-xl border text-center relative overflow-visible group`,children:[l.jsx("div",{className:"pointer-events-none absolute inset-0 overflow-visible z-20",children:Q.map(ce=>l.jsxs("span",{className:"tap-popup text-xs font-black text-indigo-100 drop-shadow-md",style:{left:`calc(50% + ${ce.posX}px)`,top:`calc(50% + ${ce.posY}px)`,"--driftX":`${ce.driftX}px`,"--driftY":`${ce.driftY}px`},children:["+",B(ce.value)]},ce.id))}),l.jsxs("button",{onPointerDown:ce=>{if(ce.preventDefault(),requestAnimationFrame(()=>E()),I&&ce.currentTarget.parentElement){const D=ce.currentTarget.parentElement,ee=ce.currentTarget.getBoundingClientRect(),me=D.getBoundingClientRect(),Ne=ee.left-me.left+ee.width/2,Ce=ee.top-me.top+ee.height/2;for(let g=0;g<8;g++){const Y=document.createElement("div");Y.className="golden-spark";const te=Math.random()*Math.PI*2,ue=48+Math.random()*40;Y.style.setProperty("--tx",`${Math.cos(te)*ue}px`),Y.style.setProperty("--ty",`${Math.sin(te)*ue}px`),Y.style.setProperty("--spark-scale",`${.8+Math.random()*.6}`),Y.style.setProperty("--spark-duration",`${520+Math.random()*220}ms`),Y.style.left=`${Ne}px`,Y.style.top=`${Ce}px`,D.appendChild(Y),setTimeout(()=>Y.remove(),900)}}},onKeyDown:ce=>{(ce.key===" "||ce.key==="Enter")&&(ce.preventDefault(),requestAnimationFrame(()=>E()))},"aria-label":"Tap to gather mana",tabIndex:0,className:`relative z-10 pointer-events-auto ${I?"gilded-tap-button":"bg-indigo-600 hover:bg-indigo-500"} active:scale-95 transition-all w-24 h-24 xl:w-28 xl:h-28 2xl:w-32 2xl:h-32 rounded-full shadow-[0_0_30px_rgba(79,70,229,0.3)] flex items-center justify-center mx-auto border-4 ${I?"border-amber-600":"border-slate-800"} touch-manipulation`,children:[Ye&&l.jsxs("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 flex items-center gap-1 pointer-events-none",style:{transform:"translateY(-50%) translateX(-4px)"},children:[l.jsxs("div",{className:"relative w-6 h-6 xl:w-7 xl:h-7 2xl:w-8 2xl:h-8 rounded-lg bg-stone-700 border-2 border-stone-900 shadow",children:[l.jsx("div",{className:"absolute inset-0 rounded-lg bg-stone-500/15"}),l.jsxs("div",{className:"absolute top-[2px] left-1/2 -translate-x-1/2 flex gap-1.5",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"})]}),l.jsx("div",{className:"absolute bottom-[2px] left-1/2 -translate-x-1/2 text-stone-900 text-xs",children:""})]}),l.jsx("div",{className:"w-5 h-5 xl:w-6 xl:h-6 2xl:w-7 2xl:h-7 rounded-full bg-stone-600 border-2 border-stone-800 shadow",style:{animation:"golem-tap 0.8s ease-in-out infinite"}})]}),l.jsx(_l,{size:44,className:`${I?"text-amber-300":"text-white"} fill-current xl:w-12 xl:h-12 2xl:w-14 2xl:h-14`}),Ye&&l.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:16}).map((ce,D)=>l.jsx("div",{className:"auto-spark-varied",style:{"--angle":`${(D*22+D%5*9)%360}deg`,"--radius":`${40+D%6*18}px`,"--delay":`${D%8*.08}s`,"--duration":`${620+D%7*130}ms`,"--scale":`${.65+D%5*.18}`}},D))})]}),l.jsxs("div",{className:"mt-2 text-sm xl:text-base opacity-60",children:["Tap Power: ",b.toFixed(1)]}),l.jsx("div",{className:"absolute inset-0 -m-4 rounded-xl z-0",onPointerDown:ce=>{ce.target instanceof HTMLElement&&!ce.target.closest('button[aria-label="Tap to gather mana"]')&&requestAnimationFrame(()=>E())}}),l.jsx("div",{className:"mt-3 text-left",children:d>1e6?l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxs("button",{onClick:()=>A(!0),className:`flex-1 bg-indigo-900/50 border border-indigo-500/50 text-indigo-200 px-3 py-1.5 rounded-lg flex items-center justify-center gap-2 font-bold hover:bg-indigo-900 transition-colors ${U}`,children:[l.jsx(ml,{size:14})," Teleport"]}),l.jsxs("div",{className:"text-[10px] font-bold text-emerald-400 whitespace-nowrap",children:["+",L(),"x"]})]}),G>1&&l.jsxs("div",{className:"text-center text-[10px] font-bold text-amber-400 bg-amber-900/20 py-1 px-2 rounded border border-amber-500/20",children:["Timeline Multiplier: ",B(G,"dynamic"),"x  Teleports: ",S]})]}):l.jsxs("div",{className:"w-full bg-slate-900/20 border border-dashed border-slate-700 px-3 py-2 rounded-lg",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-widest opacity-50 mb-1",children:"Teleportation Seal"}),l.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-indigo-900 transition-all duration-500",style:{width:`${Math.min(100,d/1e6*100)}%`}})}),l.jsxs("div",{className:"text-[10px] mt-1 opacity-40",children:[(d/1e6*100).toFixed(2),"% (Need 1.00M Lifetime Mana)"]})]})})]}),l.jsx("style",{children:`
                        @keyframes golem-tap {
                            0% { transform: translateY(-50%) translateX(0) scale(1); }
                            30% { transform: translateY(-50%) translateX(8px) scale(0.98); }
                            50% { transform: translateY(-50%) translateX(10px) scale(0.96); }
                            80% { transform: translateY(-50%) translateX(0) scale(1); }
                            100% { transform: translateY(-50%) translateX(0) scale(1); }
                        }
                        /* removed standalone hand-on-button animation; using external group overlapping onto edge */
                        @keyframes spark-pulse {
                            0%, 100% { opacity: 0.4; transform: scale(0.8); }
                            50% { opacity: 1; transform: scale(1.2); }
                        }
                        .auto-spark {
                            position: absolute;
                            left: 50%;
                            top: 50%;
                            width: 6px;
                            height: 6px;
                            border-radius: 9999px;
                            background: radial-gradient(circle, rgba(255,255,255,0.95) 40%, rgba(250,204,21,0.9) 60%, rgba(0,0,0,0) 70%);
                            box-shadow: 0 0 10px rgba(250,204,21,0.7);
                            transform: translate(-50%, -50%);
                            animation: auto-spark-anim 0.9s ease-in-out infinite;
                            animation-delay: var(--delay);
                        }
                        @keyframes auto-spark-anim {
                            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.6); }
                            50% { opacity: 1; transform: translate(calc(-50% + 8px), calc(-50% - 8px)) scale(1); }
                            100% { opacity: 0; transform: translate(calc(-50% + 20px), calc(-50% - 20px)) scale(0.7); }
                        }
                        .auto-spark-varied {
                            position: absolute;
                            left: 50%;
                            top: 50%;
                            width: 7px;
                            height: 7px;
                            border-radius: 9999px;
                            background: radial-gradient(circle, rgba(255,255,255,0.95) 35%, rgba(250,204,21,0.85) 65%, rgba(0,0,0,0) 75%);
                            box-shadow: 0 0 12px rgba(250,204,21,0.7);
                            transform: translate(-50%, -50%) rotate(var(--angle));
                            animation: auto-spark-varied-anim var(--duration) ease-out infinite;
                            animation-delay: var(--delay);
                        }
                        @keyframes auto-spark-varied-anim {
                            0% {
                                opacity: 0;
                                transform: translate(-50%, -50%) rotate(var(--angle)) scale(0.6);
                            }
                            45% {
                                opacity: 1;
                                transform: translate(calc(-50% + cos(var(--angle)) * (var(--radius) * 0.6)), calc(-50% + sin(var(--angle)) * (var(--radius) * 0.6))) rotate(var(--angle)) scale(var(--scale));
                            }
                            100% {
                                opacity: 0;
                                transform: translate(calc(-50% + cos(var(--angle)) * var(--radius)), calc(-50% + sin(var(--angle)) * var(--radius))) rotate(var(--angle)) scale(0.7);
                            }
                        }
                    `})]}),l.jsxs("div",{className:"lg:col-span-3",children:[l.jsxs("div",{className:"flex justify-between items-center px-1 mb-1",children:[l.jsx("h3",{className:"font-bold text-sm xl:text-base uppercase tracking-wider opacity-80",children:"Floors & Expansions"}),l.jsx("div",{className:"flex gap-1",children:l.jsx("div",{className:"flex gap-1 bg-slate-500/10 p-0.5 rounded",children:[1,10,100].map(ce=>l.jsxs("button",{onClick:()=>w(ce),className:`px-3 xl:px-3.5 py-1 xl:py-1.5 text-[11px] xl:text-xs rounded-lg ${v===ce?"bg-indigo-600 text-white":"hover:bg-black/10"}`,children:["x",ce]},ce))})})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 2xl:grid-cols-3 gap-4 lg:pr-1 pb-2",children:m.map(ce=>l.jsx(pb,{b:ce,mana:f,buyAmount:v,prestigeBaseMultiplier:C,cardBg:x,toggleAutoBuild:M,buyBuilding:R,formatNumber:B,antiFlicker:H,gildedTowerEnabled:I,isAutoBuyUnlocked:T,manaCompressionMult:De,talentBuildingCostMult:Qe},ce.id))})]})]})]})},Or=h.memo(function({res:o,currentLevel:f,isMaxed:d,cost:m,resource:v,canAfford:w,Icon:C,getResourceColor:b,formatNumber:x,cardBg:U,loopHandlers:R}){const M=()=>{d||!w||R.buyResearch(o.id)},E=A=>{(A.key==="Enter"||A.key===" ")&&!d&&w&&(A.preventDefault(),R.buyResearch(o.id))};return l.jsxs("div",{role:"button",tabIndex:d||!w?-1:0,onClick:M,onKeyDown:E,"aria-disabled":d||!w,className:`p-4 rounded-xl border text-left flex items-start gap-4 relative overflow-hidden h-full transition-all w-full select-none ${U} hover:border-fuchsia-500 hover:shadow-md aria-disabled:opacity-60`,style:{outline:"none"},children:[l.jsx("div",{className:`p-2 rounded-full ${d?"bg-emerald-500 text-white":"bg-slate-500/10"}`,children:d?l.jsx(Hr,{size:24}):l.jsx(C,{size:24})}),l.jsxs("div",{className:"flex-1 w-full",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("div",{className:"font-bold text-sm",children:o.name}),l.jsxs("div",{className:"text-xs bg-slate-900/50 px-2 py-0.5 rounded text-slate-300",children:["Lvl ",f," / ",o.maxLevel]})]}),l.jsxs("div",{className:"text-xs opacity-60 italic mb-2 min-h-[1.5em]",children:['"',o.desc,'"']}),l.jsx("div",{className:"mt-auto",children:d?l.jsx("div",{className:"text-xs font-bold text-emerald-500 w-full text-center bg-emerald-900/20 py-1 rounded",children:"MAXED"}):l.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-1.5 rounded",children:[l.jsx("span",{className:"text-[10px] opacity-70",children:o.maxLevel===1?"Purchase":"Next Lvl:"}),l.jsxs("div",{className:`text-xs font-bold font-mono ${w?b(o.type):"text-red-500"}`,children:[x(m)," ",o.type.charAt(0).toUpperCase()+o.type.slice(1)]})]})})]})]})}),bb=({hasResearch:r,showTutorial:o,setShowTutorial:f,mana:d,dust:m,research:v,cardBg:w,formatNumber:C,loopHandlers:b,getResearchCost:x,talentBonuses:U,prestigeCount:R})=>{const M=T=>T==="mana"?d:T==="dust"?m:0,E=T=>v[T]||0,A=T=>T==="mana"?"text-indigo-400":T==="dust"?"text-fuchsia-400":"text-fuchsia-500",Q=(R||0)>0,L=h.useMemo(()=>xn.filter(T=>!T.category),[]),H=h.useMemo(()=>xn.filter(T=>T.category==="efficiency"),[]),I=h.useMemo(()=>xn.filter(T=>T.category==="automation"&&(!T.requiresAscension||Q)),[Q]),se=h.useMemo(()=>xn.filter(T=>T.category==="secret"),[]),Z=h.useMemo(()=>[],[]);return l.jsxs("div",{className:"w-full",children:[l.jsx(Vl,{title:"Arcane Laboratory",text:"Spend earned Dust to unlock permanent upgrades, automation and new game features.",icon:ei,iconColor:"text-fuchsia-400",showTutorial:o,setShowTutorial:f,cardBg:w}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-lg font-bold border-b border-indigo-500/30 pb-2 flex items-center gap-2",children:[l.jsx(kd,{size:20,className:"text-indigo-400"})," Tower Expansions"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:L.map(T=>{const S=E(T.id),G=S>=T.maxLevel,B=x?x(T.id,S):0,he=M(T.type),Be=!G&&he>=B;return l.jsx(Or,{res:T,currentLevel:S,isMaxed:G,cost:B,resource:he,canAfford:Be,Icon:T.icon,getResourceColor:A,formatNumber:C,cardBg:w,loopHandlers:b},T.id)})}),l.jsxs("h3",{className:"text-lg font-bold border-b border-indigo-500/30 pb-2 flex items-center gap-2",children:[l.jsx(Ep,{size:20,className:"text-indigo-400"})," Efficiency Research"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:H.map(T=>{const S=E(T.id),G=S>=T.maxLevel,B=x?x(T.id,S):0,he=M(T.type),Be=!G&&he>=B;return l.jsx(Or,{res:T,currentLevel:S,isMaxed:G,cost:B,resource:he,canAfford:Be,Icon:T.icon,getResourceColor:A,formatNumber:C,cardBg:w,loopHandlers:b},T.id)})}),l.jsxs("h3",{className:"text-lg font-bold border-b border-indigo-500/30 pb-2 flex items-center gap-2",children:[l.jsx(is,{size:20,className:"text-indigo-400"})," Specialized Engineering"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[I.map(T=>{const S=E(T.id),G=S>=T.maxLevel,B=x?x(T.id,S):0,he=M(T.type),Be=!G&&he>=B;return l.jsx(Or,{res:T,currentLevel:S,isMaxed:G,cost:B,resource:he,canAfford:Be,Icon:T.icon,getResourceColor:A,formatNumber:C,cardBg:w,loopHandlers:b},T.id)}),Z.map(T=>{const S=E(T.id),G=S>=T.maxLevel,B=x?x(T.id,S):0,he=M(T.type),Be=!G&&he>=B;return l.jsx(Or,{res:T,currentLevel:S,isMaxed:G,cost:B,resource:he,canAfford:Be,Icon:T.icon,getResourceColor:A,formatNumber:C,cardBg:w,loopHandlers:b},T.id)})]}),(U==null?void 0:U.hasSecretResearch)&&l.jsxs(l.Fragment,{children:[l.jsxs("h3",{className:"text-lg font-bold border-b border-purple-500/30 pb-2 flex items-center gap-2",children:[l.jsx(bo,{size:20,className:"text-purple-400"})," Forbidden Arcana"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:se.map(T=>{const S=E(T.id),G=S>=T.maxLevel,B=x?x(T.id,S):0,he=M(T.type),Be=!G&&he>=B;return l.jsx(Or,{res:T,currentLevel:S,isMaxed:G,cost:B,resource:he,canAfford:Be,Icon:T.icon,getResourceColor:A,formatNumber:C,cardBg:w,loopHandlers:b},T.id)})})]}),!(U!=null&&U.hasSecretResearch)&&se.length>0&&l.jsxs("div",{className:"p-4 rounded-xl border border-purple-500/20 bg-purple-900/10 text-center flex items-center justify-center gap-2",children:[l.jsx(El,{size:20,className:"text-purple-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-sm",children:"Forbidden Arcana Locked"}),l.jsx("div",{className:"text-xs opacity-60",children:"Unlock the Secret Research talent to access forbidden knowledge."})]})]})]})]})},yb=({hasResearch:r,showTutorial:o,setShowTutorial:f,mana:d,dust:m,totalMana:v,currentDimensionIndex:w,unlockedDimensions:C,isExploring:b,explorationProgress:x,explorationResult:U,autoExploreEnabled:R,exploreCostMult:M,currentDim:E,cardBg:A,animPulse:Q,library:L,talentBonuses:H,setters:I,startExploration:se,unlockDimension:Z,switchDimension:T,formatNumber:S,calculateTeleportBonus:G})=>{const{setCurrentDimensionIndex:B,setAutoExploreEnabled:he,setExplorationResult:Be,setShowTeleportModal:Pe}=I,De=ot.filter(ce=>!(ce.id==="wellspring"&&!(H!=null&&H.hasTranscendent))),Qe=()=>{if(!b||!E)return 0;const ce=L&&L.active==="codex_void"?.9:1,D=E.duration*ce,me=(100-x)/100*D;return Math.max(0,Math.round(me))};if(!r("portal_access"))return l.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 w-full",children:l.jsxs("div",{className:"text-center py-12 opacity-50 border-2 border-dashed border-slate-700 rounded-xl",children:[l.jsx(El,{size:48,className:"mx-auto mb-2"}),l.jsx("p",{children:"Research 'Rift Stabilization' to unlock Portal."})]})});const Ye=()=>he(ce=>!ce);return l.jsxs("div",{className:"w-full",children:[l.jsx(Vl,{title:"Dimensional Portal",text:"Send your magical servants into the rift to discover new Creatures and Artifacts. Exploration costs Dust. New dimensions are unlocked with Mana.",icon:Xl,iconColor:"text-indigo-400",showTutorial:o,setShowTutorial:f,cardBg:A}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:`${A} p-4 rounded-xl border text-center relative overflow-hidden flex flex-col justify-center`,children:[l.jsxs("div",{className:"flex justify-center items-center w-full mb-3 relative",children:[l.jsx(Xl,{size:40,className:`text-indigo-400 ${Q}`}),r("auto_explore")&&R&&l.jsxs("div",{className:"absolute top-0 right-0 bg-emerald-500/20 text-emerald-400 text-[10px] px-2 py-1 rounded-full border border-emerald-500/50 font-bold flex items-center gap-1",children:[l.jsx(vd,{size:8,fill:"currentColor"})," AUTO"]})]}),l.jsxs("h2",{className:"text-xl xl:text-2xl 2xl:text-3xl font-bold",children:["Survey: ",E&&E.name||ot[0].name]}),l.jsxs("div",{className:"text-sm xl:text-base italic opacity-60 mb-4",children:['"',E&&E.desc||ot[0].desc,'"']}),b?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-full bg-slate-800 rounded-full h-3 overflow-hidden relative mt-4",children:l.jsx("div",{className:"bg-indigo-500 h-full transition-all duration-100 ease-linear",style:{width:`${x}%`}})}),l.jsxs("div",{className:"text-center text-xs font-mono opacity-70 mt-2",children:[x.toFixed(0),"%  ",Qe(),"s remaining"]})]}):l.jsxs("button",{onClick:se,"aria-disabled":m<(E&&E.exploreCost||ot[0].exploreCost)*M,className:"w-full mt-3 text-white font-bold py-2 text-sm rounded-lg shadow-lg transition-transform active:scale-95 bg-indigo-600 hover:bg-indigo-500 aria-disabled:opacity-50 aria-disabled:grayscale",children:["Explore (-",S(Math.floor((E&&E.exploreCost||ot[0].exploreCost)*M))," Dust)"]}),r("auto_explore")&&l.jsx("div",{className:"mt-4 pt-4 border-t border-slate-700/30",children:l.jsxs("div",{className:`flex items-center justify-between gap-3 p-3 rounded-xl border transition-colors ${R?"bg-emerald-900/20 border-emerald-500/30":"bg-slate-900/20 border-slate-700/50"}`,children:[l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:`text-xs font-bold ${R?"text-emerald-400":"text-slate-400"}`,children:"Scouting Golems"}),l.jsx("div",{className:"text-[10px] opacity-60",children:"Automatically restarts expeditions."})]}),l.jsx("button",{onClick:Ye,className:`px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-2 shadow-sm ${R?"bg-emerald-600 hover:bg-emerald-500 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-300"}`,children:R?l.jsxs(l.Fragment,{children:[l.jsx(yh,{size:12,fill:"currentColor"})," STOP"]}):l.jsxs(l.Fragment,{children:[l.jsx(vd,{size:12,fill:"currentColor"})," AUTO"]})})]})}),U&&l.jsxs("div",{className:`mt-4 p-3 rounded-xl border flex items-center gap-3 animate-in zoom-in-95 text-left ${U.type==="lore"?"bg-slate-800 border-slate-600":"bg-emerald-900/30 border-emerald-500/30"}`,children:[l.jsx("div",{children:U.type==="lore"?l.jsx(vo,{size:20}):l.jsx(Hr,{size:20,className:"text-emerald-400"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-bold text-sm",children:U.title}),l.jsx("div",{className:"text-xs opacity-80",children:U.message}),U.reward&&l.jsx("div",{className:"text-xs font-mono mt-1 text-emerald-400",children:typeof U.reward=="string"?U.reward:U.reward.name})]}),l.jsx("button",{onClick:()=>Be(null),className:"text-slate-500 hover:text-red-400",children:l.jsx(ra,{size:16})})]})]}),l.jsx("div",{className:"space-y-2",children:De.map((ce,D)=>{var Ce,g,Y;const ee=C.includes(ce.id),me=w===D,Ne=d>=ce.unlockCost;return l.jsxs("div",{className:`w-full p-3 rounded-xl border text-left relative overflow-hidden flex items-start gap-3 transition-all
                                ${me?"bg-indigo-900/30 border-indigo-500 ring-1 ring-indigo-500":`${A}`}
                                ${ee?"hover:translate-x-1 cursor-pointer":"opacity-80"}`,onClick:()=>ee&&T(D),children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-bold text-sm",children:l.jsx("span",{className:`bg-gradient-to-r ${ce.id==="earth"?"from-blue-400 to-sky-300":ce.id==="fire"?"from-red-500 to-orange-400":ce.id==="void"?"from-purple-500 to-gray-400":ce.id==="astral"?"from-pink-400 to-white":ce.id==="chaos"?"from-emerald-400 to-green-300":ce.id==="omega"?"from-amber-300 to-yellow-200":"from-slate-400 to-slate-300"} bg-clip-text text-transparent`,children:ce.name})}),l.jsxs("div",{className:"text-[11px] opacity-60 italic",children:['"',ce.desc,'"']}),ee?l.jsxs("div",{className:"text-[11px] opacity-60 mt-0.5",children:["Ready to Explore (-",S(ce.exploreCost*M)," Dust)"]}):l.jsxs("div",{className:"text-[11px] mt-0.5 flex items-center gap-1",children:[l.jsx(Cd,{size:10,className:((Ce=hd[ce.difficulty])==null?void 0:Ce.color)||"text-slate-400"}),l.jsx("span",{className:((g=hd[ce.difficulty])==null?void 0:g.color)||"text-slate-400",children:((Y=hd[ce.difficulty])==null?void 0:Y.text)||"Unknown"}),l.jsx("span",{className:"opacity-60",children:"  Purchase Required"})]})]}),l.jsx("div",{className:"flex-shrink-0",children:ee?me?l.jsx("div",{className:"bg-indigo-500 text-white text-[10px] px-2 py-1 rounded",children:"ACTIVE"}):l.jsx(fh,{size:16,className:"opacity-50"}):l.jsxs("button",{onClick:te=>{te.stopPropagation(),Z(ce.id)},"aria-disabled":!Ne,className:"text-white text-[11px] px-3 py-1 rounded flex items-center gap-1 font-bold shadow-lg bg-emerald-600 hover:bg-emerald-500 aria-disabled:opacity-50",children:[l.jsx(gh,{size:12})," ",S(ce.unlockCost)," Mana"]})})]},ce.id)})})]})]})},rh={fireball:{id:"fireball",name:"Fireball",emoji:"",color:"text-red-400",description:"Deal 150% of your ATK as damage.",manaCost:20,cooldown:3,effect:"damage",damageMultiplier:1.5},frostbolt:{id:"frostbolt",name:"Frostbolt",emoji:"",color:"text-blue-400",description:"Deal 100% of your ATK and reduce enemy damage by 30% for 3 turns.",manaCost:15,cooldown:2,effect:"damageAndDebuff",damageMultiplier:1,debuffType:"atkReduction",debuffAmount:.3,duration:3},heal:{id:"heal",name:"Heal",emoji:"",color:"text-green-400",description:"Restore 40% of your max HP.",manaCost:25,cooldown:4,effect:"heal",healMultiplier:.4},shockwave:{id:"shockwave",name:"Shockwave",emoji:"",color:"text-yellow-400",description:"Deal 200% of your ATK. Has a 30% chance to stun the enemy.",manaCost:30,cooldown:5,effect:"damageWithChance",damageMultiplier:2,chanceEffect:"stun",chance:.3,duration:2},blessing:{id:"blessing",name:"Blessing",emoji:"",color:"text-purple-400",description:"Increase your ATK by 25% for 4 turns.",manaCost:20,cooldown:3,effect:"buff",buffType:"atkBuff",buffAmount:.25,duration:4}},vb=({hasResearch:r,showTutorial:o,setShowTutorial:f,arenaLevel:d,inBattle:m,playerHP:v,playerMaxHP:w,playerAtk:C,enemyHP:b,nextEnemy:x,cardBg:U,animPulse:R,setters:M,loadoutFlash:E,loopHandlers:A,bossAffixes:Q,gameState:L})=>{var T;const{setShowLoadoutModal:H,setCurrentSpellId:I}=M;if(!r("arena_access"))return l.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 w-full",children:l.jsxs("div",{className:"text-center py-12 opacity-50 border-2 border-dashed border-slate-700 rounded-xl",children:[l.jsx(El,{size:48,className:"mx-auto mb-2"}),l.jsx("p",{children:"Research 'Battle Magic' to unlock Arena."})]})});const se=()=>{A!=null&&A.startArenaBattle&&A.startArenaBattle()},Z=S=>{I&&I(S)};return l.jsxs("div",{className:"w-full",children:[l.jsx(Vl,{title:"The Arena",text:"Test your strength against interdimensional threats. Your HP is determined by your Equipped Creatures, and your Attack by your Equipped Artifacts. Every 5th wave is a Boss Battle with enhanced rewards.",icon:rs,iconColor:"text-orange-400",showTutorial:o,setShowTutorial:f,cardBg:U}),l.jsxs("div",{className:`${U} p-4 rounded-lg border max-w-2xl mx-auto`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"font-bold text-base xl:text-lg",children:["Wave ",d+1," ",(d+1)%5===0&&l.jsx("span",{className:"text-red-500 ml-2 font-black",children:"BOSS"})]}),l.jsxs("div",{className:"text-[11px] bg-slate-500/20 px-2 py-1 rounded-full",children:["Record: ",d]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 text-center text-sm xl:text-base",children:[l.jsxs("div",{className:"bg-slate-900/50 p-2 rounded border border-slate-700",children:[l.jsx("div",{className:"text-[10px] text-slate-400 uppercase",children:"HP"}),l.jsx("div",{className:"text-lg xl:text-xl font-bold text-emerald-400",children:w})]}),l.jsxs("div",{className:"bg-slate-900/50 p-2 rounded border border-slate-700",children:[l.jsx("div",{className:"text-[10px] text-slate-400 uppercase",children:"ATK"}),l.jsx("div",{className:"text-lg xl:text-xl font-bold text-orange-400",children:C.toFixed(1)})]}),l.jsxs("button",{onClick:()=>H(!0),className:`bg-indigo-600 hover:bg-indigo-500 text-white p-2 rounded font-bold flex flex-col items-center justify-center border border-indigo-400 active:scale-95 transition-all ${E?"ring-2 ring-red-500":""}`,children:[l.jsx(po,{size:14,className:"mb-1"}),l.jsx("span",{className:"text-[11px]",children:"Loadout"})]})]}),!m&&C<=2&&l.jsx("div",{className:"mb-3 text-center",children:l.jsxs("button",{onClick:()=>H(!0),className:"inline-flex items-center gap-2 text-[11px] px-3 py-1.5 rounded-full bg-indigo-900/40 border border-indigo-600 text-indigo-300 hover:bg-indigo-800/50 transition",title:"Equip artifacts to increase your ATK",children:[l.jsx(go,{size:12})," Equip artifacts in Loadout to increase ATK"]})}),m?l.jsxs("div",{className:"space-y-4",children:[(d+1)%5===0&&Q&&Q.length>0&&l.jsxs("div",{className:"p-3 rounded-lg bg-red-900/30 border-2 border-red-500",children:[l.jsx("div",{className:"text-xs font-bold text-red-400 mb-2",children:" BOSS AFFIXES"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Q.map(S=>l.jsxs("div",{className:"p-2 rounded bg-red-800/40 border border-red-500/50 text-[10px]",children:[l.jsxs("div",{className:"font-bold text-red-300",children:[S.emoji," ",S.name]}),l.jsx("div",{className:"opacity-70 text-[9px]",children:S.description})]},S.id))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1",children:[l.jsxs("span",{className:"text-red-400",children:[(d+1)%5===0?"BOSS ":"",x.name]}),l.jsxs("span",{children:[Math.max(0,b)," / ",x.hp," HP"]})]}),l.jsx("div",{className:"h-3 bg-slate-700 rounded-full overflow-hidden border border-slate-600",children:l.jsx("div",{className:"h-full bg-red-500 transition-all duration-300 ease-out",style:{width:`${Math.max(0,b/x.hp*100)}%`}})})]}),l.jsx("div",{className:"flex justify-center py-2",children:(d+1)%5===0?l.jsx(mo,{size:48,className:"animate-bounce text-red-600"}):l.jsx(rs,{size:48,className:`${R} text-orange-500`})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1",children:[l.jsx("span",{className:"text-emerald-400",children:"You"}),l.jsxs("span",{children:[Math.max(0,v)," / ",w," HP"]})]}),l.jsx("div",{className:"h-3 bg-slate-700 rounded-full overflow-hidden border border-slate-600",children:l.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-300 ease-out",style:{width:`${v/w*100}%`}})})]})]}):l.jsxs("div",{className:"text-center py-6",children:[l.jsx(ti,{size:48,className:"mx-auto text-amber-400 mb-3"}),l.jsxs("p",{className:"opacity-80 mb-2 text-sm xl:text-base",children:["Next Opponent: ",l.jsxs("span",{className:"text-red-400 font-bold",children:[(d+1)%5===0?"BOSS: ":"",x.name]})]}),(L==null?void 0:L.currentSpellId)&&(((T=L==null?void 0:L.spellCharges)==null?void 0:T[L.currentSpellId])||0)>0&&(()=>{const S=rh[L.currentSpellId];return l.jsxs("div",{className:`mb-3 inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-purple-900/30 border border-purple-600/50 text-[11px] shadow-lg shadow-purple-900/30 animate-in fade-in ring-2 ring-purple-600/40 ${R}`,children:[l.jsx("span",{className:"text-purple-200",children:"Equipped Spell:"}),l.jsxs("span",{className:`font-semibold flex items-center gap-1 ${(S==null?void 0:S.color)||"text-purple-200"}`,children:[l.jsx("span",{children:(S==null?void 0:S.emoji)||""}),l.jsx("span",{children:(S==null?void 0:S.name)||L.currentSpellId})]}),l.jsx("span",{className:"opacity-70 text-purple-300",children:""}),l.jsxs("span",{className:"text-purple-200",children:["Charges: ",L.spellCharges[L.currentSpellId]]})]})})(),(d+1)%5===0&&x.affixes&&x.affixes.length>0&&l.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-900/20 border border-red-500/50 inline-block text-left",children:[l.jsx("div",{className:"text-xs font-bold text-red-400 mb-2",children:" BOSS AFFIXES"}),l.jsx("div",{className:"space-y-1",children:x.affixes.map(S=>l.jsx("div",{className:"text-[10px]",children:l.jsxs("span",{className:"font-bold text-red-300",children:[S.emoji," ",S.name]})},S.id))})]}),l.jsxs("div",{className:"flex justify-center gap-4 mb-4 text-[11px] font-mono opacity-75",children:[l.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[l.jsx(mo,{size:12})," ",Je(x.hp)," HP"]}),l.jsxs("span",{className:"text-orange-400 flex items-center gap-1",children:[l.jsx(rs,{size:12})," ",Je(x.atk)," ATK"]})]}),l.jsx("button",{onClick:se,className:`w-full md:w-1/2 text-white font-bold py-3 rounded-lg shadow-lg text-base xl:text-lg transition-transform active:scale-95 ${(d+1)%5===0?"bg-red-700 hover:bg-red-600 shadow-red-500/20":"bg-orange-600 hover:bg-orange-500 shadow-orange-500/20"}`,children:(d+1)%5===0?"Challenge Boss":"Fight"})]}),l.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-purple-900/20 border border-purple-600/40",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"text-sm font-bold text-purple-300 flex items-center gap-2",children:[l.jsx(_l,{size:14})," Spellbook"]}),(L==null?void 0:L.currentSpellId)&&l.jsxs("div",{className:"text-xs",children:["Equipped: ",l.jsx("span",{className:"font-semibold capitalize text-purple-200",children:L.currentSpellId})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[Object.entries((L==null?void 0:L.spellCharges)||{}).length===0&&l.jsx("div",{className:"col-span-full text-xs text-slate-300 opacity-70",children:"No spell charges yet. Earn them from Tower activity."}),Object.entries((L==null?void 0:L.spellCharges)||{}).map(([S,G])=>{const B=rh[S],he=(L==null?void 0:L.lastSpellDrop)&&L.lastSpellDrop.id===S&&Date.now()-L.lastSpellDrop.ts<3e3;return l.jsxs("div",{className:`relative p-2 rounded border border-purple-700/40 bg-purple-950/30 ${G>0?"shadow-md shadow-purple-800/30 ring-1 ring-purple-700/30":""} ${he?"animate-pulse":""}`,children:[he&&l.jsx("span",{className:"absolute -top-2 -right-2 bg-purple-600 text-white text-[10px] px-2 py-0.5 rounded-full shadow-md animate-in fade-in",children:"+1"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:`font-medium flex items-center gap-1 ${(B==null?void 0:B.color)||""}`,children:[l.jsx("span",{children:(B==null?void 0:B.emoji)||""}),l.jsx("span",{children:(B==null?void 0:B.name)||S})]}),l.jsxs("span",{className:"text-xs text-purple-300",children:["x",G]})]}),(B==null?void 0:B.description)&&l.jsx("div",{className:"mt-1 text-[10px] opacity-75",children:B.description}),l.jsx("button",{onClick:()=>Z(S),className:`mt-2 w-full px-2 py-1 rounded text-xs ${(L==null?void 0:L.currentSpellId)===S?"bg-purple-700":"bg-purple-600 hover:bg-purple-700"}`,children:"Equip for next battle"})]},S)})]})]})]})]})},jb=h.memo(vb),Nb=({showTutorial:r,setShowTutorial:o,unlockedAchievements:f,cardBg:d,library:m,madness:v=0})=>{const w=(m==null?void 0:m.active)==="codex_chaos";return l.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 w-full",children:[l.jsx(Vl,{title:"Achievements",text:"Track your milestones here. Secret achievements are revealed once unlocked.",icon:ti,iconColor:"text-yellow-400",showTutorial:r,setShowTutorial:o,cardBg:d}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:_d.map(C=>{const b=f.includes(C.id),x=b?l.jsx(ti,{size:20}):l.jsx(El,{size:20}),U=b?"bg-yellow-500 text-black":"bg-slate-700 text-slate-400",R=b?"border-yellow-500/50 bg-yellow-900/10":"opacity-60 grayscale";return l.jsxs("div",{className:`${d} p-4 rounded-xl border flex items-center gap-3 ${R}`,children:[l.jsx("div",{className:`p-3 rounded-full ${U}`,children:x}),l.jsxs("div",{children:[l.jsx("div",{className:`font-bold text-sm ${b?"text-yellow-500":""}`,children:b?C.name:"???"}),l.jsx("div",{className:"text-xs opacity-70 italic",children:b?C.desc:"Keep playing to unlock."})]})]},C.id)})}),w&&l.jsxs("div",{className:"mt-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-2 border-b-2 border-rose-600",children:[l.jsx(mo,{className:"text-rose-500",size:24}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("h2",{className:"text-xl font-bold text-rose-500 leading-tight",children:"Secrets of the Mad God"}),l.jsxs("span",{className:"text-xs font-semibold text-rose-300",children:["Madness Level: ",Math.floor(v)]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:zd.map(C=>{const b=f.includes(C.id),x=b?l.jsx(mo,{size:20}):l.jsx(El,{size:20}),U=b?"bg-rose-600 text-white":"bg-rose-950 text-rose-400",R=b?"border-rose-500/70 bg-rose-950/30":"opacity-60 border-rose-900/30";return l.jsxs("div",{className:`bg-slate-900/50 p-4 rounded-xl border-2 flex items-center gap-3 ${R}`,children:[l.jsx("div",{className:`p-3 rounded-full ${U}`,children:x}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:`font-bold text-sm ${b?"text-rose-400":"text-rose-600"}`,children:b?C.name:"???"}),l.jsx("div",{className:"text-xs opacity-70 italic text-rose-200",children:b?C.desc:"Embrace the madness to unlock."}),b&&l.jsx("div",{className:"text-xs font-bold text-rose-300 mt-1",children:C.bonus.display})]})]},C.id)})})]})]})},wb=h.memo(function({item:o,isPurchased:f,isClaimedFree:d,disabled:m,costDisplay:v,cardBg:w,loopHandlers:C}){return l.jsxs("button",{onClick:()=>C.handleShopPurchase(o),"aria-disabled":m,className:`${w} p-3 rounded-lg border flex flex-col items-start gap-2 hover:border-cyan-400 transition-all aria-disabled:opacity-50 aria-disabled:grayscale`,children:[l.jsxs("div",{className:"flex items-center gap-2 w-full",children:[l.jsx("div",{className:`p-2 rounded-full ${o.currency==="Gold"?"bg-amber-500/20 text-amber-400":o.type==="dlc"?"bg-amber-500/20 text-amber-500":"bg-cyan-500/20 text-cyan-500"}`,children:o.currency==="Gold"?l.jsx(oo,{size:16}):o.type==="dlc"?l.jsx(ga,{size:16}):l.jsx(xh,{size:16})}),l.jsxs("div",{className:"text-left flex-1",children:[l.jsx("div",{className:"font-bold text-sm",children:o.name}),l.jsxs("div",{className:"text-[10px] opacity-60 italic line-clamp-1",children:['"',o.desc,'"']})]})]}),l.jsx("div",{className:`w-full text-center text-xs font-bold px-2 py-1.5 rounded
                ${m?"bg-slate-700 text-slate-400":o.currency==="USD"?"bg-green-600 text-white":o.currency==="FREE"?"bg-indigo-600 text-white":o.currency==="Gold"?"bg-amber-600 text-white":"bg-slate-700 text-cyan-300"}`,children:d?"CLAIMED":f?"OWNED":v})]})}),Sb=({hasResearch:r,showTutorial:o,setShowTutorial:f,gold:d,purchasedUpgrades:m,maxOfflineHours:v,cardBg:w,loopHandlers:C,gildedTowerEnabled:b,setGildedTowerEnabled:x,golemPosition:U,setGolemPosition:R,golemPetHidden:M,setGolemPetHidden:E})=>{const[A,Q]=h.useState(!1),L=h.useMemo(()=>{const T=(navigator.language||"en-US").split("-")[1]||"US";return["US","GB","AU","CA"].includes(T)?T:"US"},[]),H={US:"$",GB:"",AU:"A$",CA:"C$"},I=Wg.active(Date.now()),se=Z=>{C.handleGoldPurchase(Z),Q(!1)};return l.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 w-full",children:[l.jsx(Vl,{title:"Merchant's Shop",text:"The Merchant's Shop offers powerful boosts and permanent upgrades. Use Gold to purchase goods and services from their traveling merchants.",icon:jh,iconColor:"text-cyan-400",showTutorial:o,setShowTutorial:f,cardBg:w}),l.jsxs("div",{className:`${w} p-3 rounded-lg flex justify-between items-center mb-3 border-amber-400/30 bg-gradient-to-r from-amber-900/20 to-yellow-900/20`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-1.5 rounded-full bg-amber-500/20",children:l.jsx(oo,{size:20,className:"text-amber-400"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] opacity-60 uppercase tracking-wide",children:"Merchant Guild Gold"}),l.jsx("div",{className:"text-xl font-bold text-amber-300",children:Je(d,"dynamic")})]})]}),l.jsxs("button",{onClick:()=>Q(!A),className:"bg-gradient-to-r from-amber-600 to-yellow-600 hover:from-amber-500 hover:to-yellow-500 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-1.5 shadow-lg transition-all active:scale-95",children:[l.jsx(bg,{size:16}),"Purchase Gold"]})]}),A&&l.jsxs("div",{className:`${w} p-4 rounded-xl mb-4 border-amber-400/50 bg-amber-900/10 animate-in fade-in slide-in-from-top-2`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[l.jsx(oo,{size:20,className:"text-amber-400"}),"Purchase Merchant Guild Gold"]}),l.jsx("button",{onClick:()=>Q(!1),className:"text-slate-400 hover:text-white transition-colors",children:l.jsx(ra,{size:24})})]}),I&&l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-3 rounded-lg mb-4 flex items-center justify-center gap-2 animate-pulse",children:[l.jsx(bd,{size:20,className:"text-white"}),l.jsx("span",{className:"font-bold text-white",children:"Weekend Special: +10% Bonus Gold on all packs!"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:Fg.map(Z=>{const T=Z.prices[L],S=H[L],G=I?Z.gold+Z.bonus+Math.floor(Z.gold*.1):Z.gold+Z.bonus,B=Math.round(Z.bonus/Z.gold*100);return l.jsxs("button",{onClick:()=>se({...Z,totalGold:G,price:T,currency:L}),className:`${w} p-4 rounded-lg border-2 ${Z.recommended?"border-amber-400 ring-2 ring-amber-400/50":"border-amber-500/30"} hover:border-amber-400 transition-all hover:scale-105 active:scale-95 relative overflow-hidden group`,children:[Z.recommended&&l.jsxs("div",{className:"absolute top-2 left-2 bg-gradient-to-r from-amber-500 to-yellow-500 text-black text-xs font-bold px-2 py-1 rounded flex items-center gap-1",children:[l.jsx(Nh,{size:12})," BEST VALUE"]}),l.jsxs("div",{className:"absolute top-2 right-2 bg-emerald-500 text-white text-xs font-bold px-2 py-1 rounded",children:["+",B,"% BONUS"]}),I&&l.jsxs("div",{className:"absolute bottom-2 left-2 bg-purple-500 text-white text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-0.5",children:[l.jsx(bd,{size:10})," +10%"]}),l.jsxs("div",{className:"flex flex-col items-center gap-2 mt-6",children:[l.jsx(oo,{size:32,className:"text-amber-400 group-hover:text-amber-300 transition-colors"}),l.jsx("div",{className:"text-2xl font-bold text-amber-300",children:Je(G,"dynamic")}),l.jsx("div",{className:"text-xs opacity-60",children:"Gold"}),l.jsx("div",{className:"text-[10px] font-bold text-emerald-400",children:Z.tier}),l.jsxs("div",{className:"mt-2 bg-green-600 text-white px-4 py-2 rounded font-bold w-full",children:[S,T.toFixed(2)]})]})]},Z.id)})}),l.jsx("div",{className:"mt-4 text-center text-xs opacity-60 italic",children:"Connects to your app store for secure payment"})]}),l.jsxs("div",{className:`${w} p-2 rounded-lg flex justify-between items-center text-[11px] mb-3 border-cyan-400/30 bg-cyan-900/10`,children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(qi,{size:14}),l.jsxs("span",{children:["Max Offline Time: ",l.jsxs("strong",{children:[v," Hours"]})]})]}),!m.includes("hourglass_dlc")&&l.jsx("div",{className:"text-cyan-500 font-bold text-[10px]",children:"Upgrade Available "})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:Ed.map(Z=>{if(Z.requiresPurchase&&!m.includes(Z.requiresPurchase))return null;const T=m.includes(Z.id)&&!Z.repeatable,S=Z.id==="starter_pack"&&m.includes("starter_pack"),G=T||S||Z.currency==="Gold"&&d<Z.cost,B=Z.currency==="USD"?`$${Z.cost}`:Z.currency==="FREE"?"FREE":Z.currency==="Gold"?`${Z.cost} Gold`:`${Z.cost}`;return l.jsx(wb,{item:Z,isPurchased:T,isClaimedFree:S,disabled:G,costDisplay:B,cardBg:w,loopHandlers:C},Z.id)}).filter(Boolean)}),m.includes("gilded_tower")&&l.jsx("div",{className:`${w} p-4 rounded-lg border border-amber-500/30 mb-4`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-amber-400",children:"Gilded Tower Cosmetics"}),l.jsx("div",{className:"text-xs opacity-60 mt-1",children:"Toggle golden effects on UI"})]}),l.jsx("button",{onClick:()=>x(!b),className:`px-4 py-2 rounded font-bold transition-colors ${b?"bg-amber-500 text-black hover:bg-amber-400":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:b?"ON":"OFF"})]})}),m.includes("golem_helper")&&l.jsxs("div",{className:`${w} p-4 rounded-lg border border-emerald-500/30 mb-4`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-emerald-400",children:"Golem Helper Position"}),l.jsx("div",{className:"text-xs opacity-60 mt-1",children:"Choose where your golem appears"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>R("left"),className:`px-3 py-2 rounded font-bold text-xs transition-colors ${U==="left"?"bg-emerald-500 text-black hover:bg-emerald-400":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Left"}),l.jsx("button",{onClick:()=>R("right"),className:`px-3 py-2 rounded font-bold text-xs transition-colors ${U==="right"?"bg-emerald-500 text-black hover:bg-emerald-400":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Right"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-amber-400 text-sm",children:"Visibility Options"}),l.jsx("div",{className:"text-xs opacity-60 mt-1",children:"Hide pet or disable all features"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>E(!M),className:`px-3 py-2 rounded font-bold text-xs transition-colors ${M?"bg-amber-500 text-black hover:bg-amber-400":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:M?"Show Pet":"Hide Pet Only"}),l.jsx("button",{onClick:()=>R("off"),className:`px-3 py-2 rounded font-bold text-xs transition-colors ${U==="off"?"bg-red-500 text-black hover:bg-red-400":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,title:"Disables auto-tap and hides all golem features",children:"Off (Disable Auto-Tap)"})]})]})]})]})},Mb=h.memo(function({tome:o,pages:f,scripts:d,mana:m,dust:v,unlocked:w,activeA:C,activeB:b,hasDualTomes:x,cardBg:U,loopHandlers:R,setReadingTome:M}){const E=w.includes(o.id),A=C===o.id,Q=b===o.id,L=!E&&f>=o.cost.pages&&d>=o.cost.scripts&&m>=o.cost.mana&&v>=o.cost.dust,H=o.icon;return l.jsx("div",{className:`${U} p-2 xl:p-3 rounded-lg border flex flex-col transition-all ${A||Q?"border-indigo-400 shadow-[0_0_15px_rgba(129,140,248,0.2)]":""}`,children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-3",children:[l.jsx("div",{className:`p-2 xl:p-3 rounded-full ${A||Q?"bg-indigo-500 text-white":"bg-slate-800 text-slate-500"}`,children:l.jsx(H,{size:24,className:"xl:w-7 xl:h-7"})}),l.jsxs("div",{className:"flex-1 text-center md:text-left",children:[l.jsx("div",{className:`font-bold text-base xl:text-lg ${o.color}`,children:o.name}),l.jsx("div",{className:"text-xs xl:text-sm opacity-60 italic mb-1",children:o.desc}),E&&x&&l.jsxs("div",{className:"text-[10px] font-bold flex gap-2 mt-1",children:[A&&l.jsx("span",{className:"px-2 py-0.5 rounded bg-indigo-700/40 border border-indigo-500/40 text-indigo-200",children:"Active A"}),Q&&l.jsx("span",{className:"px-2 py-0.5 rounded bg-purple-700/40 border border-purple-500/40 text-purple-200",children:"Active B"})]}),!E&&l.jsxs("div",{className:"text-[10px] font-mono opacity-60 grid grid-cols-2 md:grid-cols-4 gap-1",children:[l.jsxs("span",{className:f>=o.cost.pages?"text-green-400":"text-red-400",children:[o.cost.pages," Pages"]}),l.jsxs("span",{className:d>=o.cost.scripts?"text-green-400":"text-red-400",children:[o.cost.scripts," Scripts"]}),l.jsxs("span",{className:m>=o.cost.mana?"text-green-400":"text-red-400",children:[Je(o.cost.mana)," Mana"]}),l.jsxs("span",{className:v>=o.cost.dust?"text-green-400":"text-red-400",children:[Je(o.cost.dust)," Dust"]})]})]}),l.jsx("div",{className:"flex flex-col gap-1",children:E?l.jsxs(l.Fragment,{children:[x?l.jsxs("div",{className:"flex flex-col sm:flex-row gap-1",children:[l.jsx("button",{onClick:()=>R.equipTome(o.id,"A"),"aria-disabled":A,className:`px-5 py-2 rounded text-xs xl:text-sm font-bold transition-all ${A?"bg-indigo-600 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-200"}`,children:A?"ACTIVE A":"EQUIP A"}),l.jsx("button",{onClick:()=>R.equipTome(o.id,"B"),"aria-disabled":Q,className:`px-5 py-2 rounded text-xs xl:text-sm font-bold transition-all ${Q?"bg-purple-600 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-200"}`,children:Q?"ACTIVE B":"EQUIP B"})]}):l.jsx("button",{onClick:()=>R.equipTome(o.id),"aria-disabled":A,className:`px-5 py-2 rounded text-xs xl:text-sm font-bold transition-all ${A?"bg-indigo-600 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-200"}`,children:A?"ACTIVE":"EQUIP"}),l.jsx("button",{onClick:()=>M(o.id),className:"px-5 py-2 bg-amber-900/50 hover:bg-amber-800 text-amber-200 rounded text-xs xl:text-sm font-bold transition-all border border-amber-500/30",children:"READ LORE"})]}):l.jsx("button",{onClick:()=>R.craftTome(o),"aria-disabled":!L,className:`px-5 py-2 rounded text-xs xl:text-sm font-bold transition-all ${L?"bg-emerald-600 hover:bg-emerald-500 text-white":"bg-slate-800 text-slate-500"}`,children:"SYNTHESIZE"})})]})})}),Ab=({hasResearch:r,showTutorial:o,setShowTutorial:f,mana:d,dust:m,library:v,setReadingTome:w,cardBg:C,loopHandlers:b,talentBonuses:x})=>{const{pages:U,scripts:R,unlocked:M,active:E,active2:A}=v,Q=!!(x&&x.hasDualTomes);return r("library_access")?l.jsxs("div",{className:"w-full",children:[l.jsx(Vl,{title:"The Library",text:Q?"Combine lore fragments to craft powerful Codexes. With Omniscient Library, you can equip two Codices simultaneously for synergy bonuses.":"Combine lore fragments found during Exploration to craft powerful Codexes. Only one Codex can be active at a time.",icon:fo,iconColor:"text-indigo-300",showTutorial:o,setShowTutorial:f,cardBg:C}),l.jsxs("div",{className:`${C} p-4 rounded-xl mb-6 flex justify-around items-center`,children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-widest mb-1",children:"Torn Pages"}),l.jsx("div",{className:"text-xl xl:text-2xl font-mono font-bold text-white",children:U||0})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-widest mb-1",children:"Runescripts"}),l.jsx("div",{className:"text-xl xl:text-2xl font-mono font-bold text-white",children:R||0})]})]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:Ur.map(L=>l.jsx(Mb,{tome:L,pages:U,scripts:R,mana:d,dust:m,unlocked:M,activeA:E,activeB:A,hasDualTomes:Q,cardBg:C,loopHandlers:b,setReadingTome:w},L.id))})]}):l.jsx("div",{className:"w-full",children:l.jsxs("div",{className:"text-center py-12 opacity-50 border-2 border-dashed border-slate-700 rounded-xl",children:[l.jsx(El,{size:48,className:"mx-auto mb-2"}),l.jsx("p",{children:"Research 'Arcane Archives' to unlock the Library."})]})})},kh=r=>({fire:{icon:"",name:"Flame"},water:{icon:"",name:"Water"},grass:{icon:"",name:"Nature"},electric:{icon:"",name:"Lightning"},psychic:{icon:"",name:"Mystical"},dark:{icon:"",name:"Shadow"},fairy:{icon:"",name:"Magic"}})[r]||{icon:"",name:"Unknown"},kb=({showTutorial:r,setShowTutorial:o,creatures:f,items:d,stats:m,cardBg:v,inventoryRarityFilter:w,setInventoryRarityFilter:C,inventoryRealmFilter:b,setInventoryRealmFilter:x,loopHandlers:U})=>{const[R,M]=h.useState(!1),{rarityCounts:E,production:A}=m,Q=h.useMemo(()=>f.filter(H=>{var Z;const I=w==="all"||H.rarity===w,se=b==="all"||H.dimension===((Z=ot.find(T=>T.id===b))==null?void 0:Z.name);return I&&se}),[f,w,b]),L=h.useMemo(()=>d.filter(H=>{var Z;const I=w==="all"||H.rarity===w,se=b==="all"||H.dimension===((Z=ot.find(T=>T.id===b))==null?void 0:Z.name);return I&&se}),[d,w,b]);return l.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 w-full",children:[l.jsx(Vl,{title:"Inventory",text:"Manage your collected creatures and artifacts here. Each item you collect boosts your Resonance (Global Production Multiplier). Go to the Arena to use your collection in battle.",icon:po,iconColor:"text-amber-400",showTutorial:r,setShowTutorial:o,cardBg:v}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3 mb-3",children:[l.jsxs("div",{className:`lg:col-span-1 ${v} p-3 rounded-lg border border-emerald-500/20 bg-emerald-900/10 text-center`,children:[l.jsxs("div",{className:"text-[10px] uppercase tracking-widest text-emerald-400 font-bold mb-1 flex items-center justify-center gap-1",children:[l.jsx(ga,{size:12})," Resonance"]}),l.jsxs("div",{className:"text-2xl xl:text-3xl font-mono font-bold text-white",children:["x",A.discoveryMult.toFixed(2)]}),l.jsx("div",{className:"text-[9px] opacity-60 mt-1",children:"Production Multiplier"})]}),l.jsxs("div",{className:`lg:col-span-1 ${v} p-2 rounded-lg border`,children:[l.jsx("div",{className:"text-[10px] uppercase font-bold opacity-60 mb-1 text-center",children:"By Rarity"}),l.jsx("div",{className:"space-y-0.5",children:Object.entries(Qt).map(([H,I])=>l.jsxs("div",{className:"flex justify-between items-center text-xs px-2 py-0.5 rounded bg-slate-800/30",children:[l.jsx("span",{className:`font-bold ${I.color}`,children:I.name}),l.jsx("span",{className:"font-mono font-bold",children:E[H]||0})]},H))})]}),l.jsxs("div",{className:"lg:col-span-2 grid grid-cols-2 gap-2",children:[l.jsxs("div",{className:`${v} p-2 rounded-lg text-center border`,children:[l.jsx("div",{className:"text-[10px] opacity-60 uppercase font-bold",children:"Creatures"}),l.jsxs("div",{className:"font-bold text-xl xl:text-2xl",children:[Q.length," ",l.jsxs("span",{className:"text-xs opacity-40",children:["/ ",f.length]})]})]}),l.jsxs("div",{className:`${v} p-2 rounded-lg text-center border`,children:[l.jsx("div",{className:"text-[10px] opacity-60 uppercase font-bold",children:"Artifacts"}),l.jsxs("div",{className:"font-bold text-xl xl:text-2xl",children:[L.length," ",l.jsxs("span",{className:"text-xs opacity-40",children:["/ ",d.length]})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mb-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] uppercase font-bold opacity-60 ml-1",children:"Filter Rarity"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:w,onChange:H=>C(H.target.value),className:"w-full p-2 rounded border appearance-none text-xs font-bold bg-slate-800 border-slate-600",children:[l.jsx("option",{value:"all",children:"All Rarities"}),Object.entries(Qt).map(([H,I])=>l.jsx("option",{value:H,children:I.name},H))]}),l.jsx(Bp,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 opacity-50 pointer-events-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] uppercase font-bold opacity-60 ml-1",children:"Filter Realm"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:b,onChange:H=>x(H.target.value),className:"w-full p-2 rounded-lg border appearance-none text-xs font-bold bg-slate-800 border-slate-600",children:[l.jsx("option",{value:"all",children:"All Realms"}),ot.map(H=>l.jsx("option",{value:H.id,children:H.name},H.id))]}),l.jsx(Xl,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 opacity-50 pointer-events-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] uppercase font-bold opacity-60 ml-1",children:"Quick Actions"}),l.jsxs("button",{onClick:()=>M(!R),className:"w-full bg-red-600/20 hover:bg-red-600/30 border border-red-500/50 text-red-300 px-3 py-2 rounded text-xs font-bold flex items-center justify-center gap-1.5 transition-all",children:[l.jsx(Pm,{size:14}),"Mass Dismantle"]})]})]}),R&&l.jsxs("div",{className:`${v} p-3 rounded-lg border border-red-500/50 mb-3 bg-red-900/10 animate-in fade-in slide-in-from-top-2`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("h3",{className:"font-bold text-sm flex items-center gap-2",children:[l.jsx(Pm,{size:16,className:"text-red-400"}),l.jsx("span",{className:"text-red-400",children:"Mass Dismantle Options"})]}),l.jsx("button",{onClick:()=>M(!1),className:"text-slate-400 hover:text-white transition-colors",children:l.jsx(ra,{size:20})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[l.jsx("button",{onClick:()=>U.handleMassDismantle("rarity","common"),className:"bg-slate-700 hover:bg-slate-600 p-2 rounded text-xs font-bold text-slate-300 transition-all",children:"All Common"}),l.jsx("button",{onClick:()=>U.handleMassDismantle("rarity","uncommon"),className:"bg-slate-700 hover:bg-slate-600 p-2 rounded text-xs font-bold text-green-300 transition-all",children:"All Uncommon"}),l.jsx("button",{onClick:()=>U.handleMassDismantle("rarity","rare"),className:"bg-slate-700 hover:bg-slate-600 p-2 rounded text-xs font-bold text-blue-300 transition-all",children:"All Rare"}),l.jsx("button",{onClick:()=>U.handleMassDismantle("dimension",b),disabled:b==="all",className:"bg-slate-700 hover:bg-slate-600 p-2 rounded text-xs font-bold text-purple-300 transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:"Current Realm"})]}),l.jsx("div",{className:"mt-2 text-[10px] text-red-300 opacity-60 italic text-center",children:"Warning: This will permanently remove items and grant dismantle rewards"})]}),l.jsxs("div",{className:`${v} p-3 rounded-lg border border-amber-500/30 mb-3 bg-gradient-to-r from-amber-900/10 to-purple-900/10`,children:[l.jsxs("h3",{className:"font-bold text-sm flex items-center gap-2 mb-2",children:[l.jsx(ti,{size:16,className:"text-amber-400"}),l.jsx("span",{className:"text-amber-400",children:"Collection Milestones"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2",children:Ig.map(H=>{const I=E[H.rarity]||0,se=I>=H.count,Z=Math.min(100,I/H.count*100);return l.jsxs("div",{className:`${v} p-2 rounded border transition-all ${se?"border-emerald-500/50 bg-emerald-900/20":"border-slate-600/50 opacity-60"}`,children:[l.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:`font-bold text-xs ${Qt[H.rarity].color} truncate`,children:H.name}),l.jsx("div",{className:"text-[10px] opacity-60 mt-0.5",children:H.desc})]}),se&&l.jsx(vp,{size:16,className:"text-emerald-400 flex-shrink-0"})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx("div",{className:"flex-1 h-1.5 bg-slate-700 rounded overflow-hidden",children:l.jsx("div",{className:`h-full ${se?"bg-emerald-500":"bg-amber-500"} transition-all`,style:{width:`${Z}%`}})}),l.jsxs("div",{className:"text-[10px] font-mono font-bold whitespace-nowrap",children:[I,"/",H.count]})]})]},H.id)})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:[l.jsxs("div",{className:"md:col-span-1 xl:col-span-2",children:[l.jsxs("h3",{className:"font-bold text-xs text-purple-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[l.jsx("span",{children:"Captured Beasts"}),l.jsxs("span",{className:"text-[10px] opacity-60",children:["(",Q.length,")"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2 max-h-[600px] overflow-y-auto pr-1",children:[Q.length===0&&l.jsx("div",{className:"col-span-full text-center opacity-50 text-xs py-4",children:"No creatures matching filter."}),Q.slice().reverse().map(H=>{const I={fire:"text-red-400",water:"text-blue-400",grass:"text-green-400",electric:"text-yellow-400",psychic:"text-purple-400",dark:"text-slate-400",fairy:"text-pink-400"}[H.elemental]||"text-gray-400",se=kh(H.elemental),Z=H.dimension||"Unknown",T=H.bbLvl||0,S=H.bbXP||0,G=S/3*100,B=H.name&&H.name.includes("(Recruited Boss)"),he=B?H.name.replace(" (Recruited Boss)",""):H.name;return l.jsxs("div",{className:`${v} p-2 rounded border hover:border-purple-500/50 transition-colors flex gap-2 flex-col group`,children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("div",{className:"text-2xl flex-shrink-0 flex items-center justify-center",children:se.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:`font-bold text-sm ${Qt[H.rarity].color} truncate`,children:he}),l.jsxs("div",{className:"flex items-center gap-1 mt-0.5 flex-wrap",children:[l.jsx(In,{rarity:H.rarity}),B&&l.jsx("span",{className:"text-[9px] font-bold px-2 py-0.5 rounded bg-red-800/50 text-red-300 uppercase tracking-wide",children:"Recruited Boss"}),H.elementalName&&l.jsx("span",{className:`text-[9px] font-bold ${I}`,children:H.elementalName}),l.jsxs("span",{className:"text-[9px] text-slate-500 uppercase tracking-wide flex items-center gap-0.5",children:[l.jsx(yd,{size:8})," ",Z]})]})]}),l.jsxs("div",{className:"flex flex-col gap-1 items-end",children:[l.jsxs("div",{className:"text-xs font-mono text-fuchsia-400 font-bold",children:["HP+",H.power]}),l.jsx("button",{onClick:()=>U.handleDismantle("creature",H.id),className:"opacity-0 group-hover:opacity-100 bg-red-600/20 hover:bg-red-600/40 border border-red-500/50 text-red-300 p-1 rounded transition-all",title:"Dismantle for rewards",children:l.jsx(jd,{size:12})})]})]}),H.flavor&&l.jsx("div",{className:"text-[10px] italic opacity-60 px-1",children:H.flavor}),T>0&&l.jsxs("div",{className:"flex items-center gap-2 px-1 py-1 bg-purple-900/30 rounded border border-purple-500/30 text-[10px]",children:[l.jsxs("span",{className:"font-bold text-purple-300",children:["Lv",T]}),l.jsx("div",{className:"flex-1 h-1.5 bg-slate-700 rounded overflow-hidden",children:l.jsx("div",{className:"h-full bg-purple-500 transition-all",style:{width:`${G}%`}})}),l.jsxs("span",{className:"text-purple-300 font-mono",children:[S,"/3"]})]})]},H.id)})]})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsxs("h3",{className:"font-bold text-xs text-amber-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[l.jsx("span",{children:"Artifacts"}),l.jsxs("span",{className:"text-[10px] opacity-60",children:["(",L.length,")"]})]}),l.jsxs("div",{className:"space-y-2 max-h-[600px] overflow-y-auto pr-1",children:[L.length===0&&l.jsx("div",{className:"text-center opacity-50 text-xs py-4",children:"No artifacts matching filter."}),L.slice().reverse().map(H=>{const I=H.slot&&Ri[H.slot],se=H.dimension||"Unknown";return l.jsxs("div",{className:`${v} p-2 rounded border hover:border-amber-500/50 transition-colors flex gap-2 group`,children:[l.jsx("div",{className:"text-2xl flex-shrink-0 flex items-center justify-center",children:I==null?void 0:I.emoji}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:`font-bold text-sm ${Qt[H.rarity].color} truncate`,children:H.name}),l.jsxs("div",{className:"flex items-center gap-1 mt-0.5 flex-wrap",children:[l.jsx(In,{rarity:H.rarity}),I&&l.jsx("span",{className:"text-[9px] font-bold text-amber-300",children:I.name}),l.jsxs("span",{className:"text-[9px] text-slate-500 uppercase tracking-wide flex items-center gap-0.5",children:[l.jsx(yd,{size:8})," ",se]})]}),H.flavor&&l.jsx("div",{className:"text-[10px] italic opacity-60 mt-1",children:H.flavor})]}),l.jsxs("div",{className:"flex flex-col gap-1 items-end",children:[l.jsxs("div",{className:"text-xs font-mono text-cyan-400 font-bold",children:["ATK+",H.power]}),l.jsx("button",{onClick:()=>U.handleDismantle("artifact",H.id),className:"opacity-0 group-hover:opacity-100 bg-red-600/20 hover:bg-red-600/40 border border-red-500/50 text-red-300 p-1 rounded transition-all",title:"Dismantle for rewards",children:l.jsx(jd,{size:12})})]})]},H.id)})]})]})]})]})},Cb=h.memo(function({index:o,sigil:f,onPlace:d,onRemove:m,cardBg:v,hasAdjacency:w,masteryBoard:C}){const b=Math.floor(o/pa),x=o%pa,U=Md.useMemo(()=>f?[o-pa,o+pa,x>0?o-1:-1,x<pa-1?o+1:-1].filter(Q=>Q>=0&&Q<C.length&&C[Q]!==null).length:0,[f,o,C]),R=A=>{A.preventDefault(),A.currentTarget.classList.add("ring-2","ring-indigo-400")},M=A=>{A.currentTarget.classList.remove("ring-2","ring-indigo-400")},E=A=>{A.preventDefault(),A.currentTarget.classList.remove("ring-2","ring-indigo-400");const Q=A.dataTransfer.getData("sigil-type");Q&&d(o,Q)};if(f){const A=fl[f],Q=A.icon,L=U>0?`border-${A.color.split("-")[1]}-400`:"border-slate-600",H=U>0?`0 0 12px ${A.bgColor}`:"none";return l.jsxs("div",{className:`${v} rounded-lg border-2 ${L} p-2 flex flex-col items-center justify-center h-20 cursor-move relative group ${A.bgColor} transition-all`,style:{boxShadow:H},draggable:!0,onDragStart:I=>{I.dataTransfer.effectAllowed="move",I.dataTransfer.setData("sigil-index",o.toString())},title:`${A.name}${U>0?` (${U} adjacent)`:""}`,children:[l.jsx(Q,{size:24,className:A.color}),l.jsx("div",{className:"text-[9px] sm:text-[10px] md:text-xs font-bold text-center mt-0.5 opacity-80",children:A.name}),U>0&&l.jsxs("div",{className:"text-[8px] sm:text-[9px] font-bold text-center opacity-70",children:["+",U]}),l.jsx("button",{onClick:()=>m(o),className:"absolute top-0 right-0 opacity-0 group-hover:opacity-100 transition-opacity bg-red-600 rounded-full p-0.5 text-white",title:"Remove sigil",children:l.jsx(ra,{size:12})})]})}return l.jsx("div",{onDragOver:R,onDragLeave:M,onDrop:E,className:`${v} rounded-lg border-2 border-dashed border-slate-600 p-2 flex items-center justify-center h-20 bg-slate-800/30`,children:l.jsxs("div",{className:"text-[10px] opacity-50 text-center",children:["Slot ",b,",",x]})})}),Tb=h.memo(function({masteryPoints:o,masteryBonuses:f,activeSigils:d}){const m=fl.catalyst,v=fl.resonator,w=fl.amplifier,C=fl.chronometer,b=fl.vault;return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-sm opacity-80 mb-2",children:"Available Sigils"}),l.jsx("div",{className:"grid grid-cols-5 gap-2",children:Object.entries(fl).map(([x,U])=>{const R=U.icon,M=o>=U.cost;return l.jsxs("button",{draggable:!0,onDragStart:E=>{E.dataTransfer.effectAllowed="copy",E.dataTransfer.setData("sigil-type",x)},disabled:!M,className:`p-3 rounded-lg border-2 transition-all flex flex-col items-center justify-center gap-1 ${M?`${U.bgColor} border-slate-600 hover:border-indigo-500 cursor-grab`:"bg-slate-900/30 border-slate-700 opacity-50 cursor-not-allowed"}`,title:`${U.name} - ${U.cost} MP - ${U.desc}`,children:[l.jsx(R,{size:20,className:U.color}),l.jsxs("div",{className:"text-[9px] sm:text-[10px] md:text-xs font-bold",children:[U.cost," MP"]})]},x)})})]}),f&&d>0&&l.jsxs("div",{className:"border-t border-slate-600 pt-3",children:[l.jsx("h4",{className:"font-bold text-xs opacity-70 mb-2 text-emerald-300",children:"Active Bonuses"}),l.jsxs("div",{className:"space-y-1.5 text-[10px]",children:[l.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-2 rounded border border-slate-700",children:[l.jsxs("span",{className:"opacity-70 flex items-center gap-1.5",children:[l.jsx(m.icon,{size:12,className:m.color})," Production:"]}),l.jsx("span",{className:"font-bold text-red-400",children:isNaN(f.productionMult)?"1.0x":`${f.productionMult.toFixed(2)}x`})]}),l.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-2 rounded border border-slate-700",children:[l.jsxs("span",{className:"opacity-70 flex items-center gap-1.5",children:[l.jsx(v.icon,{size:12,className:v.color})," Exploration Rarity:"]}),l.jsx("span",{className:"font-bold text-blue-400",children:isNaN(f.exploreRarityBonus)?"+0%":`+${(f.exploreRarityBonus*100).toFixed(0)}%`})]}),l.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-2 rounded border border-slate-700",children:[l.jsxs("span",{className:"opacity-70 flex items-center gap-1.5",children:[l.jsx(w.icon,{size:12,className:w.color})," Prestige:"]}),l.jsx("span",{className:"font-bold text-amber-400",children:isNaN(f.amplifierPrestigeBonus)?"+0%":`+${(f.amplifierPrestigeBonus*100).toFixed(0)}%`})]}),l.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-2 rounded border border-slate-700",children:[l.jsxs("span",{className:"opacity-70 flex items-center gap-1.5",children:[l.jsx(C.icon,{size:12,className:C.color})," Tick Reduction:"]}),l.jsx("span",{className:"font-bold text-purple-400",children:isNaN(f.tickReduction)?"0ms":`-${f.tickReduction.toFixed(0)}ms`})]}),l.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-2 rounded border border-slate-700",children:[l.jsxs("span",{className:"opacity-70 flex items-center gap-1.5",children:[l.jsx(b.icon,{size:12,className:b.color})," Arena ATK/HP:"]}),l.jsx("span",{className:"font-bold text-cyan-400",children:isNaN(f.arenaAtkBonus)&&isNaN(f.arenaHPBonus)?"+0%":`+${(((f.arenaAtkBonus||0)+(f.arenaHPBonus||0))/2*100).toFixed(0)}%`})]})]})]})]})}),Eb=({masteryPoints:r,masteryBoard:o,cardBg:f,loopHandlers:d,masteryBonuses:m,formatNumber:v,showTutorial:w,setShowTutorial:C})=>{const b=(M,E)=>{d.placeMasterySigil(M,E)},x=M=>{d.removeMasterySigil(M)},U=o.filter(M=>M!==null).length;return(()=>{let M=0;return o.forEach((E,A)=>{if(!E)return;const Q=A%pa,L=[A-pa,A+pa,Q>0?A-1:-1,Q<pa-1?A+1:-1];M+=L.filter(H=>H>=0&&H<o.length&&o[H]!==null).length}),M})(),l.jsxs("div",{className:"w-full space-y-4",children:[l.jsx(Vl,{title:"Mastery Board",text:"Earn Mastery Points from Teleporting. Place Sigils on the board to unlock powerful global bonuses. Adjacent Sigils synergize for stronger effects.",icon:zs,iconColor:"text-indigo-400",showTutorial:w,setShowTutorial:C,cardBg:f}),l.jsxs("div",{className:`${f} p-4 rounded-xl border`,children:[l.jsxs("div",{className:"text-lg font-bold font-mono text-indigo-400",children:[r," / 25 Mastery Points"]}),l.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all",style:{width:`${r/25*100}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:`lg:col-span-2 ${f} p-4 rounded-xl border`,children:[l.jsx("h3",{className:"font-bold text-sm mb-3 opacity-80",children:"Sigil Placement Grid"}),l.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${pa}, 1fr)`},children:o.map((M,E)=>l.jsx(Cb,{index:E,sigil:M,onPlace:b,onRemove:x,cardBg:f,masteryBoard:o},E))})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:`${f} p-4 rounded-xl border`,children:l.jsx(Tb,{masteryPoints:r,masteryBonuses:m,activeSigils:U})}),l.jsxs("div",{className:`${f} p-4 rounded-xl border text-[11px] space-y-2`,children:[l.jsxs("h4",{className:"font-bold flex items-center gap-2 mb-2",children:[l.jsx(mh,{size:14}),"Tips"]}),l.jsx("p",{children:" Drag sigils onto the grid to place them."}),l.jsx("p",{children:" Adjacent sigils boost each other's effects."}),l.jsx("p",{children:" Remove sigils with the X button to reallocate points."}),l.jsx("p",{children:" Colored borders show sigils with adjacency bonuses."})]})]})]}),l.jsxs("div",{className:`${f} p-4 rounded-xl border`,children:[l.jsx("h3",{className:"font-bold mb-3",children:"Sigil Reference"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-3 text-xs",children:Object.entries(fl).map(([M,E])=>{const A=E.icon;return l.jsxs("div",{className:`${E.bgColor} p-3 rounded-lg border border-slate-600`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(A,{size:14,className:E.color}),l.jsx("span",{className:"font-bold",children:E.name})]}),l.jsx("p",{className:"opacity-70 mb-2",children:E.desc}),l.jsxs("div",{className:"text-[9px] font-bold opacity-80",children:["Cost: ",E.cost," MP"]})]},M)})})]})]})},_b={[kt.CHANNELING]:{name:"Arcane Channeling",icon:_l,color:"indigo",desc:"Master the flow of Mana and Dust. Enhance production and resource efficiency."},[kt.BATTLE]:{name:"Battle Mastery",icon:rs,color:"red",desc:"Become a warrior of legend. Dominate the Arena and conquer dimensions."},[kt.SCHOLAR]:{name:"Scholar's Path",icon:Ad,color:"amber",desc:"Pursue forbidden knowledge. Unlock secrets and transcend mortal limits."}},zb=({talent:r,purchased:o,canAfford:f,canPurchase:d,onPurchase:m,pathColor:v})=>{const C={indigo:{available:"border-indigo-500 bg-indigo-500/10 hover:bg-indigo-500/20",purchased:"border-indigo-400 bg-indigo-500/30",locked:"border-slate-700 bg-slate-800/50",glow:"shadow-[0_0_12px_rgba(99,102,241,0.5)]",check:"text-indigo-400"},red:{available:"border-red-500 bg-red-500/10 hover:bg-red-500/20",purchased:"border-red-400 bg-red-500/30",locked:"border-slate-700 bg-slate-800/50",glow:"shadow-[0_0_12px_rgba(239,68,68,0.5)]",check:"text-red-400"},amber:{available:"border-amber-500 bg-amber-500/10 hover:bg-amber-500/20",purchased:"border-amber-400 bg-amber-500/30",locked:"border-slate-700 bg-slate-800/50",glow:"shadow-[0_0_12px_rgba(251,191,36,0.5)]",check:"text-amber-400"}}[v],b=o?C.purchased:d&&f?C.available:C.locked,x=d&&f&&!o?C.glow:"";return l.jsxs("div",{className:"relative group",children:[l.jsxs("button",{onClick:()=>d&&f&&!o&&m(),disabled:!d||!f||o,className:`w-full p-3 xl:p-4 rounded-lg border-2 transition-all ${b} ${x} relative ${d&&f&&!o?"cursor-pointer":"cursor-not-allowed"}`,children:[r.major&&l.jsx(Nh,{size:16,className:"absolute top-2 right-2 text-yellow-400 fill-yellow-400"}),r.capstone&&l.jsx(ga,{size:18,className:"absolute top-2 right-2 text-purple-400 fill-purple-400"}),o&&l.jsx(gd,{size:20,className:`absolute top-2 left-2 ${C.check}`}),!d&&!o&&l.jsx(El,{size:16,className:"absolute top-2 left-2 text-slate-500"}),l.jsx("div",{className:"text-sm xl:text-base font-bold mb-1 truncate pr-6",children:r.name}),l.jsx("div",{className:"text-[10px] xl:text-xs opacity-70 line-clamp-2 mb-2",children:r.desc}),l.jsxs("div",{className:"flex items-center justify-between text-[10px] xl:text-xs",children:[l.jsxs("span",{className:`flex items-center gap-1 ${f||o?"text-cyan-400":"text-red-400"}`,children:[l.jsx(ga,{size:12}),r.cost]}),l.jsxs("span",{className:"opacity-60",children:["Tier ",r.tier]})]})]}),r.lore&&l.jsxs("div",{className:"absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 w-64 p-3 bg-slate-900 border border-slate-700 rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity z-50 text-xs italic text-amber-300",children:['"',r.lore,'"']})]})},Db=({path:r,pathConfig:o,purchasedTalents:f,arcaneGems:d,onPurchase:m,cardBg:v})=>{const w=ob(r),C=[...new Set(w.map(M=>M.tier))].sort(),b=o.icon,x=o.color,R={indigo:{headerBg:"bg-indigo-500/20",headerBorder:"border-indigo-500/50",headerText:"text-indigo-400"},red:{headerBg:"bg-red-500/20",headerBorder:"border-red-500/50",headerText:"text-red-400"},amber:{headerBg:"bg-amber-500/20",headerBorder:"border-amber-500/50",headerText:"text-amber-400"}}[x];return l.jsxs("div",{className:`${v} p-4 xl:p-5 rounded-xl border`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-slate-700",children:[l.jsx("div",{className:`p-2 rounded-lg ${R.headerBg} border ${R.headerBorder}`,children:l.jsx(b,{size:24,className:R.headerText})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:`text-base xl:text-lg font-bold ${R.headerText}`,children:o.name}),l.jsx("p",{className:"text-[10px] xl:text-xs opacity-70",children:o.desc})]})]}),l.jsx("div",{className:"space-y-3",children:C.map(M=>{const E=w.filter(A=>A.tier===M);return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"text-[10px] uppercase tracking-wider opacity-50 font-bold",children:["Tier ",M]}),l.jsx("div",{className:`grid ${E.length>1?"grid-cols-2":"grid-cols-1"} gap-2`,children:E.map(A=>l.jsx(zb,{talent:A,purchased:f[A.id]||!1,canAfford:d>=A.cost,canPurchase:Ah(A.id,f),onPurchase:()=>m(A.id),pathColor:x},A.id))})]},M)})})]})},Rb=({showTutorial:r,setShowTutorial:o,arcaneGems:f,purchasedTalents:d,dust:m,timesRespecced:v,cardBg:w,loopHandlers:C})=>{const[b,x]=h.useState(!1),U=Q=>{C.purchaseTalent&&C.purchaseTalent(Q)},R=()=>{C.respecTalents&&C.respecTalents(),x(!1)},M=1e4*Math.pow(2,v||0),E=m>=M,A=Object.values(d).filter(Boolean).length;return l.jsxs("div",{className:"w-full",children:[l.jsx(Vl,{title:"Talent Tree",text:"Spend Arcane Crystals to unlock powerful permanent talents. Choose between three paths: Arcane Channeling (production), Battle Mastery (combat), or Scholar's Path (knowledge). Major talents unlock unique mechanics. Capstones provide game-changing upgrades. Talents persist across all rebirths.",icon:ga,iconColor:"text-cyan-400",showTutorial:r,setShowTutorial:o,cardBg:w}),l.jsxs("div",{className:`${w} p-4 rounded-xl border mb-4 flex flex-wrap items-center justify-between gap-3`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ga,{size:20,className:"text-cyan-400"}),l.jsx("span",{className:"text-xl xl:text-2xl font-bold text-cyan-400",children:f}),l.jsx("span",{className:"text-sm opacity-60",children:"Arcane Crystals"})]}),l.jsx("div",{className:"h-6 w-px bg-slate-700"}),l.jsxs("div",{className:"text-sm opacity-70",children:[A," Talent",A!==1?"s":""," Purchased"]})]}),A>0&&l.jsxs("button",{onClick:()=>x(!0),disabled:!E,className:`px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 transition-colors ${E?"bg-orange-600/20 border border-orange-500 text-orange-400 hover:bg-orange-600/30":"bg-slate-800/50 border border-slate-700 text-slate-600 cursor-not-allowed"}`,children:[l.jsx(Wm,{size:16}),"Respec (",M.toLocaleString()," Dust)"]})]}),l.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4",children:Object.entries(_b).map(([Q,L])=>l.jsx(Db,{path:Q,pathConfig:L,purchasedTalents:d,arcaneGems:f,onPurchase:U,cardBg:w},Q))}),b&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:`${w} p-6 rounded-xl border max-w-md w-full`,children:[l.jsxs("h3",{className:"text-xl font-bold mb-3 text-orange-400 flex items-center gap-2",children:[l.jsx(Wm,{size:24}),"Respec Talents"]}),l.jsxs("p",{className:"text-sm opacity-80 mb-4",children:["This will refund all ",A," purchased talent",A!==1?"s":""," and return ",Object.entries(d).reduce((Q,[L,H])=>H?Q+Hi[L].cost:Q,0)," Arcane Crystals."]}),l.jsxs("p",{className:"text-sm text-orange-400 mb-6",children:["Cost: ",M.toLocaleString()," Dust"]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:R,className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg font-bold transition-colors",children:"Confirm Respec"}),l.jsx("button",{onClick:()=>x(!1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg font-bold transition-colors",children:"Cancel"})]})]})})]})},Bb=({perk:r,currentLevel:o,essence:f,onPurchase:d,cardBg:m})=>{const v=r.icon,w=Math.ceil(r.cost*Math.pow(r.costScale,o)),C=f>=w,b=o>=r.maxLevel;return l.jsxs("div",{onClick:()=>!b&&C&&d(r.id),className:`${m} p-4 rounded-xl border transition-all relative overflow-hidden ${b?"border-emerald-500/30 bg-emerald-900/10":C?"border-indigo-500/50 hover:border-indigo-400 hover:shadow-lg cursor-pointer":"border-slate-700 opacity-60"}`,children:[l.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[l.jsx("div",{className:`p-2 rounded-full ${b?"bg-emerald-500/20":"bg-slate-800/50"}`,children:b?l.jsx(Hr,{size:24,className:"text-emerald-400"}):l.jsx(v,{size:24,className:r.color})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-bold text-sm mb-1",children:r.name}),l.jsxs("div",{className:"text-xs opacity-60 italic mb-2",children:['"',r.desc,'"']}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"text-xs bg-slate-900/50 px-2 py-1 rounded font-mono",children:["Level ",o," / ",r.maxLevel]}),!b&&l.jsxs("div",{className:`text-sm font-bold font-mono ${C?"text-amber-400":"text-red-400"}`,children:[Je(w)," ",l.jsx("span",{className:"text-xs",children:"Essence"})]}),b&&l.jsx("div",{className:"text-xs font-bold text-emerald-400",children:"MAXED"})]})]})]}),!b&&l.jsx("div",{className:"h-1 bg-slate-800 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all",style:{width:`${o/r.maxLevel*100}%`}})})]})},Ob=({essence:r,ascensionLevel:o,ascensionPerks:f,prestigeCount:d,totalMana:m,arenaLevel:v,unlockedDimensions:w,masteryPoints:C,setShowAscensionModal:b,loopHandlers:x,showTutorial:U,setShowTutorial:R,cardBg:M,formatNumber:E})=>{const[A,Q]=h.useState("all"),[L,H]=h.useState(!1),I=h.useMemo(()=>d>=10,[d]),se=h.useMemo(()=>{const G=Math.floor(Math.pow(m/1e11,.4)),B=Math.floor(v/10),he=Math.floor(C/25),Be=w.length;return Math.max(1,G+B+he+Be)},[m,v,C,w]),Z=h.useMemo(()=>Object.values(Bi).filter(G=>A==="all"||G.category===A),[A]),T=Object.values(f).reduce((G,B)=>G+B,0),S=Object.values(Bi).reduce((G,B)=>G+B.maxLevel,0);return l.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 w-full",children:[l.jsx(Vl,{title:"Ascension",text:"The ultimate form of progression. Ascend to gain Essence and unlock powerful permanent upgrades that persist through all Teleports. Requires mastery of all game systems.",icon:Ma,iconColor:"text-amber-400",showTutorial:U,setShowTutorial:R,cardBg:M}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[l.jsxs("div",{className:`${M} p-3 sm:p-4 rounded-xl border border-amber-500/30 bg-amber-900/10 text-center`,children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1 sm:mb-2",children:[l.jsx(Ma,{size:16,className:"sm:w-5 sm:h-5 text-amber-400"}),l.jsx("div",{className:"text-[10px] sm:text-xs uppercase tracking-widest font-bold text-amber-400",children:"Ascension Level"})]}),l.jsx("div",{className:"text-2xl sm:text-3xl font-bold font-mono",children:o})]}),l.jsxs("div",{className:`${M} p-3 sm:p-4 rounded-xl border border-purple-500/30 bg-purple-900/10 text-center`,children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1 sm:mb-2",children:[l.jsx(Oi,{size:16,className:"sm:w-5 sm:h-5 text-purple-400"}),l.jsx("div",{className:"text-[10px] sm:text-xs uppercase tracking-widest font-bold text-purple-400",children:"Available Essence"})]}),l.jsx("div",{className:"text-2xl sm:text-3xl font-bold font-mono text-purple-300",children:E(r)})]}),l.jsxs("div",{className:`${M} p-3 sm:p-4 rounded-xl border text-center`,children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1 sm:mb-2",children:[l.jsx(ga,{size:16,className:"sm:w-5 sm:h-5 text-emerald-400"}),l.jsx("div",{className:"text-[10px] sm:text-xs uppercase tracking-widest font-bold opacity-60",children:"Perks Unlocked"})]}),l.jsxs("div",{className:"text-2xl sm:text-3xl font-bold font-mono",children:[T," ",l.jsxs("span",{className:"text-base sm:text-lg opacity-50",children:["/ ",S]})]})]})]}),l.jsxs("div",{className:`${M} p-4 sm:p-6 rounded-xl border mb-4 ${I?"border-amber-500/50 bg-amber-900/10":"border-slate-700"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 gap-2",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-lg sm:text-xl font-bold mb-1 flex items-center gap-2",children:[l.jsx(Ma,{className:"text-amber-400 w-5 h-5 sm:w-6 sm:h-6"}),"Ascend to Eternity"]}),l.jsx("div",{className:"text-xs sm:text-sm opacity-60",children:"Reset everything except Mastery, Ascension Perks, and Achievements"})]}),l.jsx("button",{onClick:()=>H(!L),className:"p-1.5 sm:p-2 rounded-lg bg-slate-800/50 hover:bg-slate-700 transition-colors flex-shrink-0",children:L?l.jsx(ra,{size:16,className:"sm:w-5 sm:h-5"}):l.jsx(yo,{size:16,className:"sm:w-5 sm:h-5"})})]}),L&&l.jsxs("div",{className:"mb-4 p-3 bg-slate-900/50 rounded-lg text-sm space-y-2",children:[l.jsx("div",{className:"font-bold text-amber-400",children:"Requirements:"}),l.jsxs("div",{className:d>=10?"text-emerald-400":"text-red-400",children:[d>=10?"":""," ",d," / 10 Prestiges"]}),l.jsxs("div",{className:m>=1e12?"text-emerald-400":"text-red-400",children:[m>=1e12?"":""," ",E(m)," / ",E(1e12)," Lifetime Mana"]}),l.jsxs("div",{className:v>=30?"text-emerald-400":"text-red-400",children:[v>=30?"":""," Arena Wave ",v," / 30"]}),l.jsxs("div",{className:w.includes("astral")?"text-emerald-400":"text-red-400",children:[w.includes("astral")?"":""," Unlock Astral Sea dimension"]}),l.jsxs("div",{className:C>=50?"text-emerald-400":"text-red-400",children:[C>=50?"":""," ",C," / 50 Total Mastery Points earned"]})]}),l.jsx("button",{onClick:()=>I&&b(!0),disabled:!I,className:`w-full p-3 sm:p-4 rounded-xl font-bold text-sm sm:text-lg flex items-center justify-center gap-2 sm:gap-3 transition-all ${I?"bg-gradient-to-r from-amber-600 to-purple-600 hover:from-amber-500 hover:to-purple-500 shadow-[0_0_20px_rgba(251,191,36,0.3)] cursor-pointer":"bg-slate-800 text-slate-600 cursor-not-allowed"}`,children:I?l.jsxs(l.Fragment,{children:[l.jsx(Oi,{size:18,className:"sm:w-6 sm:h-6"}),l.jsxs("span",{className:"hidden sm:inline",children:["Ascend (+",E(se)," Essence)"]}),l.jsx("span",{className:"sm:hidden",children:"Ascend"})]}):l.jsxs(l.Fragment,{children:[l.jsx(El,{size:18,className:"sm:w-6 sm:h-6"}),l.jsx("span",{className:"hidden sm:inline",children:"Requirements Not Met"}),l.jsx("span",{className:"sm:hidden",children:"Locked"})]})})]}),l.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:[l.jsx("button",{onClick:()=>Q("all"),className:`px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap transition-all ${A==="all"?"bg-indigo-600 text-white":"bg-slate-800 hover:bg-slate-700"}`,children:"All Perks"}),Object.entries(db).map(([G,B])=>{const he=B.icon;return l.jsxs("button",{onClick:()=>Q(G),className:`px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap transition-all flex items-center gap-2 ${A===G?"bg-indigo-600 text-white":"bg-slate-800 hover:bg-slate-700"}`,children:[l.jsx(he,{size:16}),B.name]},G)})]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:Z.map(G=>l.jsx(Bb,{perk:G,currentLevel:f[G.id]||0,essence:r,onPurchase:x.purchaseAscensionPerk,cardBg:M},G.id))}),Z.length===0&&l.jsxs("div",{className:"text-center py-12 opacity-50",children:[l.jsx(ga,{size:48,className:"mx-auto mb-2"}),l.jsx("p",{children:"No perks in this category yet."})]})]})},Ub=({readingTome:r,setReadingTome:o,isLight:f})=>{if(!r)return null;const d=Ur.find(v=>v.id===r);if(!d)return o(null),null;const m=d.icon;return l.jsx("div",{className:"fixed inset-0 z-[110] bg-black/90 flex items-center justify-center p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:`${f?"bg-white":"bg-slate-900"} border border-indigo-500/30 p-8 rounded-2xl max-w-lg w-full relative shadow-2xl`,children:[l.jsx("button",{onClick:()=>o(null),className:"absolute top-4 right-4 text-slate-500 hover:text-red-500 transition-colors",children:l.jsx(ra,{size:24})}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4 ${f?"bg-indigo-50":"bg-slate-800"} ${d.color}`,children:l.jsx(m,{size:32})}),l.jsx("h3",{className:`font-bold text-2xl mb-1 ${d.color}`,children:d.name}),l.jsx("div",{className:"text-sm opacity-60 mb-6 uppercase tracking-widest",children:"Ancient Text Deciphered"}),l.jsxs("div",{className:`p-6 rounded-xl text-left border ${f?"bg-slate-50 border-slate-200":"bg-black/30 border-slate-800"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3 opacity-50 text-xs uppercase font-bold",children:[l.jsx(vo,{size:14})," Translation"]}),l.jsxs("p",{className:"text-lg italic font-serif leading-relaxed opacity-90",children:['"',d.lore,'"']})]}),l.jsx("button",{onClick:()=>o(null),className:"mt-6 text-sm font-bold opacity-50 hover:opacity-100 transition-opacity",children:"CLOSE TOME"})]})]})})},Hb=({showSettingsModal:r,setShowSettingsModal:o,isLight:f,themeMode:d,setThemeMode:m,audioEnabled:v,setAudioEnabled:w,showTutorial:C,setShowTutorial:b,hideNavLabels:x,setHideNavLabels:U,headerFixed:R,setHeaderFixed:M,headerCompact:E,setHeaderCompact:A,uiScale:Q,setUiScale:L,numberFormat:H,setNumberFormat:I,dynamicBackground:se,setDynamicBackground:Z,batterySaver:T,setBatterySaver:S,antiFlicker:G,setAntiFlicker:B,addLog:he,saveGame:Be,handleUnlimitedResources:Pe,handleUnlockAllLabsAndTomes:De,handlePrestigeDev:Qe,handleAscend:Ye,maxOfflineHours:ce,production:D,clicks:ee,playTime:me,cardBg:Ne,logs:Ce,prestigeCount:g,totalMana:Y,mana:te,dust:ue,getSaveString:be,loadFromString:_e})=>{const[Oe,Ot]=h.useState(!1),[He,Ut]=h.useState(!1),[Wt,Oa]=h.useState(""),[Ua,ba]=h.useState(""),[Ha,qa]=h.useState(""),tl=()=>{be&&Oa(be())},Fe=()=>{if(_e&&Ua.trim()){const We=_e(Ua.trim());qa(We?"Backup loaded! Reloading...":"Invalid or corrupted code."),We&&setTimeout(()=>{window.location.reload()},1200)}};if(!r)return null;const _a=()=>{Be(),he("Game Saved Manually."),Ut(!0),setTimeout(()=>Ut(!1),2e3)},Aa=[{value:"dynamic",label:"Default"},{value:"stable",label:"Full Numbers"},{value:"scientific",label:"Scientific"},{value:"logarithmic",label:"Logarithmic"}];return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-start lg:items-center justify-center p-4 pt-0 lg:pt-4 overflow-y-auto",children:l.jsxs("div",{className:`${f?"bg-white":"bg-slate-900"} max-w-5xl w-full lg:h-[85vh] h-auto min-h-screen lg:min-h-0 rounded-none lg:rounded-2xl flex flex-col overflow-hidden border-0 lg:border ${f?"border-slate-300":"border-slate-700"} my-0 lg:my-4`,children:[l.jsxs("div",{className:`p-4 border-b flex justify-between items-center ${f?"bg-slate-100 border-slate-300 text-slate-900":"bg-slate-800 border-slate-700 text-white"}`,children:[l.jsxs("h3",{className:"font-bold flex items-center gap-2 text-lg",children:[l.jsx(vh,{size:24})," System Settings"]}),l.jsx("button",{onClick:()=>o(!1),children:l.jsx(ra,{size:24})})]}),l.jsx("div",{className:`flex-1 overflow-y-auto p-6 space-y-6 ${f?"bg-slate-50":"bg-slate-900/50"}`,children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:`${Ne} p-4 rounded-xl border md:col-span-2`,children:[l.jsxs("h3",{className:"font-bold mb-3 text-emerald-400 flex items-center gap-2",children:[l.jsx(ml,{size:16})," Backup & Restore"]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("button",{onClick:tl,className:"py-2 px-4 rounded bg-indigo-600 hover:bg-indigo-500 text-white font-bold text-xs flex items-center gap-2",children:[l.jsx(ml,{size:16})," Export Backup Code"]}),Wt&&l.jsxs("div",{className:"mt-2",children:[l.jsx("label",{className:"text-xs font-bold opacity-70 mb-1 block",children:"Your Backup Code (copy & save somewhere safe):"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("textarea",{className:"w-full p-2 rounded bg-slate-800 text-xs text-white font-mono border border-slate-700",rows:3,value:Wt,readOnly:!0,onFocus:We=>We.target.select()}),l.jsx("button",{className:"py-2 px-3 rounded bg-indigo-500 hover:bg-indigo-600 text-white text-xs font-bold",title:"Copy backup code",onClick:()=>{navigator.clipboard.writeText(Wt),qa("Backup code copied!"),setTimeout(()=>qa(""),1200)},children:"Copy"})]}),Ha==="Backup code copied!"&&l.jsx("div",{className:"mt-1 text-xs font-bold text-indigo-400",children:"Backup code copied!"})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"text-xs font-bold opacity-70 mb-1 block",children:"Restore from Backup Code:"}),l.jsx("textarea",{className:"w-full p-2 rounded bg-slate-800 text-xs text-white font-mono border border-slate-700",rows:3,placeholder:"Paste your backup code here...",value:Ua,onChange:We=>ba(We.target.value)}),l.jsxs("button",{onClick:Fe,className:"mt-2 py-2 px-4 rounded bg-emerald-600 hover:bg-emerald-500 text-white font-bold text-xs flex items-center gap-2",children:[l.jsx(ml,{size:16})," Import Backup Code"]}),Ha&&l.jsx("div",{className:"mt-1 text-xs font-bold text-emerald-400",children:Ha})]})]})]}),l.jsxs("div",{className:`${Ne} p-4 rounded-xl border`,children:[l.jsxs("h3",{className:"font-bold mb-3 text-indigo-400 flex items-center gap-2",children:[l.jsx(Fm,{size:16})," UI Settings"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold opacity-70 mb-1 block",children:"UI Scale"}),l.jsxs("div",{className:"grid grid-cols-3 gap-1.5",children:[l.jsx("button",{onClick:()=>L(.35),className:`py-1.5 rounded text-[11px] font-bold ${Q===.35?"bg-indigo-600 text-white":"bg-slate-500/10 hover:bg-slate-500/20"}`,children:"x0.35"}),l.jsx("button",{onClick:()=>L(.5),className:`py-1.5 rounded text-[11px] font-bold ${Q===.5?"bg-indigo-600 text-white":"bg-slate-500/10 hover:bg-slate-500/20"}`,children:"x0.5"}),l.jsx("button",{onClick:()=>L(.75),className:`py-1.5 rounded text-[11px] font-bold ${Q===.75?"bg-indigo-600 text-white":"bg-slate-500/10 hover:bg-slate-500/20"}`,children:"x0.75"}),l.jsx("button",{onClick:()=>L(1),className:`py-1.5 rounded text-[11px] font-bold ${Q===1?"bg-indigo-600 text-white":"bg-slate-500/10 hover:bg-slate-500/20"}`,children:"x1"}),l.jsx("button",{onClick:()=>L(1.5),className:`py-1.5 rounded text-[11px] font-bold ${Q===1.5?"bg-indigo-600 text-white":"bg-slate-500/10 hover:bg-slate-500/20"}`,children:"x1.5"}),l.jsx("button",{onClick:()=>L(2),className:`py-1.5 rounded text-[11px] font-bold ${Q===2?"bg-indigo-600 text-white":"bg-slate-500/10 hover:bg-slate-500/20"}`,children:"x2"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold opacity-70 mb-1 block",children:"Number Format"}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{value:H,onChange:We=>I(We.target.value),className:`w-full py-2 px-3 rounded appearance-none cursor-pointer ${f?"bg-white border-slate-300":"bg-slate-800 border-slate-600"} border focus:outline-none focus:ring-2 focus:ring-indigo-500`,children:Aa.map(We=>l.jsx("option",{value:We.value,children:We.label},We.value))}),l.jsx(pp,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none opacity-50"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("button",{onClick:()=>U(!x),className:`py-2 px-2 rounded bg-slate-500/10 flex items-center justify-center gap-1 hover:bg-slate-500/20 ${x?"text-indigo-400":"text-slate-500"}`,children:[x?l.jsx(Zm,{size:16}):l.jsx(Km,{size:16}),l.jsx("span",{className:"text-xs font-bold",children:"Nav Labels"})]}),l.jsxs("button",{onClick:()=>M(!R),className:`py-2 px-2 rounded bg-slate-500/10 flex items-center justify-center gap-1 hover:bg-slate-500/20 ${R?"text-indigo-400":"text-slate-500"}`,children:[R?l.jsx(El,{size:16}):l.jsx(gh,{size:16}),l.jsx("span",{className:"text-xs font-bold",children:"Fix Header"})]}),l.jsxs("button",{onClick:()=>A(!E),className:`py-2 px-2 rounded bg-slate-500/10 flex items-center justify-center gap-1 hover:bg-slate-500/20 ${E?"text-amber-400":"text-slate-500"}`,children:[E?l.jsx(ig,{size:16}):l.jsx(ag,{size:16}),l.jsx("span",{className:"text-xs font-bold",children:"Compact"})]}),l.jsxs("button",{onClick:()=>b(!C),className:`py-2 px-2 rounded bg-slate-500/10 flex items-center justify-center gap-1 hover:bg-slate-500/20 ${C?"text-indigo-400":"text-slate-500"}`,children:[C?l.jsx(Km,{size:16}):l.jsx(Zm,{size:16}),l.jsx("span",{className:"text-xs font-bold",children:"Tutorials"})]})]})]})]}),l.jsxs("div",{className:`${Ne} p-4 rounded-xl border`,children:[l.jsxs("h3",{className:"font-bold mb-3 text-fuchsia-400 flex items-center gap-2",children:[l.jsx(ga,{size:16})," General Settings"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("button",{onClick:()=>m(d==="light"?"dark":"light"),className:"py-3 rounded bg-slate-500/10 flex flex-col items-center justify-center gap-1 hover:bg-slate-500/20",children:[d==="light"?l.jsx(cg,{size:20}):l.jsx(Tg,{size:20}),l.jsx("span",{className:"text-[10px] uppercase font-bold",children:"Theme"})]}),l.jsxs("button",{onClick:()=>w(!v),className:"py-3 rounded bg-slate-500/10 flex flex-col items-center justify-center gap-1 hover:bg-slate-500/20",children:[v?l.jsx(Gg,{size:20,className:"text-indigo-400"}):l.jsx(Yg,{size:20,className:"text-slate-500"}),l.jsx("span",{className:"text-[10px] uppercase font-bold",children:"Audio"})]}),l.jsxs("button",{onClick:()=>Z(!se),className:`py-3 rounded bg-slate-500/10 flex flex-col items-center justify-center gap-1 hover:bg-slate-500/20 ${se?"text-indigo-400":"text-slate-500"}`,children:[l.jsx(Fm,{size:20}),l.jsx("span",{className:"text-[10px] uppercase font-bold",children:"Visuals"})]}),l.jsxs("button",{onClick:()=>S(!T),className:`py-3 rounded bg-slate-500/10 flex flex-col items-center justify-center gap-1 hover:bg-slate-500/20 ${T?"text-emerald-400":"text-slate-500"}`,children:[T?l.jsx(op,{size:20}):l.jsx(dp,{size:20}),l.jsx("span",{className:"text-[10px] uppercase font-bold",children:"Battery"})]}),l.jsxs("button",{onClick:()=>B(!G),className:`py-3 rounded bg-slate-500/10 flex flex-col items-center justify-center gap-1 hover:bg-slate-500/20 ${G?"text-emerald-400":"text-slate-500"}`,children:[l.jsx(_l,{size:20}),l.jsx("span",{className:"text-[10px] uppercase font-bold",children:"Anti-Flicker"})]}),l.jsxs("button",{onClick:_a,className:`relative py-3 rounded flex flex-col items-center justify-center gap-1 ${He?"bg-emerald-600":"bg-indigo-600 hover:bg-indigo-500"} text-white transition-colors`,children:[l.jsx(ml,{size:20,className:He?"animate-spin":""}),l.jsx("span",{className:"text-[10px] uppercase font-bold",children:He?"Saved!":"Save Game"})]})]})]}),l.jsxs("div",{className:`${Ne} p-4 rounded-xl border`,children:[l.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2 text-cyan-400",children:[l.jsx(yo,{size:16})," Statistics"]}),l.jsxs("div",{className:"space-y-1.5 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"opacity-70",children:"Total Teleports:"}),l.jsx("span",{className:"font-mono text-cyan-300",children:g})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"opacity-70",children:"Lifetime Mana:"}),l.jsx("span",{className:"font-mono",children:Je(Y+te,"dynamic")})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"opacity-70",children:"Current Dust:"}),l.jsx("span",{className:"font-mono",children:Je(ue,"dynamic")})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"opacity-70",children:"Total Playtime:"}),l.jsxs("span",{className:"font-mono",children:[(me/3600).toFixed(1)," hrs"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"opacity-70",children:"Manual Clicks:"}),l.jsx("span",{className:"font-mono",children:Je(ee,"dynamic")})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"opacity-70",children:"Max Offline:"}),l.jsxs("span",{className:"font-mono text-emerald-300",children:[ce," hrs"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"opacity-70",children:"Offline Mana/hr:"}),l.jsx("span",{className:"font-mono",children:Je(D.mana*3600,"dynamic")})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"opacity-70",children:"Offline Dust/hr:"}),l.jsx("span",{className:"font-mono",children:Je(D.dust*3600,"dynamic")})]}),l.jsxs("button",{onClick:()=>Ot(!0),className:"w-full mt-2 py-1.5 px-3 rounded bg-slate-500/10 hover:bg-slate-500/20 flex items-center justify-center gap-2 text-xs font-bold transition-colors",children:[l.jsx(Jm,{size:14})," View System Log"]})]})]}),l.jsxs("div",{className:`${Ne} p-4 rounded-xl border border-dashed border-slate-500/50 md:col-span-2`,children:[l.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[l.jsx(Im,{size:16})," Cheats / Developer Tools"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[l.jsxs("button",{onClick:Pe,className:"w-full bg-gradient-to-r from-fuchsia-600 to-indigo-600 hover:from-fuchsia-500 hover:to-indigo-500 text-white py-2 rounded font-bold text-xs flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-transform",children:[l.jsx(ga,{size:16})," UNLIMITED RESOURCES"]}),l.jsxs("button",{onClick:De,className:"w-full bg-gradient-to-r from-emerald-600 to-cyan-600 hover:from-emerald-500 hover:to-cyan-500 text-white py-2 rounded font-bold text-xs flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-transform",children:[l.jsx(Im,{size:16})," UNLOCK ALL UPGRADES"]}),l.jsxs("button",{onClick:Qe,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white py-2 rounded font-bold text-xs flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-transform",children:[l.jsx(ml,{size:16})," TRIGGER TELEPORT"]}),l.jsxs("button",{onClick:Ye,className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500 text-white py-2 rounded font-bold text-xs flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-transform",children:[l.jsx(Ma,{size:16})," TRIGGER ASCENSION"]})]})]})]})})]})}),Oe&&l.jsx("div",{className:"fixed inset-0 z-[110] bg-black/80 flex items-center justify-center p-4",children:l.jsxs("div",{className:`${f?"bg-white":"bg-slate-900"} max-w-3xl w-full h-[70vh] rounded-2xl flex flex-col overflow-hidden border ${f?"border-slate-300":"border-slate-700"}`,children:[l.jsxs("div",{className:`p-4 border-b flex justify-between items-center ${f?"bg-slate-100 border-slate-300 text-slate-900":"bg-slate-800 border-slate-700 text-white"}`,children:[l.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[l.jsx(Jm,{size:20})," System Log"]}),l.jsx("button",{onClick:()=>Ot(!1),children:l.jsx(ra,{size:20})})]}),l.jsx("div",{className:`flex-1 overflow-y-auto p-4 ${f?"bg-slate-50":"bg-slate-900/50"}`,children:l.jsx("div",{className:`${Ne} p-4 rounded-xl border text-xs font-mono h-full overflow-y-auto`,children:Ce.map((We,Gt)=>l.jsx("div",{className:"border-b border-slate-500/20 pb-1 mb-1 text-slate-300",children:We},Gt))})})]})})]})},qb=h.memo(Hb),Lb=({showGuide:r,setShowGuide:o,isLight:f,totalMana:d=0,lifetimeMana:m=0,prestigeCount:v=0,ascensionLevel:w=0,hasResearch:C={},maxWave:b=0,creatures:x=[],items:U=[],dimensionsUnlocked:R=0,masteryPoints:M=0,library:E={},essence:A=0,arcaneGems:Q=0,challengeCompletions:L={},formatNumber:H})=>{const[I,se]=h.useState("basics"),T=w>=3?7:w>=1?6:Q>=1?5:m>=1e12||v>=10?4:m>=1e8||v>=5?3:d>=1e6?2:1,S=h.useMemo(()=>{const B=[];return T===1&&(C&&!C("portal_access")&&B.push({text:"Unlock Portal via Lab research",priority:"high"}),C&&!C("auto_explore")&&B.push({text:"Enable Auto-Explore (Scouting Golems)",priority:"high"}),R<1&&B.push({text:"Unlock and explore Earth",priority:"medium"}),x.length+U.length<5&&B.push({text:"Discover more entries to raise Resonance",priority:"medium"}),d<1e6&&B.push({text:"Increase Mana to progress toward mid-game",priority:"low"})),T===2&&(C&&!C("arena_access")&&B.push({text:"Unlock Arena via Lab research",priority:"high"}),b<10&&B.push({text:"Reach early boss waves for enhanced rewards",priority:"high"}),R<3&&B.push({text:"Unlock more dimensions",priority:"medium"}),E!=null&&E.active||B.push({text:"Craft and equip a Codex",priority:"medium"}),m<1e9&&B.push({text:"Build lifetime Mana toward first Teleport",priority:"low"})),T===3&&(v===0&&B.push({text:"Teleport when your multiplier is strong",priority:"high"}),v>0&&M<5&&B.push({text:"Earn Mastery Points to expand the board",priority:"high"}),b<30&&B.push({text:"Push Arena deeper for better rewards",priority:"medium"}),R<6&&B.push({text:"Unlock higher-tier dimensions",priority:"medium"}),m<1e12&&B.push({text:"Grow lifetime Mana toward Ascension",priority:"low"})),T===4&&(M<20&&B.push({text:"Earn more Mastery Points",priority:"high"}),b<30&&B.push({text:"Defeat challenging Arena waves",priority:"high"}),R<6&&B.push({text:"Unlock all dimensions",priority:"medium"}),(!(E!=null&&E.active)||E.active!=="codex_void")&&B.push({text:"Use Codex that fits your current goals",priority:"medium"}),B.push({text:"Prepare for Ascension",priority:"low"})),T===5&&(Q<5&&B.push({text:"Rebirth (Teleport) and Ascend to earn Arcane Crystals",priority:"high"}),A<100&&B.push({text:"Earn Essence for Perks",priority:"medium"}),B.push({text:"Plan a Talent build with path synergies",priority:"medium"}),B.push({text:"Consider perks that enable dual Codex",priority:"low"})),T===6&&(Object.keys(L).length<5&&B.push({text:"Complete more Challenges",priority:"high"}),B.push({text:"Experiment with tiers and mutators",priority:"medium"}),B.push({text:"Raise Madness for better rewards (when strong)",priority:"medium"}),B.push({text:"Balance Challenges with normal progression",priority:"low"})),T===7&&(B.push({text:"Optimize Talent synergies",priority:"high"}),B.push({text:"Complete higher Challenge tiers",priority:"medium"}),B.push({text:"Push higher Arena waves",priority:"medium"}),B.push({text:"Tune Ascension timing",priority:"low"})),B},[T,d,m,v,w,C,b,x,U,R,M,E,A,Q,L,H]),G=[{id:"basics",name:"Basics",icon:_l},{id:"portal",name:"Portal",icon:Xl},{id:"arena",name:"Arena",icon:rs},{id:"library",name:"Library",icon:fo},{id:"research",name:"Research",icon:ei},{id:"prestige",name:"Prestige",icon:ml},{id:"mastery",name:"Mastery",icon:zs},{id:"ascension",name:"Ascension",icon:Ma}];return r?l.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 flex lg:items-center lg:justify-center p-0 lg:p-4",children:l.jsxs("div",{className:`${f?"bg-white":"bg-slate-900"} w-screen lg:w-full lg:max-w-4xl h-screen lg:h-[85vh] lg:rounded-2xl flex flex-col overflow-hidden border-0 lg:border ${f?"border-slate-200":"border-slate-700"}`,children:[l.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gradient-to-r from-indigo-900 to-purple-900 border-slate-700 text-white",children:[l.jsxs("h3",{className:"font-bold flex items-center gap-2 text-lg",children:[l.jsx(Ad,{size:24})," Archmage's Complete Handbook"]}),l.jsx("button",{onClick:()=>o(!1),className:"hover:bg-white/10 p-2 rounded-lg transition-colors",children:l.jsx(ra,{size:24})})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsx("div",{className:"w-48 border-r border-slate-700 bg-slate-900/80 p-2 space-y-1 overflow-y-auto",children:G.map(B=>l.jsxs("button",{onClick:()=>se(B.id),className:`w-full p-2.5 rounded-lg flex items-center gap-2 text-sm font-bold transition-all ${I===B.id?"bg-indigo-600 text-white shadow-lg":"hover:bg-slate-800 text-slate-400 hover:text-slate-200"}`,children:[l.jsx(B.icon,{size:16}),B.name]},B.id))}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-slate-900/50",children:[I==="basics"&&l.jsxs(l.Fragment,{children:[l.jsxs("section",{children:[l.jsxs("h4",{className:"text-xl font-bold text-indigo-400 mb-3 flex items-center gap-2",children:[l.jsx(_l,{size:20})," The Basics"]}),l.jsx("p",{className:"text-sm opacity-80 mb-2",children:"Welcome to Arcane Tower. Build power, unlock systems, explore dimensions, and push prestige layers to grow stronger."}),l.jsxs("div",{className:"bg-indigo-900/20 border border-indigo-500/30 rounded-lg p-3 space-y-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("strong",{className:"text-indigo-300",children:"Mana:"})," ",l.jsx("span",{className:"opacity-70",children:"Primary resource from buildings and clicks. Used for construction and dimension unlocks."})]}),l.jsxs("div",{children:[l.jsx("strong",{className:"text-fuchsia-300",children:"Dust:"})," ",l.jsx("span",{className:"opacity-70",children:"Secondary resource. Gained passively and through exploration/combat. Used for most research and talent respec."})]}),l.jsxs("div",{children:[l.jsx("strong",{className:"text-amber-400",children:"Gold:"})," ",l.jsx("span",{className:"opacity-70",children:"Premium currency earned from gameplay. Purchase shop upgrades and permanent bonuses."})]}),l.jsxs("div",{children:[l.jsx("strong",{className:"text-emerald-300",children:"Arcane Gems:"})," ",l.jsx("span",{className:"opacity-70",children:"Earned on every Teleport and Ascension. Spend on permanent Talents."})]}),l.jsxs("div",{children:[l.jsx("strong",{className:"text-purple-300",children:"Essence:"})," ",l.jsx("span",{className:"opacity-70",children:"Earned from Ascension. Spend on powerful Ascension Perks."})]})]})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-xl font-bold text-indigo-400 mb-3 flex items-center gap-2",children:[l.jsx(wh,{size:20})," Your Current Status"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm mb-4",children:[l.jsxs("div",{className:"bg-black/20 rounded-lg p-2",children:[l.jsx("div",{className:"opacity-60 text-xs",children:"Total Mana"}),l.jsx("div",{className:"font-bold text-cyan-300",children:H(d)})]}),l.jsxs("div",{className:"bg-black/20 rounded-lg p-2",children:[l.jsx("div",{className:"opacity-60 text-xs",children:"Prestiges"}),l.jsx("div",{className:"font-bold text-purple-300",children:v})]}),l.jsxs("div",{className:"bg-black/20 rounded-lg p-2",children:[l.jsx("div",{className:"opacity-60 text-xs",children:"Ascension Level"}),l.jsx("div",{className:"font-bold text-amber-300",children:w})]}),l.jsxs("div",{className:"bg-black/20 rounded-lg p-2",children:[l.jsx("div",{className:"opacity-60 text-xs",children:"Max Arena Wave"}),l.jsx("div",{className:"font-bold text-orange-300",children:b})]})]}),S.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("h5",{className:"text-md font-bold text-yellow-300 mb-2 flex items-center gap-2 mt-4",children:[l.jsx(dh,{size:18}),"Recommended Next Steps"]}),l.jsx("ul",{className:"space-y-2",children:S.map((B,he)=>l.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[l.jsx("span",{className:`flex-shrink-0 w-2 h-2 rounded-full mt-1.5 ${B.priority==="high"?"bg-red-400":B.priority==="medium"?"bg-yellow-400":"bg-green-400"}`}),l.jsx("span",{className:"opacity-90",children:B.text})]},he))}),l.jsxs("div",{className:"mt-3 text-xs opacity-60 flex items-center gap-4",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400"}),"High Priority"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-400"}),"Medium"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400"}),"Low"]})]})]})]}),l.jsx("section",{children:l.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/40 to-purple-900/40 border border-indigo-500/30 rounded-xl p-5 text-center",children:[l.jsxs("p",{className:"text-lg font-semibold mb-2",children:[T===1&&" Early Game Phase",T===2&&" Mid Game Phase",T===3&&" First Prestige Phase",T===4&&" Advanced Prestige Loop",T===5&&" Talent System Unlocked",T===6&&" Challenges & Madness",T===7&&" End Game Mastery"]}),l.jsxs("p",{className:"text-sm opacity-80",children:[T===1&&"Focus on building foundations! Click to generate mana and unlock Portal access.",T===2&&"Time to unlock more features and build power. Work toward your first prestige!",T===3&&"Preparing for your first Prestige - an exciting milestone awaits!",T===4&&"Optimize your strategy for maximum gains with Mastery Board synergies.",T===5&&"Time to build your character with permanent Talent upgrades!",T===6&&"Push your limits for greater rewards through strategic Challenge runs!",T===7&&"Master all systems for ultimate power. The multiverse is yours!"]})]})})]}),I==="portal"&&l.jsxs("section",{children:[l.jsxs("h4",{className:"text-xl font-bold text-emerald-400 mb-3 flex items-center gap-2",children:[l.jsx(Xl,{size:20})," Portal & Dimensions"]}),l.jsx("p",{className:"text-sm opacity-80",children:"Explore dimensions to discover creatures and artifacts that boost your power."}),l.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-500/30 rounded-lg p-3 space-y-2 text-sm mt-3",children:[l.jsx("div",{children:" Unlock dimensions with Mana"}),l.jsx("div",{children:" Higher dimensions have better rarities"}),l.jsx("div",{children:" Enable Auto-Explore via research"}),l.jsx("div",{children:" Danger Level affects difficulty and rewards"})]})]}),I==="arena"&&l.jsxs("section",{children:[l.jsxs("h4",{className:"text-xl font-bold text-orange-400 mb-3 flex items-center gap-2",children:[l.jsx(rs,{size:20})," Arena & Combat"]}),l.jsx("p",{className:"text-sm opacity-80",children:"Battle enemies for rewards, prestige multipliers, and Mastery Points."}),l.jsxs("div",{className:"bg-orange-900/20 border border-orange-500/30 rounded-lg p-3 space-y-2 text-sm mt-3",children:[l.jsx("div",{children:" Equip creatures and artifacts for combat"}),l.jsx("div",{children:" Boss waves every 10 levels"}),l.jsx("div",{children:" Higher waves = better rewards"}),l.jsx("div",{children:" Unlock loadouts for quick switching"})]})]}),I==="library"&&l.jsxs("section",{children:[l.jsxs("h4",{className:"text-xl font-bold text-purple-400 mb-3 flex items-center gap-2",children:[l.jsx(fo,{size:20})," Library & Codex"]}),l.jsx("p",{className:"text-sm opacity-80",children:"Craft and equip Codex books for powerful passive bonuses."}),l.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-3 space-y-2 text-sm mt-3",children:[l.jsx("div",{children:" Craft Codex with Pages and Scripts"}),l.jsx("div",{children:" Each Codex provides unique bonuses"}),l.jsx("div",{children:" Switch freely to match your goals"}),l.jsx("div",{children:" Some Perks allow dual Codex"})]})]}),I==="research"&&l.jsxs("section",{children:[l.jsxs("h4",{className:"text-xl font-bold text-cyan-400 mb-3 flex items-center gap-2",children:[l.jsx(ei,{size:20})," Research Lab"]}),l.jsx("p",{className:"text-sm opacity-80",children:"Unlock powerful upgrades and automation with Dust research."}),l.jsxs("div",{className:"bg-cyan-900/20 border border-cyan-500/30 rounded-lg p-3 space-y-2 text-sm mt-3",children:[l.jsx("div",{children:" Research costs Dust"}),l.jsx("div",{children:" Unlock Auto-Explore and Auto-Build"}),l.jsx("div",{children:" Boost production and efficiency"}),l.jsx("div",{children:" Some research has multiple levels"})]})]}),I==="prestige"&&l.jsxs("section",{children:[l.jsxs("h4",{className:"text-xl font-bold text-fuchsia-400 mb-3 flex items-center gap-2",children:[l.jsx(ml,{size:20})," Prestige (Teleport)"]}),l.jsx("p",{className:"text-sm opacity-80",children:"Reset progress for permanent multipliers and Arcane Gems."}),l.jsxs("div",{className:"bg-fuchsia-900/20 border border-fuchsia-500/30 rounded-lg p-3 space-y-2 text-sm mt-3",children:[l.jsx("div",{children:" Teleport resets most progress"}),l.jsx("div",{children:" Keeps: Research, Shop purchases, Talents"}),l.jsx("div",{children:" Gain multiplier based on lifetime Mana"}),l.jsx("div",{children:" Earn Arcane Gems for Talent tree"})]})]}),I==="mastery"&&l.jsxs("section",{children:[l.jsxs("h4",{className:"text-xl font-bold text-amber-400 mb-3 flex items-center gap-2",children:[l.jsx(zs,{size:20})," Mastery Board"]}),l.jsx("p",{className:"text-sm opacity-80",children:"Place Sigils on the board for powerful synergistic bonuses."}),l.jsxs("div",{className:"bg-amber-900/20 border border-amber-500/30 rounded-lg p-3 space-y-2 text-sm mt-3",children:[l.jsx("div",{children:" Earn Mastery Points from Arena and exploration"}),l.jsx("div",{children:" Place Sigils strategically"}),l.jsx("div",{children:" Adjacent Sigils create synergies"}),l.jsx("div",{children:" Can respec for Dust cost"})]})]}),I==="ascension"&&l.jsxs("section",{children:[l.jsxs("h4",{className:"text-xl font-bold text-rose-400 mb-3 flex items-center gap-2",children:[l.jsx(Ma,{size:20})," Ascension"]}),l.jsx("p",{className:"text-sm opacity-80",children:"The ultimate prestige layer with permanent Perks and Essence."}),l.jsxs("div",{className:"bg-rose-900/20 border border-rose-500/30 rounded-lg p-3 space-y-2 text-sm mt-3",children:[l.jsx("div",{children:" Requires massive lifetime Mana"}),l.jsx("div",{children:" Resets Teleport progress completely"}),l.jsx("div",{children:" Earn Essence for powerful Perks"}),l.jsx("div",{children:" Unlock Talent system and Challenges"})]})]})]})]})]})}):null},Gb=({showInbox:r,setShowInbox:o,inbox:f,setInbox:d,setMana:m,setDust:v,addLog:w,isLight:C})=>{const b=M=>{d(E=>E.map(A=>A.id===M?{...A,read:!0}:A))},x=h.useCallback(M=>{const E=f.find(A=>A.id===M);!E||E.claimed||!E.read||(E.reward&&(E.reward.mana&&m(A=>A+E.reward.mana),E.reward.dust&&v(A=>A+E.reward.dust)),d(A=>A.map(Q=>Q.id===M?{...Q,claimed:!0}:Q)),w(`Claimed reward from: ${E.subject}`))},[f,m,v,d,w]),U=M=>{d(E=>E.filter(A=>A.id!==M))};if(!r)return null;const R=[...f].sort((M,E)=>E.id-M.id);return l.jsx("div",{className:"fixed inset-0 z-[80] bg-black/80 flex items-center justify-center p-4",children:l.jsxs("div",{className:`${C?"bg-white":"bg-slate-900"} max-w-md w-full h-[500px] rounded-xl flex flex-col overflow-hidden border ${C?"border-slate-200":"border-slate-700"}`,children:[l.jsxs("div",{className:`p-4 border-b flex justify-between items-center ${C?"bg-slate-100 border-slate-200":"bg-slate-800 border-slate-700"}`,children:[l.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[l.jsx(bh,{size:20})," Arcane Inbox"]}),l.jsx("button",{onClick:()=>o(!1),className:`text-xs px-2 py-1 rounded ${C?"bg-slate-200 hover:bg-slate-300":"bg-slate-700 hover:bg-slate-600"}`,children:"CLOSE"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:[f.length===0&&l.jsx("div",{className:"text-center opacity-50 mt-10",children:"No messages."}),R.map(M=>l.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all ${M.read?C?"bg-slate-50 border-slate-200":"bg-slate-800/30 border-slate-800":C?"bg-white border-indigo-200 shadow-sm":"bg-slate-800 border-indigo-500/50"}`,onClick:()=>b(M.id),children:[l.jsxs("div",{className:"flex justify-between mb-1",children:[l.jsx("span",{className:`font-bold text-sm ${M.read?"opacity-60":"text-indigo-500"}`,children:M.sender}),!M.read&&l.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"})]}),l.jsx("div",{className:"text-xs font-bold opacity-80 mb-1",children:M.subject}),M.read&&l.jsxs("div",{className:"mt-2 text-sm opacity-80 border-t border-slate-200/20 pt-2 animate-in fade-in",children:[M.body,M.reward&&!M.claimed&&l.jsxs("button",{onClick:E=>{E.stopPropagation(),x(M.id)},className:"mt-3 w-full bg-emerald-600 hover:bg-emerald-500 text-white text-xs font-bold py-2 rounded flex items-center justify-center gap-2",children:[l.jsx(bd,{size:14})," Claim:",M.reward.mana?`${Je(M.reward.mana)} Mana `:"",M.reward.dust?`${Je(M.reward.dust)} Dust`:""]}),M.claimed&&l.jsx("div",{className:"mt-2 text-xs text-emerald-500 font-bold text-center",children:"REWARD CLAIMED"}),l.jsx("button",{onClick:E=>{E.stopPropagation(),U(M.id)},className:"mt-2 text-[10px] text-red-400 hover:underline w-full text-right",children:"Delete"})]})]},M.id))]})]})})},$b=({showTeleportModal:r,setShowTeleportModal:o,handleTeleport:f,calculateTeleportBonus:d,prestigeBaseMultiplier:m,totalMana:v,formatNumber:w,animSpin:C})=>{if(!r)return null;const b=d(),x=Math.pow(b+1,3)*1e6;return l.jsx("div",{className:"fixed inset-0 z-[60] bg-black/90 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-slate-900 border border-indigo-500 p-6 rounded-2xl max-w-sm w-full text-center",children:[l.jsx(ml,{size:48,className:`mx-auto text-indigo-400 mb-4 ${C}`}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Teleport Timeline"}),l.jsx("p",{className:"text-slate-300 mb-4 text-sm",children:"Reset buildings, research, dimensions & resources to gain a permanent multiplier."}),l.jsxs("div",{className:"bg-indigo-900/30 p-4 rounded-lg mb-6 border border-indigo-500/30",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-indigo-300 uppercase tracking-widest",children:"Current Base"}),l.jsxs("div",{className:"text-xl font-mono text-white font-bold",children:[w(m,"dynamic"),"x"]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-emerald-300 uppercase tracking-widest",children:"After Reset"}),l.jsxs("div",{className:"text-xl font-mono text-emerald-400 font-bold",children:["+",b,"x"]})]})]}),l.jsxs("div",{className:"border-t border-indigo-500/30 pt-3 mt-2 text-left",children:[l.jsx("div",{className:"text-xs font-bold text-indigo-200 mb-1",children:"Bonus Calculation:"}),l.jsx("div",{className:"text-[10px] font-mono bg-black/20 p-2 rounded text-slate-300",children:"(Total Lifetime Mana / 1,000,000) ^ (1/3)"}),l.jsxs("div",{className:"text-[10px] text-slate-400 mt-2 italic",children:["Next Multiplier Increase at:",l.jsxs("span",{className:"text-white font-bold ml-1",children:[w(x,"dynamic")," Lifetime Mana"]})]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-3 rounded-lg bg-slate-800 hover:bg-slate-700 text-white font-bold transition-colors",children:"Cancel"}),l.jsx("button",{onClick:f,"aria-disabled":b<=0,className:"flex-1 py-3 rounded-lg bg-indigo-600 text-white font-bold hover:bg-indigo-500 transition-colors aria-disabled:opacity-50 aria-disabled:bg-slate-700",children:b<=0?`Need ${w(1e6,"dynamic")} Mana`:"TELEPORT"})]})]})})},Yb=({offlineEarnings:r,setOfflineEarnings:o,formatNumber:f})=>r?l.jsx("div",{className:"fixed inset-0 z-[70] bg-black/90 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-slate-900 border border-fuchsia-500 p-6 rounded-2xl max-w-sm w-full text-center",children:[l.jsx(qi,{size:48,className:"mx-auto text-fuchsia-400 mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome Back!"}),l.jsxs("div",{className:"bg-fuchsia-900/20 p-4 rounded-lg mb-4 border border-fuchsia-500/30",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-indigo-300",children:"Mana Gained"}),l.jsx("div",{className:"text-xl font-mono text-white font-bold",children:f(r.mana)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-fuchsia-300",children:"Dust Gained"}),l.jsx("div",{className:"text-xl font-mono text-white font-bold",children:f(r.dust)})]})]}),l.jsxs("div",{className:"mt-3 text-xs opacity-60",children:["Time Elapsed: ",(r.time/3600).toFixed(2)," hrs",r.capped&&l.jsx("span",{className:"text-red-400 font-bold ml-1",children:"(CAPPED)"})]})]}),l.jsx("button",{onClick:()=>o(null),className:"w-full py-3 rounded-lg bg-fuchsia-600 hover:bg-fuchsia-500 font-bold text-white transition-colors",children:"Collect Resources"})]})}):null,Xb=({showLoadoutModal:r,setShowLoadoutModal:o,equippedCreatureIds:f,equippedItemsBySlot:d,toggleEquipCreature:m,toggleEquipItemToSlot:v,creatures:w,items:C,playerMaxHP:b,playerAtk:x,addLog:U,isLight:R,research:M,perkEffects:E})=>{if(!r)return null;const A=(M==null?void 0:M.arcane_focus)||0,Q=(E==null?void 0:E.extraLoadoutSlots)||0,L=3+A+Q,[H,I]=h.useState(null);h.useEffect(()=>{r||I(null)},[r]);const se=S=>{if(!f.includes(S)&&f.length>=L){U(`Maximum ${L} creatures can be equipped.`);return}m(S)},Z=S=>{const G=d&&d[S];return G?C.find(B=>B.id===G):null},T=S=>C.filter(G=>G.slot===S);return l.jsx("div",{className:"fixed inset-0 z-[90] bg-black/80 flex lg:items-center lg:justify-center p-0 lg:p-4",children:l.jsxs("div",{className:`${R?"bg-white":"bg-slate-900"} w-screen lg:w-full lg:max-w-5xl h-screen lg:h-[90vh] lg:rounded-2xl flex flex-col overflow-hidden border-0 lg:border ${R?"border-slate-200":"border-slate-700"}`,children:[l.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gradient-to-r from-slate-800 to-slate-900 border-slate-700 text-white",children:[l.jsxs("h3",{className:"font-bold text-xl flex items-center gap-2",children:[l.jsx(po,{size:28})," Battle Loadout"]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"opacity-60 text-xs",children:"Max HP"}),l.jsx("div",{className:"text-emerald-400 font-bold text-lg",children:b})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"opacity-60 text-xs",children:"Attack"}),l.jsx("div",{className:"text-amber-400 font-bold text-lg",children:x.toFixed(1)})]})]}),l.jsx("button",{onClick:()=>o(!1),className:"hover:bg-slate-700 p-2 rounded transition",children:l.jsx(ra,{size:24})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-900/30",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"font-bold text-amber-400 uppercase text-sm tracking-wider mb-4 border-b border-amber-700 pb-2",children:" Equipment"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:Object.entries(Ri).map(([S,G])=>{const B=Z(S),he=T(S).length;return l.jsxs("div",{onClick:()=>he>0&&I(S),className:`p-3 rounded-lg border-2 transition-all min-h-[140px] flex flex-col justify-between cursor-pointer ${H===S?"border-amber-400 bg-amber-900/40 shadow-lg shadow-amber-500/50":B?"border-amber-600 bg-amber-900/20 hover:border-amber-500":he>0?"border-slate-600 bg-slate-800/30 hover:border-amber-500/50":"border-slate-700 bg-slate-800/10 opacity-50"}`,children:[l.jsxs("div",{className:"text-center mb-2",children:[l.jsx("div",{className:"text-3xl",children:G.emoji}),l.jsx("div",{className:"text-[10px] font-bold text-amber-300 uppercase mt-1",children:G.name})]}),B?l.jsxs("div",{className:"bg-black/30 p-2 rounded border border-amber-500/50 group",children:[l.jsx("div",{className:"font-bold text-xs text-white truncate",children:B.name}),l.jsxs("div",{className:"text-[9px] opacity-60",children:["+",B.power]}),l.jsxs("div",{className:"flex justify-between items-center mt-1",children:[l.jsx(In,{rarity:B.rarity}),l.jsx("button",{onClick:Be=>{Be.stopPropagation(),v(null,S)},className:"text-slate-400 hover:text-red-400 transition",title:"Unequip",children:l.jsx(jd,{size:12})})]})]}):l.jsx("div",{className:"text-center text-[9px] opacity-50",children:he>0?"Click to equip":"No items"})]},S)})})]}),H&&l.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-slate-900 rounded-xl border-2 border-amber-600 max-w-2xl w-full max-h-[70vh] flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-amber-600 flex justify-between items-center bg-slate-800",children:[l.jsxs("h3",{className:"font-bold text-amber-400",children:["Select ",Ri[H].name," (",Ri[H].emoji,")"]}),l.jsx("button",{onClick:()=>I(null),className:"hover:bg-slate-700 p-1 rounded transition",children:l.jsx(ra,{size:20})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.jsx("div",{className:"space-y-2",children:T(H).length===0?l.jsx("div",{className:"text-center opacity-50 py-8",children:"No items available for this slot"}):T(H).map(S=>{const G=d&&d[H]===S.id;return l.jsxs("button",{onClick:()=>{v(S.id,H),I(null)},className:`w-full p-3 rounded-lg border-2 transition-all text-left flex justify-between items-center ${G?"border-emerald-500 bg-emerald-900/30":"border-slate-600 bg-slate-800 hover:border-amber-500 hover:bg-slate-700"}`,children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-white",children:S.name}),l.jsxs("div",{className:"text-sm opacity-60",children:["+",S.power," ATK"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(In,{rarity:S.rarity}),G&&l.jsx(Hr,{size:20,className:"text-emerald-400"})]})]},S.id)})})})]})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-purple-400 uppercase text-sm tracking-wider mb-3 border-b border-purple-700 pb-2 flex justify-between items-center",children:l.jsxs("span",{children:[" Active Creatures (",f.length,"/",L,")"]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:w.length===0?l.jsx("div",{className:"col-span-full text-center opacity-50 py-6",children:"No creatures captured yet. Explore the Portal to find some!"}):w.slice().reverse().map(S=>{const G=f.includes(S.id),B=kh(S.elemental),he={fire:"text-red-400",water:"text-blue-400",grass:"text-green-400",electric:"text-yellow-400",psychic:"text-purple-400",dark:"text-slate-400",fairy:"text-pink-400"}[S.elemental]||"text-gray-400";return l.jsxs("div",{onClick:()=>se(S.id),className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${G?"border-purple-500 bg-purple-900/40 shadow-lg shadow-purple-500/30":"border-slate-700 bg-slate-800/50 hover:border-purple-500/50"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-xl",children:B.icon}),l.jsx("span",{className:`font-bold text-sm truncate ${G?"text-white":"opacity-80"}`,children:S.name})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("span",{className:`text-[9px] font-bold ${he}`,children:S.elementalName}),l.jsx(In,{rarity:S.rarity})]})]}),G&&l.jsx(Hr,{className:"text-purple-400 flex-shrink-0",size:18})]}),l.jsxs("div",{className:`text-xs p-2 rounded ${G?"bg-purple-800/50":"bg-slate-700/30"} text-center font-bold text-emerald-400`,children:[" HP +",S.power]})]},S.id)})})]})]})]})})},Vb=({achievementPopup:r,setAchievementPopup:o})=>(h.useEffect(()=>{if(r){const f=setTimeout(()=>{o(null)},5e3);return()=>clearTimeout(f)}},[r,o]),r?l.jsx("div",{className:"fixed top-24 left-1/2 transform -translate-x-1/2 z-[100] animate-in fade-in slide-in-from-top-4 w-[90%] max-w-sm pointer-events-none",children:l.jsxs("div",{className:"bg-slate-900/95 backdrop-blur-xl border border-yellow-500/50 text-white px-4 py-3 rounded-xl shadow-2xl flex items-center gap-4",children:[l.jsx("div",{className:"bg-yellow-500 p-2 rounded-full text-black shrink-0",children:l.jsx(ti,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-yellow-500 font-bold",children:"Achievement Unlocked"}),l.jsx("div",{className:"font-bold text-sm",children:r.name}),l.jsx("div",{className:"text-xs opacity-80",children:r.desc})]})]})}):null),Qb=({showMasteryGuideModal:r,setShowMasteryGuideModal:o,isLight:f,masteryPointsEarned:d=0})=>r?l.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-4",children:l.jsxs("div",{className:`${f?"bg-white":"bg-slate-900"} max-w-2xl w-full rounded-2xl flex flex-col overflow-hidden border ${f?"border-slate-200":"border-slate-700"}`,children:[l.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gradient-to-r from-indigo-900 to-purple-900 border-slate-700 text-white",children:[l.jsxs("h3",{className:"font-bold flex items-center gap-2 text-lg",children:[l.jsx(zs,{size:24})," Welcome to the Mastery Board"]}),l.jsx("button",{onClick:()=>o(!1),children:l.jsx(ra,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-5 bg-slate-900/50 overflow-y-auto max-h-[70vh]",children:[d>0&&l.jsx("div",{className:"bg-emerald-900/30 border border-emerald-500/30 rounded-lg p-4 mb-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zs,{size:32,className:"text-yellow-400 animate-pulse"}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-bold text-emerald-300 text-lg",children:["You earned ",d," Mastery Point",d!==1?"s":"","!"]}),l.jsx("div",{className:"text-sm opacity-80",children:"Visit the Mastery tab to place your first Sigils and unlock powerful bonuses."})]})]})}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-indigo-300 mb-3 flex items-center gap-2",children:[l.jsx(zs,{size:18})," What is the Mastery Board?"]}),l.jsxs("p",{className:"text-sm opacity-80",children:["Congratulations on your first prestige! The Mastery Board is a 55 grid where you can place powerful ",l.jsx("strong",{children:"Sigils"})," using ",l.jsx("strong",{children:"Mastery Points"})," (MP). Each prestige grants you a limited amount of MP based on your total lifetime mana."]})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-emerald-300 mb-3 flex items-center gap-2",children:[l.jsx(Yp,{size:18})," How It Works"]}),l.jsxs("ul",{className:"space-y-2 text-sm opacity-80",children:[l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"text-indigo-400 font-bold",children:"1."}),l.jsx("span",{children:"Earn Mastery Points on each prestige (1 MP per 10M lifetime mana, max 5 MP per prestige)"})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"text-indigo-400 font-bold",children:"2."}),l.jsx("span",{children:"Place Sigils on the grid using your MP. Each Sigil costs 1-3 MP."})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"text-indigo-400 font-bold",children:"3."}),l.jsx("span",{children:"Sigils provide bonuses based on how many other Sigils are adjacent to them (horizontally/vertically adjacent)"})]})]})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-amber-300 mb-3 flex items-center gap-2",children:[l.jsx(_l,{size:18})," Sigil Types & Bonuses"]}),l.jsxs("div",{className:"space-y-2 text-sm opacity-80",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"text-yellow-400 font-bold min-w-fit",children:"Catalyst:"}),l.jsx("span",{children:"+8% Mana & Dust production per adjacent Sigil"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"text-teal-400 font-bold min-w-fit",children:"Resonator:"}),l.jsx("span",{children:"+5% exploration rarity per adjacent Sigil"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"text-fuchsia-400 font-bold min-w-fit",children:"Amplifier:"}),l.jsx("span",{children:"+20% Prestige multiplier gain per adjacent Sigil"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"text-cyan-400 font-bold min-w-fit",children:"Chronometer:"}),l.jsx("span",{children:"-10ms game tick per adjacent Sigil (faster automation)"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"text-orange-400 font-bold min-w-fit",children:"Vault:"}),l.jsx("span",{children:"+4% Arena ATK/HP per adjacent Sigil"})]})]})]}),l.jsxs("section",{className:"bg-indigo-900/30 border border-indigo-500/30 rounded-lg p-4",children:[l.jsx("h4",{className:"text-lg font-bold text-indigo-300 mb-2",children:" Strategy Tips"}),l.jsxs("ul",{className:"space-y-1 text-sm opacity-80 list-disc pl-5",children:[l.jsx("li",{children:"Cluster Sigils together to maximize adjacency bonuses"}),l.jsx("li",{children:"Early game: Focus on production Sigils (Catalyst/Resonator) to speed up progression"}),l.jsx("li",{children:"Late game: Mix in Amplifier Sigils to boost your prestige rewards"}),l.jsx("li",{children:"Drag and drop Sigils freelyyou can reposition them anytime at no cost"}),l.jsx("li",{children:"Removed Sigils are refunded their MP cost"})]})]}),l.jsx("section",{className:"text-sm opacity-70 italic",children:"You can access the Mastery Board anytime from the sidebar. Happy mystical crafting! "})]}),l.jsx("div",{className:"p-4 border-t border-slate-700 bg-slate-900",children:l.jsx("button",{onClick:()=>o(!1),className:"w-full py-3 rounded-lg bg-indigo-600 hover:bg-indigo-500 text-white font-bold transition-colors",children:"Got It!"})})]})}):null,Zb=({showAscensionModal:r,setShowAscensionModal:o,essence:f,essenceGain:d,ascensionLevel:m,handleAscend:v,isLight:w})=>r?l.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 flex items-center justify-center p-4",children:l.jsxs("div",{className:`${w?"bg-white":"bg-slate-900"} max-w-2xl w-full rounded-2xl flex flex-col overflow-hidden border-2 ${w?"border-amber-200":"border-amber-500/50"}`,children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gradient-to-r from-amber-900 to-purple-900 border-amber-700 text-white",children:[l.jsxs("h3",{className:"font-bold flex items-center gap-3 text-2xl",children:[l.jsx(Ma,{size:32}),"Ascend to Eternity"]}),l.jsx("button",{onClick:()=>o(!1),className:"hover:bg-white/10 p-2 rounded-lg transition-colors",children:l.jsx(ra,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-6 bg-slate-900/50 overflow-y-auto max-h-[70vh]",children:[l.jsx("div",{className:"bg-amber-900/30 border border-amber-500/50 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(go,{size:24,className:"text-amber-400 flex-shrink-0 mt-1"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-amber-300 mb-2",children:" This is a HARD RESET"}),l.jsx("div",{className:"text-sm opacity-90",children:"Ascending will reset almost everything. This is more powerful than a Teleport/Prestige. Make sure you're ready for a complete restart with only your permanent upgrades."})]})]})}),l.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-500/30 rounded-xl p-4",children:[l.jsxs("div",{className:"font-bold text-emerald-300 mb-3 flex items-center gap-2",children:[l.jsx(gd,{size:20}),"What You'll Gain"]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Oi,{size:16,className:"text-purple-400"}),l.jsxs("span",{className:"font-bold text-purple-300",children:["+",Je(d)," Essence"]}),l.jsx("span",{className:"opacity-60",children:"(permanent currency for Ascension Perks)"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ma,{size:16,className:"text-amber-400"}),l.jsxs("span",{className:"font-bold text-amber-300",children:["Ascension Level ",m+1]}),l.jsx("span",{className:"opacity-60",children:"(prestige badge)"})]}),l.jsx("div",{className:"opacity-80 mt-3 pl-6 text-xs italic",children:"Essence can be spent on powerful permanent upgrades like faster ticks, increased production, extra loadout slots, and meta-progression bonuses."})]})]}),l.jsxs("div",{className:"bg-indigo-900/20 border border-indigo-500/30 rounded-xl p-4",children:[l.jsxs("div",{className:"font-bold text-indigo-300 mb-3 flex items-center gap-2",children:[l.jsx(gd,{size:20}),"What You'll Keep"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[l.jsx("div",{className:"flex items-center gap-2 opacity-80",children:" All Essence (current + new)"}),l.jsx("div",{className:"flex items-center gap-2 opacity-80",children:" Ascension Perks"}),l.jsx("div",{className:"flex items-center gap-2 opacity-80",children:" Mastery Board"}),l.jsx("div",{className:"flex items-center gap-2 opacity-80",children:" All Achievements"}),l.jsx("div",{className:"flex items-center gap-2 opacity-80",children:" Shop Purchases (DLC)"}),l.jsx("div",{className:"flex items-center gap-2 opacity-80",children:" Game Settings"})]})]}),l.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-xl p-4",children:[l.jsxs("div",{className:"font-bold text-red-300 mb-3 flex items-center gap-2",children:[l.jsx(ra,{size:20}),"What You'll Lose (Reset)"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[l.jsx("div",{className:"flex items-center gap-2 opacity-80",children:" All Mana & Dust"}),l.jsx("div",{className:"flex items-center gap-2 opacity-80",children:" All Buildings"}),l.jsx("div",{className:"flex items-center gap-2 opacity-80",children:" All Research"}),l.jsx("div",{className:"flex items-center gap-2 opacity-80",children:" All Dimensions (except Earth)"}),l.jsx("div",{className:"flex items-center gap-2 opacity-80",children:" All Creatures & Items"}),l.jsx("div",{className:"flex items-center gap-2 opacity-80",children:" Arena Progress"}),l.jsx("div",{className:"flex items-center gap-2 opacity-80",children:" Library (Codex/Pages/Scripts)"}),l.jsx("div",{className:"flex items-center gap-2 opacity-80",children:" Prestige Count & Multiplier"}),l.jsx("div",{className:"flex items-center gap-2 opacity-80",children:" Exploration Progress"})]}),l.jsx("div",{className:"mt-3 text-xs opacity-60 italic",children:"Note: Some Ascension Perks will help you keep certain things or progress faster after reset."})]}),l.jsxs("div",{className:"text-center p-4 bg-purple-900/20 border border-purple-500/30 rounded-xl",children:[l.jsx("div",{className:"text-sm opacity-60 mb-2",children:"Current Essence"}),l.jsx("div",{className:"text-3xl font-bold font-mono text-purple-300 mb-2",children:Je(f)}),l.jsx("div",{className:"text-xs opacity-50",children:"+"}),l.jsx("div",{className:"text-sm opacity-60 mb-2",children:"Essence from this Ascension"}),l.jsxs("div",{className:"text-4xl font-bold font-mono text-amber-300 mb-2",children:["+",Je(d)]}),l.jsx("div",{className:"h-px bg-purple-500/30 my-3"}),l.jsx("div",{className:"text-sm opacity-60 mb-2",children:"Total After Ascension"}),l.jsx("div",{className:"text-5xl font-bold font-mono bg-gradient-to-r from-purple-400 to-amber-400 bg-clip-text text-transparent",children:Je(f+d)})]})]}),l.jsxs("div",{className:"p-6 border-t border-slate-700 bg-slate-900/80 flex gap-3",children:[l.jsx("button",{onClick:()=>o(!1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white p-3 rounded-xl font-bold transition-colors",children:"Cancel"}),l.jsxs("button",{onClick:()=>{v(),o(!1)},className:"flex-1 bg-gradient-to-r from-amber-600 to-purple-600 hover:from-amber-500 hover:to-purple-500 text-white p-3 rounded-xl font-bold flex items-center justify-center gap-2 shadow-[0_0_20px_rgba(251,191,36,0.3)] transition-all",children:[l.jsx(Ma,{size:20}),"Ascend Now"]})]})]})}):null,Kb=({showAscensionGuideModal:r,setShowAscensionGuideModal:o,isLight:f,essenceEarned:d=0})=>r?l.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-4",children:l.jsxs("div",{className:`${f?"bg-white":"bg-slate-900"} max-w-2xl w-full rounded-2xl flex flex-col overflow-hidden border ${f?"border-slate-200":"border-slate-700"}`,children:[l.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gradient-to-r from-amber-900 to-purple-900 border-slate-700 text-white",children:[l.jsxs("h3",{className:"font-bold flex items-center gap-2 text-lg",children:[l.jsx(Ma,{size:24}),"Welcome to Ascension"]}),l.jsx("button",{onClick:()=>o(!1),children:l.jsx(ra,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-5 bg-slate-900/50 overflow-y-auto max-h-[70vh]",children:[d>0&&l.jsx("div",{className:"bg-emerald-900/30 border border-emerald-500/30 rounded-lg p-4 mb-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Oi,{size:32,className:"text-purple-400 animate-pulse"}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-bold text-emerald-300 text-lg",children:["You gained ",d," Essence!"]}),l.jsx("div",{className:"text-sm opacity-80",children:"Spend it wisely on permanent Ascension Perks."})]})]})}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-amber-300 mb-3 flex items-center gap-2",children:[l.jsx(Ma,{size:18})," What is Ascension?"]}),l.jsxs("p",{className:"text-sm opacity-80 mb-3",children:[l.jsx("strong",{children:"Ascension"})," is the ultimate form of prestigea complete reset that goes beyond Teleporting. It rewards mastery of ALL game systems and grants you ",l.jsx("strong",{className:"text-purple-400",children:"Essence"}),", a permanent currency used to unlock game-changing upgrades."]}),l.jsx("div",{className:"bg-amber-900/20 border border-amber-500/30 rounded-lg p-3 text-sm",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(go,{size:16,className:"text-amber-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"opacity-80",children:[l.jsx("strong",{children:"Important:"})," Ascension resets almost everything except your Mastery Board, Ascension Perks, Achievements, and Shop Purchases. It's harder than prestige, but the rewards are permanent."]})]})})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-purple-300 mb-3 flex items-center gap-2",children:[l.jsx(Oi,{size:18})," How to Earn Essence"]}),l.jsx("p",{className:"text-sm opacity-80 mb-2",children:"Essence is earned by Ascending. The amount depends on your progress across multiple systems:"}),l.jsxs("ul",{className:"space-y-1 text-sm opacity-80 ml-6",children:[l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Lifetime Mana"})," - Higher totals = more Essence"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Arena Waves"})," - Every 10 waves adds bonus Essence"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Mastery Points"})," - Every 25 points adds bonus Essence"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Dimensions Unlocked"})," - Each dimension adds +1 Essence"]})]})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-indigo-300 mb-3 flex items-center gap-2",children:[l.jsx(ga,{size:18})," Ascension Perks"]}),l.jsxs("p",{className:"text-sm opacity-80 mb-3",children:["Spend Essence on ",l.jsx("strong",{children:"Ascension Perks"}),"permanent upgrades organized into 5 categories:"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{className:"bg-indigo-900/20 border border-indigo-500/20 rounded p-2",children:[l.jsx("div",{className:"font-bold text-indigo-300",children:" Production"}),l.jsx("div",{className:"text-xs opacity-70",children:"Faster ticks, more mana/dust"})]}),l.jsxs("div",{className:"bg-cyan-900/20 border border-cyan-500/20 rounded p-2",children:[l.jsx("div",{className:"font-bold text-cyan-300",children:" Research"}),l.jsx("div",{className:"text-xs opacity-70",children:"Free research levels, cost reduction"})]}),l.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/20 rounded p-2",children:[l.jsx("div",{className:"font-bold text-blue-300",children:" Portal"}),l.jsx("div",{className:"text-xs opacity-70",children:"Faster exploration, better loot"})]}),l.jsxs("div",{className:"bg-red-900/20 border border-red-500/20 rounded p-2",children:[l.jsx("div",{className:"font-bold text-red-300",children:" Arena"}),l.jsx("div",{className:"text-xs opacity-70",children:"Extra slots, more HP/ATK"})]}),l.jsxs("div",{className:"bg-amber-900/20 border border-amber-500/20 rounded p-2 md:col-span-2",children:[l.jsx("div",{className:"font-bold text-amber-300",children:" Meta"}),l.jsx("div",{className:"text-xs opacity-70",children:"Game-changers: keep mana after prestige, dual codex, mastery bonuses"})]})]})]}),l.jsxs("section",{children:[l.jsx("h4",{className:"text-lg font-bold text-emerald-300 mb-3 flex items-center gap-2",children:" Strategy Tips"}),l.jsxs("ul",{className:"space-y-2 text-sm opacity-80",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-emerald-400 font-bold flex-shrink-0",children:"1."}),l.jsxs("span",{children:[l.jsx("strong",{children:"First Ascension:"}),' Focus on "Essence Infusion" and "Ancient Knowledge" to speed up early-game progression.']})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-emerald-400 font-bold flex-shrink-0",children:"2."}),l.jsxs("span",{children:[l.jsx("strong",{children:"Long-term:"}),' "Planar Memories" (keep dimensions) and "Prestige Persistence" (keep mana %) drastically reduce grind.']})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-emerald-400 font-bold flex-shrink-0",children:"3."}),l.jsxs("span",{children:[l.jsx("strong",{children:"End-game:"}),' Unlock "Infinite Library" (dual codex) and "Cosmic Insight" for massive multipliers.']})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-emerald-400 font-bold flex-shrink-0",children:"4."}),l.jsxs("span",{children:[l.jsx("strong",{children:"Balance:"})," Don't neglect Arena and Portal perksthey help you earn more Essence faster in future ascensions."]})]})]})]}),l.jsxs("section",{children:[l.jsx("h4",{className:"text-lg font-bold text-rose-300 mb-3",children:" When Should You Ascend?"}),l.jsx("p",{className:"text-sm opacity-80 mb-2",children:"Ascending too early wastes potential Essence. Wait until:"}),l.jsxs("ul",{className:"space-y-1 text-sm opacity-80 ml-6",children:[l.jsx("li",{children:" You've unlocked Astral Sea (4th dimension)"}),l.jsx("li",{children:" You've beaten Arena Wave 30+"}),l.jsx("li",{children:" You've accumulated 50+ total Mastery Points"}),l.jsx("li",{children:" You've Teleported at least 10 times"}),l.jsx("li",{children:" Your Essence gain is 15+ (check Ascension tab)"})]})]})]}),l.jsx("div",{className:"p-4 border-t border-slate-700 bg-slate-900/80 flex justify-end",children:l.jsx("button",{onClick:()=>o(!1),className:"bg-amber-600 hover:bg-amber-500 text-white px-6 py-2 rounded-lg font-bold transition-colors",children:"Got it!"})})]})}):null,Jb=({onClose:r,isLight:o=!1})=>l.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-4",children:l.jsxs("div",{className:`${o?"bg-white":"bg-slate-900"} max-w-2xl w-full rounded-2xl flex flex-col overflow-hidden border ${o?"border-slate-200":"border-slate-700"}`,children:[l.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gradient-to-r from-purple-900 to-fuchsia-900 border-slate-700 text-white",children:[l.jsxs("h3",{className:"font-bold flex items-center gap-2 text-lg",children:[l.jsx(ga,{size:24})," Welcome to Talents"]}),l.jsx("button",{onClick:r,children:l.jsx(ra,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-5 bg-slate-900/50 overflow-y-auto max-h-[70vh]",children:[l.jsx("div",{className:"bg-emerald-900/30 border border-emerald-500/30 rounded-lg p-4 mb-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ga,{size:32,className:"text-purple-400 animate-pulse"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-emerald-300 text-lg",children:"You've unlocked Talents!"}),l.jsx("div",{className:"text-sm opacity-80",children:"Customize your Tower with powerful permanent abilities."})]})]})}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-purple-300 mb-3 flex items-center gap-2",children:[l.jsx(ga,{size:18})," What are Talents?"]}),l.jsxs("p",{className:"text-sm opacity-80",children:["Talents are ",l.jsx("strong",{children:"permanent upgrades"})," that let you specialize your Tower's capabilities. Choose from three unique paths to match your playstyle and strategic goals."]})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-fuchsia-300 mb-3 flex items-center gap-2",children:[l.jsx(Og,{size:18})," Three Talent Paths"]}),l.jsxs("div",{className:"space-y-2 text-sm opacity-80",children:[l.jsxs("div",{className:"bg-cyan-900/20 border border-cyan-500/20 rounded p-3",children:[l.jsxs("div",{className:"font-bold text-cyan-300 flex items-center gap-2",children:[l.jsx(_l,{size:14})," Arcane Channeling"]}),l.jsx("div",{className:"text-xs opacity-70 mt-1",children:"Production boosts, mana generation, and resource multipliers"})]}),l.jsxs("div",{className:"bg-red-900/20 border border-red-500/20 rounded p-3",children:[l.jsx("div",{className:"font-bold text-red-300 flex items-center gap-2",children:" Battle Mastery"}),l.jsx("div",{className:"text-xs opacity-70 mt-1",children:"Combat enhancements, arena power, and creature abilities"})]}),l.jsxs("div",{className:"bg-amber-900/20 border border-amber-500/20 rounded p-3",children:[l.jsxs("div",{className:"font-bold text-amber-300 flex items-center gap-2",children:[l.jsx(Ad,{size:14})," Scholar's Path"]}),l.jsx("div",{className:"text-xs opacity-70 mt-1",children:"Knowledge gains, research benefits, and utility upgrades"})]})]})]}),l.jsxs("section",{children:[l.jsx("h4",{className:"text-lg font-bold text-amber-300 mb-3 flex items-center gap-2",children:" Arcane Gems"}),l.jsxs("p",{className:"text-sm opacity-80 mb-2",children:["Talents cost ",l.jsx("strong",{className:"text-purple-400",children:"Arcane Gems"}),", a rare resource earned through major milestones:"]}),l.jsxs("ul",{className:"space-y-1 text-sm opacity-80 ml-6",children:[l.jsxs("li",{children:[" ",l.jsx("strong",{children:"+1 Gem"})," for each Teleport (Prestige)"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"+1 Gem"})," for each Ascension"]}),l.jsx("li",{children:" Plan carefullyGems are precious!"})]})]}),l.jsxs("section",{children:[l.jsx("h4",{className:"text-lg font-bold text-indigo-300 mb-3",children:" Permanent Progression"}),l.jsxs("p",{className:"text-sm opacity-80",children:[l.jsx("strong",{children:"Talents persist through ALL resets"}),"Teleports, Ascensions, everything. Every Gem you invest compounds over time, making each run stronger than the last."]})]}),l.jsxs("section",{children:[l.jsx("h4",{className:"text-lg font-bold text-emerald-300 mb-3",children:" Major Talents & Capstones"}),l.jsxs("ul",{className:"space-y-2 text-sm opacity-80",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-emerald-400 font-bold flex-shrink-0",children:""}),l.jsxs("span",{children:[l.jsx("strong",{children:"Major Talents"})," unlock game-changing mechanics like auto-buy, new dimensions, or unique systems"]})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-emerald-400 font-bold flex-shrink-0",children:""}),l.jsxs("span",{children:[l.jsx("strong",{children:"Capstones"})," at the end of each path provide massive bonusesbuild toward these!"]})]})]})]}),l.jsxs("section",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-4",children:[l.jsx("h4",{className:"text-lg font-bold text-purple-300 mb-2",children:" Strategy Tips"}),l.jsxs("ul",{className:"space-y-1 text-sm opacity-80 list-disc pl-5",children:[l.jsx("li",{children:"Early game: Focus on production talents to speed up progression"}),l.jsx("li",{children:"Mid game: Balance production with utility and combat talents"}),l.jsx("li",{children:"Late game: Push for capstones and major talent synergies"}),l.jsx("li",{children:"You can respec for a Dust cost (increases each time)"})]})]}),l.jsx("section",{className:"text-sm opacity-70 italic",children:"Visit the Talents tab anytime from the Chronomancy menu. Build your perfect Tower! "})]}),l.jsx("div",{className:"p-4 border-t border-slate-700 bg-slate-900",children:l.jsx("button",{onClick:r,className:"w-full py-3 rounded-lg bg-purple-600 hover:bg-purple-500 text-white font-bold transition-colors",children:"Got It!"})})]})}),Pb=({isOpen:r,onClose:o})=>r?l.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-slate-900 border border-cyan-500 rounded-2xl max-w-md w-full p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yo,{size:24,className:"text-cyan-400"}),l.jsx("h2",{className:"text-2xl font-bold text-cyan-400",children:"About Arcane Tower"})]}),l.jsx("button",{onClick:o,className:"text-slate-400 hover:text-white transition-colors",children:l.jsx(ra,{size:24})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:l.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"An incremental idle game where you build a magical tower, explore mysterious dimensions, battle fierce enemies in the arena, and ascend to ultimate power through strategic progression."})}),l.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/30 to-purple-900/30 p-4 rounded-lg border border-indigo-500/30",children:[l.jsx("h3",{className:"font-bold text-amber-400 mb-3 text-sm uppercase tracking-wide",children:"Features"}),l.jsxs("ul",{className:"text-xs text-slate-300 space-y-1",children:[l.jsx("li",{children:" Explore 7 unique dimensions with danger levels"}),l.jsx("li",{children:" Collect creatures and artifacts of varying rarities"}),l.jsx("li",{children:" Battle through Arena waves for rewards"}),l.jsx("li",{children:" Prestige system with Mastery Board upgrades"}),l.jsx("li",{children:" Ascension mechanics with Talent trees"}),l.jsx("li",{children:" Challenge modes for advanced players"})]})]}),l.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-bold text-amber-400 mb-3 text-sm uppercase tracking-wide",children:"Connect"}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsx("a",{href:"#",className:"p-3 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors group",title:"Twitter",children:l.jsx(qg,{size:20,className:"text-sky-400 group-hover:text-sky-300"})}),l.jsx("a",{href:"#",className:"p-3 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors group",title:"Discord",children:l.jsx(sg,{size:20,className:"text-indigo-400 group-hover:text-indigo-300"})}),l.jsx("a",{href:"#",className:"p-3 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors group",title:"GitHub",children:l.jsx(Lp,{size:20,className:"text-slate-400 group-hover:text-slate-300"})}),l.jsx("a",{href:"#",className:"p-3 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors group",title:"Website",children:l.jsx(Xl,{size:20,className:"text-emerald-400 group-hover:text-emerald-300"})})]}),l.jsx("p",{className:"text-xs text-slate-500 text-center mt-3",children:"Links will be added by developer"})]}),l.jsxs("div",{className:"text-xs text-slate-500 text-center pt-2 border-t border-slate-700",children:[l.jsx("p",{children:"Version 1.0.0"}),l.jsx("p",{className:"mt-1",children:"Made with  for incremental game fans"})]})]})]})}):null,Fb=({item:r,onConfirm:o,onCancel:f})=>r?l.jsx("div",{className:"fixed inset-0 z-[70] bg-black/90 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-slate-900 border border-red-500 p-6 rounded-2xl max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(go,{size:24,className:"text-red-400"}),l.jsx("h2",{className:"text-xl font-bold text-white",children:"Premium Item Warning"})]}),l.jsx("button",{onClick:f,className:"text-slate-400 hover:text-white transition-colors",children:l.jsx(ra,{size:24})})]}),l.jsxs("div",{className:"bg-red-900/20 p-4 rounded-lg mb-4 border border-red-500/30",children:[l.jsxs("p",{className:"text-sm text-white mb-3",children:["You are about to dismantle a ",l.jsx("strong",{className:"text-red-400",children:"Premium Battlemage Pack item"}),"."]}),l.jsxs("p",{className:"text-sm text-white mb-3",children:[l.jsx("strong",{children:"Item:"})," ",r.name]}),l.jsx("p",{className:"text-sm text-amber-300 font-bold",children:" You will NOT receive any resources for dismantling this premium item."}),l.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"You can restore this item for free from the Shop tab if needed."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:f,className:"flex-1 py-3 rounded-lg bg-slate-700 hover:bg-slate-600 font-bold text-white transition-colors",children:"Cancel"}),l.jsx("button",{onClick:o,className:"flex-1 py-3 rounded-lg bg-red-600 hover:bg-red-500 font-bold text-white transition-colors",children:"Dismantle Anyway"})]})]})}):null,Wb=({isOpen:r,onClose:o,gameState:f,formatNumber:d})=>{const{totalMana:m=0,lifetimeMana:v=0,prestigeCount:w=0,ascensionLevel:C=0,hasResearch:b={},maxWave:x=0,creatures:U=[],items:R=[],dimensionsUnlocked:M=0,masteryPoints:E=0,library:A={},essence:Q=0,arcaneGems:L=0,challengeCompletions:H={},gold:I=0}=f,Z=C>=3?7:C>=1?6:L>=1?5:v>=1e12||w>=10?4:v>=1e8||w>=5?3:m>=1e6?2:1,T=h.useMemo(()=>{const S=[];return Z===1&&(b.portal_access||S.push({text:"Unlock Portal via Lab research (100 Dust)",priority:"high"}),b.auto_explore||S.push({text:"Enable Auto-Explore (Scouting Golems - 1,500 Dust)",priority:"high"}),M<2&&S.push({text:"Unlock Cinder Plane (3,000 Mana)",priority:"medium"}),U.length+R.length<10&&S.push({text:"Explore to boost Resonance multiplier",priority:"medium"}),b.arena_access||S.push({text:"Unlock Arena for combat (400 Dust)",priority:"medium"})),Z===2&&(b.arena_access||S.push({text:"Unlock Arena via Lab research (400 Dust)",priority:"high"}),x<10&&S.push({text:"Reach Arena Wave 10 for boss rewards",priority:"high"}),M<3&&S.push({text:"Unlock The Void dimension (15,000 Mana)",priority:"medium"}),b.library_access||S.push({text:"Unlock Library to craft Codex (800 Dust)",priority:"medium"}),U.length+R.length<30&&S.push({text:"Collect rarer items from higher dimensions",priority:"low"})),Z===3&&(w===0&&S.push({text:"Teleport when multiplier reaches 15x+ (1M+ lifetime Mana)",priority:"high"}),w>0&&E<5&&S.push({text:"Earn Mastery Points via Arena/Exploration",priority:"high"}),M<4&&S.push({text:"Unlock Astral Sea (100,000 Mana)",priority:"medium"}),A!=null&&A.active||S.push({text:"Equip a Codex for permanent bonuses",priority:"medium"})),Z===4&&(E<20&&S.push({text:"Earn Mastery Points for board upgrades",priority:"high"}),M<5&&S.push({text:"Unlock Chaos Rift (1,000,000 Mana)",priority:"high"}),x<30&&S.push({text:"Push to Wave 30+ for greater rewards",priority:"medium"}),b.dust_amplification||S.push({text:"Research Dust Amplification (+5% per level)",priority:"medium"})),Z===5&&(L<10&&S.push({text:"Ascend more to earn Arcane Crystals",priority:"high"}),Q<100&&S.push({text:"Gather Essence for Ascension Perks",priority:"medium"}),M<6&&S.push({text:"Unlock Omega Timeline (15,000,000 Mana)",priority:"medium"}),S.push({text:"Build Talent tree with synergistic paths",priority:"low"})),Z===6&&(Object.keys(H).length<5&&S.push({text:"Complete more Challenge modes",priority:"high"}),M<7&&S.push({text:"Unlock Wellspring (200,000,000 Mana)",priority:"medium"}),S.push({text:"Balance Challenges with normal runs",priority:"low"})),Z===7&&(S.push({text:"Optimize Talent tree synergies",priority:"high"}),S.push({text:"Push higher Challenge tiers and Madness",priority:"medium"}),S.push({text:"Maximize Mastery Board effects",priority:"medium"}),S.push({text:"Collect all rare/unique creatures",priority:"low"})),S},[Z,m,v,w,C,b,x,U.length,R.length,M,E,A,Q,L,H]);return r?l.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-slate-900 border border-amber-500 rounded-2xl max-w-2xl w-full max-h-[85vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-amber-500/30 bg-gradient-to-r from-amber-900/40 to-yellow-900/40 flex justify-between items-center",children:[l.jsxs("h3",{className:"font-bold flex items-center gap-2 text-lg text-amber-300",children:[l.jsx(ph,{size:24,className:"animate-pulse"}),"Strategy Assistant"]}),l.jsx("button",{onClick:o,className:"hover:bg-white/10 p-2 rounded-lg transition-colors text-white",children:l.jsx(ra,{size:24})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[l.jsxs("div",{className:"bg-gradient-to-r from-emerald-900/40 to-cyan-900/40 border border-emerald-500/30 rounded-xl p-5",children:[l.jsxs("h4",{className:"text-lg font-bold text-emerald-300 mb-3 flex items-center gap-2",children:[l.jsx(wh,{size:20}),"Your Current Progress"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"bg-black/20 rounded-lg p-2",children:[l.jsx("div",{className:"opacity-60 text-xs",children:"Total Mana"}),l.jsx("div",{className:"font-bold text-cyan-300",children:d(m)})]}),l.jsxs("div",{className:"bg-black/20 rounded-lg p-2",children:[l.jsx("div",{className:"opacity-60 text-xs",children:"Prestiges"}),l.jsx("div",{className:"font-bold text-purple-300",children:w})]}),l.jsxs("div",{className:"bg-black/20 rounded-lg p-2",children:[l.jsx("div",{className:"opacity-60 text-xs",children:"Ascension Level"}),l.jsx("div",{className:"font-bold text-amber-300",children:C})]}),l.jsxs("div",{className:"bg-black/20 rounded-lg p-2",children:[l.jsx("div",{className:"opacity-60 text-xs",children:"Max Arena Wave"}),l.jsx("div",{className:"font-bold text-orange-300",children:x})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/40 to-purple-900/40 border border-indigo-500/30 rounded-xl p-5 text-center",children:[l.jsxs("p",{className:"text-lg font-semibold mb-2 text-white",children:[Z===1&&" Early Game Phase",Z===2&&" Mid Game Phase",Z===3&&" First Prestige Phase",Z===4&&" Advanced Prestige Loop",Z===5&&" Talent System Unlocked",Z===6&&" Challenges & Madness",Z===7&&" End Game Mastery"]}),l.jsxs("p",{className:"text-sm opacity-80 text-slate-300",children:[Z===1&&"Focus on unlocking Portal and Arena. Explore dimensions to build Resonance multiplier.",Z===2&&"Unlock higher dimensions and craft Codex. Work toward first Prestige (1M+ lifetime Mana).",Z===3&&"Master the Prestige loop. Earn Mastery Points and optimize your build.",Z===4&&"Push deeper into dimensions and Arena. Prepare for Ascension.",Z===5&&"Build your Talent tree strategically. Focus on synergistic paths.",Z===6&&"Complete Challenges for powerful rewards. Balance risk vs reward.",Z===7&&"Optimize all systems. Push limits and collect everything!"]})]}),T.length>0&&l.jsxs("div",{className:"bg-slate-800/50 border border-yellow-500/30 rounded-xl p-5",children:[l.jsxs("h5",{className:"text-md font-bold text-yellow-300 mb-3 flex items-center gap-2",children:[l.jsx(dh,{size:18}),"Recommended Next Steps"]}),l.jsx("ul",{className:"space-y-2",children:T.map((S,G)=>l.jsxs("li",{className:"flex items-start gap-2 text-sm text-white",children:[l.jsx("span",{className:`flex-shrink-0 w-2 h-2 rounded-full mt-1.5 ${S.priority==="high"?"bg-red-400":S.priority==="medium"?"bg-yellow-400":"bg-green-400"}`}),l.jsx("span",{className:"opacity-90",children:S.text})]},G))}),l.jsxs("div",{className:"mt-3 text-xs opacity-60 flex items-center gap-4 flex-wrap",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400"}),"High Priority"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-400"}),"Medium"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400"}),"Low"]})]})]})]})]})}):null},co=()=>Td.map(r=>({...r,count:0,autoUnlocked:!1,autoActive:!1})),Ib=()=>[],ch=()=>({pages:0,scripts:0,unlocked:[],active:null});function e1(){const[r,o]=h.useState(0),[f,d]=h.useState(0),[m,v]=h.useState(0),[w,C]=h.useState(0),[b,x]=h.useState(co()),[U,R]=h.useState({}),[M,E]=h.useState([]),[A,Q]=h.useState(["earth"]),[L,H]=h.useState(0),[I,se]=h.useState(1),[Z,T]=h.useState(0),[S,G]=h.useState(0),[B,he]=h.useState(0),[Be,Pe]=h.useState([]),[De,Qe]=h.useState([]),[Ye,ce]=h.useState(0),[D,ee]=h.useState(!1),[me,Ne]=h.useState(25),[Ce,g]=h.useState(100),[Y,te]=h.useState([]),[ue,be]=h.useState({}),[_e,Oe]=h.useState([]),[Ot,He]=h.useState([]),[Ut,Wt]=h.useState(ch()),[Oa,Ua]=h.useState({}),[ba,Ha]=h.useState(null),[qa,tl]=h.useState(null);h.useCallback(oe=>Et(oe),[]),h.useCallback(oe=>ae(oe),[]),h.useCallback(oe=>pl(oe),[]),h.useCallback(oe=>ds(oe),[]);const[Fe,_a]=h.useState("tower"),[Aa,We]=h.useState(1),[Gt,Et]=h.useState("dark"),[ie,ae]=h.useState(!1),[st,Ql]=h.useState(!0),[Zt,ya]=h.useState(!1),[La,al]=h.useState(!1),[Ga,ca]=h.useState("Welcome to your tower, Mage!"),[Ht,It]=h.useState(0),[F,ke]=h.useState(["Welcome to your tower, Mage!"]),[Me,Ge]=h.useState(!1),[Ie,dt]=h.useState(!1),[ze,gt]=h.useState(!1),[mt,bt]=h.useState(!1),[$t,$a]=h.useState(!1),[va,ea]=h.useState(!1),[ai,cs]=h.useState(!1),[pn,ll]=h.useState(!1),[gn,os]=h.useState(!1),[Ds,re]=h.useState(!1),[Ya,_t]=h.useState(!1),[Kt,oa]=h.useState(!1),[ua,Rs]=h.useState(null),[bn,us]=h.useState([]),[zl,Zl]=h.useState([]),[sl,hl]=h.useState(Ib()),[xl,nl]=h.useState(!1),[wt,pl]=h.useState(!0),[Bs,Xa]=h.useState(!1),[Dl,Kl]=h.useState(!1),[yn,ds]=h.useState(!1),[vn,Jl]=h.useState(!1),[fs,Va]=h.useState(!1),[ka,jn]=h.useState([]),[Nn,ms]=h.useState(null),[li,hs]=h.useState([]),[wn,da]=h.useState(null),[Sn,Mn]=h.useState(!1),[An,Rl]=h.useState(!1),[Pl,kn]=h.useState(null),[Ca,Fl]=h.useState(0),[Bl,y]=h.useState(Array(25).fill(null)),[j,q]=h.useState(0),[X,J]=h.useState(!1),[W,ne]=h.useState(!1),[le,pe]=h.useState(0),[de,je]=h.useState(0),[Ae,Ct]=h.useState({}),[St,tt]=h.useState(!1),[Jt,qt]=h.useState(!1),[yt,ve]=h.useState(!1),[qe,Te]=h.useState(!1),[$e,at]=h.useState({mastery:!1,talents:!1,ascension:!1}),[Mt,ht]=h.useState(!1),[lt,Ol]=h.useState(!0),[gl,Os]=h.useState(!1),[Ul,xs]=h.useState(1),ta=h.useRef(null),[Qa,qr]=h.useState(0),[Li,jo]=h.useState(()=>typeof window<"u"?window.innerWidth:0),[Gi,bl]=h.useState(!1),[Lr,yl]=h.useState(0),[si,Wl]=h.useState(0),[ni,Hl]=h.useState(!1),[Gr,$r]=h.useState(null),[Yr,No]=h.useState(null),[Cn,Xr]=h.useState(!1),[Vr,Qr]=h.useState("all"),[$i,Zr]=h.useState("all"),[Us,Kr]=h.useState("dynamic"),[za,Jr]=h.useState(!1),[ii,Pr]=h.useState("left"),[Yi,Fr]=h.useState(!1),[Hs,Za]=h.useState(0),[Wr,ql]=h.useState(0),[qs,Xi]=h.useState({}),[Tn,En]=h.useState(0),it=h.useMemo(()=>({mana:r,dust:f,gold:m,totalMana:w,buildings:b,creatures:Be,items:De,research:U,purchasedUpgrades:M,unlockedDimensions:A,prestigeCount:L,prestigeBaseMultiplier:I,explorationsCount:Z,clicks:S,playTime:B,arenaLevel:Ye,inBattle:D,playerHP:me,enemyHP:Ce,equippedCreatureIds:Y,equippedItemsBySlot:ue,library:Ut,spellCharges:Oa,currentSpellId:ba,lastSpellDrop:qa,activeTab:Fe,buyAmount:Aa,themeMode:Gt,audioEnabled:ie,dynamicBackground:st,batterySaver:Zt,antiFlicker:La,hideNavLabels:Mt,headerFixed:lt,headerCompact:gl,uiScale:Ul,newsText:Ga,logs:F,hasNewInventoryEntry:Me,hasPortalAlert:Ie,hasNewAchievement:ze,hasLabAlert:mt,hasShopAlert:$t,hasLibraryAlert:va,hasArenaAlert:ai,hasMasteryAlert:pn,achievementPopup:ua,unlockedAchievements:bn,storyProgress:zl,inbox:sl,showInbox:xl,showTutorial:wt,showGuide:Bs,showTeleportModal:Dl,showSettingsModal:yn,showLoadoutModal:vn,loadoutFlash:fs,readingTome:Nn,offlineEarnings:wn,autoExploreEnabled:Gi,currentDimensionIndex:Lr,explorationProgress:si,isExploring:ni,explorationResult:Gr,surgeActive:Cn,inventoryRarityFilter:Vr,inventoryRealmFilter:$i,numberFormat:Us,masteryPoints:Ca,masteryBoard:Bl,timesRespecced:j,showMasteryModal:X,showMasteryGuideModal:W,essence:le,ascensionLevel:de,ascensionPerks:Ae,showAscensionModal:St,showAscensionGuideModal:Jt,hasAscensionAlert:yt,showTalentGuideModal:qe,gildedTowerEnabled:za,golemPosition:ii,golemPetHidden:Yi,arcaneGems:Hs,totalArcaneGemsEarned:Wr,purchasedTalents:qs,temporalLoopStacks:Tn,tutorialsSeen:$e}),[r,f,m,w,b,Be,De,U,M,A,L,I,Z,S,B,Ye,D,me,Ce,Y,ue,Ut,Oa,ba,qa,Fe,Aa,Gt,ie,st,Zt,La,Mt,lt,gl,Ul,Ga,F,Me,Ie,ze,mt,$t,va,ai,pn,ua,bn,zl,sl,xl,wt,Bs,Dl,yn,vn,fs,Nn,wn,Gi,Lr,si,ni,Gr,Cn,Vr,$i,Us,Ca,Bl,X,W,le,de,Ae,St,Jt,yt,qe,za,ii,Yi,Hs,Wr,qs,Tn,$e]),fa=h.useMemo(()=>({setMana:o,setDust:d,setGold:v,setTotalMana:C,setBuildings:x,setItems:Qe,setCreatures:Pe,setResearch:R,setPurchasedUpgrades:E,setUnlockedDimensions:Q,setPrestigeCount:H,setPrestigeBaseMultiplier:se,setExplorationsCount:T,setClicks:G,setPlayTime:he,setArenaLevel:ce,setInBattle:ee,setPlayerHP:Ne,setEnemyHP:g,setEquippedCreatureIds:te,setEquippedItemsBySlot:be,setLibrary:Wt,setSpellCharges:Ua,setCurrentSpellId:Ha,setLastSpellDrop:tl,setActiveTab:_a,setBuyAmount:We,setThemeMode:Et,setAudioEnabled:ae,setDynamicBackground:Ql,setBatterySaver:ya,setAntiFlicker:al,setHideNavLabels:ht,setHeaderFixed:Ol,setHeaderCompact:Os,setUiScale:xs,setNewsText:ca,setNewsCycle:It,setLogs:ke,setHasNewInventoryEntry:Ge,setHasPortalAlert:dt,setHasNewAchievement:gt,setHasLabAlert:bt,setHasShopAlert:$a,setHasLibraryAlert:ea,setHasArenaAlert:cs,setHasMasteryAlert:ll,setAchievementPopup:Rs,setUnlockedAchievements:us,setStoryProgress:Zl,setInbox:hl,setShowInbox:nl,setShowTutorial:pl,setShowGuide:Xa,setShowTeleportModal:Kl,setShowSettingsModal:ds,setShowLoadoutModal:Jl,setLoadoutFlash:Va,setReadingTome:ms,setOfflineEarnings:da,setAutoExploreEnabled:bl,setCurrentDimensionIndex:yl,setExplorationProgress:Wl,setIsExploring:Hl,setExplorationResult:$r,setDiscoveryToast:No,setSurgeActive:Xr,setInventoryRarityFilter:Qr,setInventoryRealmFilter:Zr,setNumberFormat:Kr,setWhispers:hs,setMasteryPoints:Fl,setMasteryBoard:y,setTimesRespecced:q,setShowMasteryModal:J,setShowMasteryGuideModal:ne,setEssence:pe,setAscensionLevel:je,setAscensionPerks:Ct,setShowAscensionModal:tt,setShowAscensionGuideModal:qt,setHasAscensionAlert:ve,setShowTalentGuideModal:Te,setGildedTowerEnabled:Jr,setGolemPosition:Pr,setGolemPetHidden:Fr,setArcaneGems:Za,setTotalArcaneGemsEarned:ql,setPurchasedTalents:Xi,setTemporalLoopStacks:En,setTutorialsSeen:at,setBossAffixes:Oe,setArenaEvents:He}),[o,d,v,C,x,Qe,Pe,R,E,Q,H,se,T,G,he,ce,ee,Ne,g,te,be,Wt,Ua,Ha,tl,_a,We,Et,ae,Ql,ya,al,ht,Ol,Os,xs,ca,It,ke,Ge,dt,gt,bt,$a,ea,cs,ll,Rs,us,Zl,hl,nl,pl,Xa,Kl,ds,Jl,Va,ms,da,bl,yl,Wl,Hl,$r,Xr,Qr,Zr,Kr,hs,Fl,y,q,J,ne,pe,je,Ct,tt,qt,ve,Te,Jr,Pr,Fr,Za,ql,Xi,En,at,Oe,He]),Ta=h.useCallback(oe=>{ke(we=>[oe,...we].slice(0,20))},[ke]),{saveGame:Ir,loadGame:Vi,getSaveString:ec,loadFromString:_n}=ab(it,fa,Ta),nt=fb(it),Tt=mb(it,fa,nt,Ir,Ta),Ls=h.useMemo(()=>L>=1||de>0,[L,de]),zn=h.useMemo(()=>L>=3||de>0,[L,de]),Dn=h.useMemo(()=>L>=10||de>0,[L,de]),{totalManaPerSecond:Qi,dustPerSecond:Zi,playerMaxHP:tc,playerAtk:ac,currentDim:Rn,unreadCount:Ki,hasAffordableResearch:Ji,nextEnemy:lc,calculateTeleportBonus:Bn,hasResearch:Il,clickPower:ma,clickDust:Gs,exploreCost:wo,maxOfflineHours:Pi,prestigeMultiplier:So}=nt;h.useEffect(()=>{Ji&&!gn?(bt(!0),os(!0)):Ji||os(!1)},[Ji,gn]),h.useEffect(()=>{const oe=Il("market_connections")&&Ed.some(we=>we.type==="dlc"&&!M.includes(we.id));oe&&!Ds?($a(!0),re(!0)):oe||re(!1)},[Il,M,Ds]);const Fi=h.useRef(!1);h.useEffect(()=>{zn&&!Fi.current&&!$e.talents&&(Fi.current=!0,Te(!0),at(oe=>({...oe,talents:!0})))},[zn,$e.talents,Te,at]);const ri=h.useRef(!1);h.useEffect(()=>{Dn&&!ri.current&&!$e.ascension&&(ri.current=!0,qt(!0),at(oe=>({...oe,ascension:!0})))},[Dn,$e.ascension,qt,at]),h.useEffect(()=>{const oe=Il("library_access")&&Ut.pages>5&&Ut.scripts>5&&!Ut.active;oe&&!Ya?(ea(!0),_t(!0)):oe||_t(!1)},[Il,Ut,Ya]),h.useEffect(()=>{const oe=Object.keys(ue||{}).length,we=Il("arena_access")&&Y.length+oe===0;we&&!Kt?(cs(!0),oa(!0)):we||oa(!1)},[Il,Y,ue,Kt]);const Ll=h.useCallback(oe=>{_a(oe),oe==="inventory"&&Ge(!1),oe==="portal"&&dt(!1),oe==="achievements"&&gt(!1),oe==="research"&&bt(!1),oe==="shop"&&$a(!1),oe==="library"&&ea(!1),oe==="arena"&&cs(!1),oe==="mastery"&&ll(!1),oe==="ascension"&&ve(!1),ge.playClick()},[_a,Ge,dt,gt,bt,$a,ea,cs,ll,ve]),ps=h.useCallback(oe=>{const we=`${Date.now()}-${Math.random().toString(16).slice(2)}`,zt=Math.random()*Math.PI*2,Ra=10+Math.random()*70,Yt=Math.cos(zt)*Ra,Ja=Math.sin(zt)*Ra,vl=(Math.random()-.5)*30,ts=-20-Math.random()*40;jn(jl=>[...jl,{id:we,value:oe,posX:Yt,posY:Ja,driftX:vl,driftY:ts}]),setTimeout(()=>{jn(jl=>jl.filter(Gl=>Gl.id!==we))},900)},[]),Wi=h.useCallback(()=>{Tt.applyPassiveDelta(),ps(ma),o(oe=>oe+ma),C(oe=>oe+ma),d(oe=>oe+Gs),G(oe=>oe+1),ge.playClick()},[Tt,ps,o,C,d,G,ma,Gs]),On=h.useCallback(()=>{var Nl,Ln,ft,oi;const oe=Bn();if(oe<=0)return;const zt=nt.getResearchLevel("prestige_mastery")*.05,Ra=((Nl=nt.perkEffects)==null?void 0:Nl.keepManaPercent)||0,Yt=zt+Ra,Ja=Yt>0?Math.floor(r*Yt):0,vl=Math.min(5,Math.floor(w/1e7)),ts=Math.floor(((Ln=nt.talentBonuses)==null?void 0:Ln.masteryBonus)||0),jl=(ft=nt.perkEffects)!=null&&ft.bonusMasteryPoint?1:0,Gl=vl+ts+jl;o(Ja),d(0),C(0),x(co()),R({}),Pe([]),Qe([]),te([]),be({}),Hl(!1),bl(!1),Wl(0),H(Dt=>Dt+1),se(Dt=>Dt+oe);const il=((oi=nt.perkEffects)==null?void 0:oi.keepDimensions)||0;if(il>0){const Dt=A.slice(0,Math.min(il+1,A.length));Q(Dt),yl(0)}else Q(["earth"]),yl(0);Kl(!1),Fl(Dt=>Dt+Gl),L===0&&!$e.mastery&&(ne(!0),ll(!0),at(Dt=>({...Dt,mastery:!0}))),L===10&&!$e.ascension&&(qt(!0),ve(!0)),Za(Dt=>Dt+1),ql(Dt=>Dt+1);const qn=qs.channeling_major2,gs=L+1;qn&&gs%10===0&&(En(Dt=>Dt+1),Ta(` TEMPORAL LOOP ACTIVATED! Permanent base multiplier increased by +5%. Total loops: ${Tn+1}`)),Ta(`TELEPORT SUCCESSFUL. Timeline reset. Base Multiplier increased by +${oe}x. Earned ${Gl} Mastery Points.`),ge.playUnlock()},[Bn,r,w,nt,o,d,C,x,R,Pe,Qe,te,be,Hl,bl,Wl,H,se,Q,yl,Kl,Fl,ne,ll,qt,ve,Za,ql,En,at,$e.mastery,$e.ascension,Ta,L,Tn,qs,A]),Ii=h.useCallback(()=>{var qn,gs,Nl,Ln;const oe=Math.max(1,Bn()),zt=nt.getResearchLevel("prestige_mastery")*.05,Ra=((qn=nt.perkEffects)==null?void 0:qn.keepManaPercent)||0,Yt=zt+Ra,Ja=Yt>0?Math.floor(r*Yt):0,vl=1,ts=Math.floor(((gs=nt.talentBonuses)==null?void 0:gs.masteryBonus)||0),jl=(Nl=nt.perkEffects)!=null&&Nl.bonusMasteryPoint?1:0,Gl=vl+ts+jl;o(Ja),d(0),C(0),x(co()),R({}),Pe([]),Qe([]),te([]),be({}),Hl(!1),bl(!1),Wl(0),H(ft=>ft+1),se(ft=>ft+oe);const il=((Ln=nt.perkEffects)==null?void 0:Ln.keepDimensions)||0;if(il>0){const ft=A.slice(0,Math.min(il+1,A.length));Q(ft),yl(0)}else Q(["earth"]),yl(0);Kl(!1),Fl(ft=>ft+Gl),L===0&&!$e.mastery&&(ne(!0),ll(!0),at(ft=>({...ft,mastery:!0}))),Za(ft=>ft+1),ql(ft=>ft+1),Ta(`[DEV] PRESTIGE TRIGGERED. Timeline reset. Base Multiplier increased by +${oe}x. Earned ${Gl} Mastery Points.`),ge.playUnlock()},[Bn,r,w,nt,o,d,C,x,R,Pe,Qe,te,be,Hl,bl,Wl,H,se,Q,yl,Kl,Fl,ne,ll,Za,ql,at,$e.mastery,Ta,L,A]),Un=h.useCallback(()=>{var vl;const oe=Math.floor(Math.pow(w/1e11,.4)),we=Math.floor(Ye/10),zt=Math.floor(Ca/25),Ra=A.length,Yt=oe+we+zt+Ra,Ja=((vl=nt.talentBonuses)==null?void 0:vl.essenceMult)||1;return Math.max(1,Math.floor(Yt*Ja))},[w,Ye,Ca,A,nt.talentBonuses]),es=h.useCallback(()=>{const oe=Un();o(0),d(0),C(0),x(co()),Qe([]),Pe([]),R({}),te([]),be({}),Q(["earth"]),yl(0),Hl(!1),bl(!1),Wl(0),H(0),se(1),T(0),ce(0),ee(!1),Ne(25),g(100),Wt(ch()),pe(we=>we+oe),je(we=>we+1),tt(!1),Za(we=>we+1),ql(we=>we+1),Ta(` ASCENSION COMPLETE! You gained ${oe} Essence. Ascension Level: ${de+1}`),ge.playUnlock()},[Un,o,d,C,x,Qe,Pe,R,te,be,Q,yl,Hl,bl,Wl,H,se,T,ce,ee,Ne,g,Wt,pe,je,tt,Za,ql,Ta,de]),$s=h.useCallback(()=>{o(999999999999999),d(999999999999999),Wt(we=>({...we,pages:999999999999999,scripts:999999999999999})),Ta("Unlimited Resources Activated!"),ge.playSuccess()},[o,d,Wt,Ta]);h.useLayoutEffect(()=>{const oe=()=>{if(ta.current){const{height:we}=ta.current.getBoundingClientRect();qr(we)}typeof window<"u"&&jo(window.innerWidth)};return oe(),window.addEventListener("resize",oe),()=>window.removeEventListener("resize",oe)},[]),h.useEffect(()=>{const oe=document.documentElement;if(oe){let we;switch(Ul){case .35:we=.7;break;case .5:we=.85;break;case .75:we=.95;break;case 1:we=1;break;case 1.5:we=1.15;break;case 2:we=1.3;break;default:we=1}oe.style.fontSize=`calc(${we} * clamp(13px, 0.9vw + 9px, 17px))`}return()=>{oe&&(oe.style.fontSize="")}},[Ul]);const ci=Li>=1024;h.useEffect(()=>{Vi()},[Vi]),h.useEffect(()=>{ge.enabled=ie,ie?ge.startMusic():ge.stopMusic()},[ie]);const ha=Gt==="light",Da=Zt,Hn=Rn||ot[0],sc=Da?"bg-black text-slate-400":st?ha?Hn.lightColor:Hn.color:ha?"bg-gradient-to-br from-slate-50 to-slate-100":"bg-slate-900 from-slate-900 to-slate-800",nc=Da?"text-slate-400":ha?"text-slate-900":"text-slate-100",Ka=Da?"bg-black border border-slate-800":st?ha?`bg-white/90 backdrop-blur-md border ${Hn.cardBorder} shadow-xl`:`bg-slate-900/60 backdrop-blur-md border ${Hn.cardBorder} shadow-lg`:ha?"bg-white/95 border-slate-300 shadow-md":"bg-slate-900/50 border-slate-700/50",ic=Da?"bg-black border-slate-800":ha?"bg-white/95 border-slate-300":"bg-slate-900 border-slate-800",Ys=Da?"":"animate-pulse",rc=Da?"":"animate-spin-slow";return l.jsxs("div",{className:`min-h-screen w-full max-w-full overflow-x-hidden font-sans transition-colors duration-1000 bg-gradient-to-br ${sc} ${nc} pb-24 lg:pb-6 flex flex-col`,children:[l.jsx(Ub,{readingTome:Nn,setReadingTome:ms,isLight:ha,equipTome:Tt.equipTome}),l.jsx(Vb,{achievementPopup:ua,setAchievementPopup:Rs}),li.map(oe=>l.jsx("div",{className:"whisper-popup text-[11px] font-mono px-2 py-1 rounded bg-rose-900/70 border border-rose-500/40 text-rose-200 shadow-lg",style:{left:`${oe.x}%`,top:`${oe.y}%`},children:oe.text},oe.id)),l.jsx(qb,{...it,...fa,addLog:Ta,saveGame:Ir,handleUnlimitedResources:$s,handleUnlockAllLabsAndTomes:Tt.unlockAllLabsAndTomes,handlePrestigeDev:Ii,handleAscend:es,maxOfflineHours:Pi,production:nt.production,cardBg:Ka,isLight:ha,formatNumber:Je,getSaveString:ec,loadFromString:_n}),l.jsx(Lb,{showGuide:it.showGuide,setShowGuide:fa.setShowGuide,isLight:ha,hasResearch:Il,totalMana:w,lifetimeMana:it.totalMana,prestigeCount:it.prestigeCount,ascensionLevel:it.ascensionLevel,arcaneGems:it.arcaneGems,creatures:it.creatures,items:it.items,library:it.library,masteryPoints:it.masteryPoints,challengeCompletions:it.challengeCompletions,formatNumber:Je}),l.jsx(Gb,{...it,...fa,addLog:Ta,formatNumber:Je,isLight:ha,openMessage:Tt.openMessage,claimMessageReward:Tt.claimMessageReward,deleteMessage:Tt.deleteMessage}),l.jsx(Yb,{offlineEarnings:wn,setOfflineEarnings:da,formatNumber:Je}),l.jsx($b,{showTeleportModal:it.showTeleportModal,setShowTeleportModal:fa.setShowTeleportModal,handleTeleport:On,calculateTeleportBonus:Bn,prestigeBaseMultiplier:I,totalMana:w,formatNumber:Je,animSpin:rc}),l.jsx(Pb,{isOpen:An,onClose:()=>Rl(!1)}),l.jsx(Wb,{isOpen:Sn,onClose:()=>Mn(!1),gameState:{totalMana:r,lifetimeMana:w,prestigeCount:L,ascensionLevel:de,hasResearch:Il,maxWave:Ye,creatures:Be,items:De,dimensionsUnlocked:A.length,masteryPoints:Ca,library:Ut,essence:le,arcaneGems:Hs,challengeCompletions:{},gold:m},formatNumber:Je}),l.jsx(Fb,{item:Pl,onConfirm:()=>{Pl&&((Pl.slot?"artifact":"creature")==="creature"?Pe(we=>we.filter(zt=>zt.id!==Pl.id)):Qe(we=>we.filter(zt=>zt.id!==Pl.id))),kn(null)},onCancel:()=>kn(null)}),l.jsx(Xb,{showLoadoutModal:vn,setShowLoadoutModal:Jl,equippedCreatureIds:Y,equippedItemsBySlot:ue,toggleEquipCreature:Tt.toggleEquipCreature,toggleEquipItemToSlot:Tt.toggleEquipItemToSlot,creatures:Be,items:De,playerMaxHP:tc,playerAtk:ac,addLog:Ta,isLight:ha,RarityBadge:In,research:U,perkEffects:nt.perkEffects}),l.jsx(Qb,{showMasteryGuideModal:it.showMasteryGuideModal,setShowMasteryGuideModal:fa.setShowMasteryGuideModal,isLight:ha,masteryPointsEarned:Math.min(5,Math.floor(w/1e7))}),l.jsx(Zb,{showAscensionModal:St,setShowAscensionModal:tt,essence:le,essenceGain:Un(),ascensionLevel:de,handleAscend:es,isLight:ha}),l.jsx(Kb,{showAscensionGuideModal:Jt,setShowAscensionGuideModal:oe=>{qt(oe),!$e.ascension&&!oe&&at(we=>({...we,ascension:!0}))},isLight:ha,essenceEarned:de>0?Un():0}),qe&&l.jsx(Jb,{onClose:()=>Te(!1)}),l.jsx("div",{ref:ta,className:`${ha&&!Da?"bg-white/95 border-slate-300":"bg-slate-900/80 border-slate-700"} backdrop-blur-md border-b ${lt?"fixed":"relative"} top-0 left-0 right-0 z-50 pl-0 lg:pl-24 xl:pl-32`,children:l.jsxs("div",{className:"mx-auto p-3 w-full",style:{maxWidth:"min(1800px, calc(100vw - 2rem))"},children:[l.jsxs("div",{className:"flex justify-between items-center mb-3 border-b border-slate-500/20 pb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h1",{className:`text-lg md:text-xl xl:text-2xl 2xl:text-3xl font-black tracking-wider uppercase drop-shadow-sm text-transparent bg-clip-text ${za?"bg-gradient-to-r from-amber-300 via-yellow-300 to-amber-400":de>0?"bg-gradient-to-r from-cyan-300 via-indigo-400 to-fuchsia-400":"bg-gradient-to-r from-indigo-400 to-fuchsia-400"} ${za?"animate-pulse":de>0?"drop-shadow-[0_0_8px_rgba(139,92,246,0.5)]":""}`,children:"Arcane Tower"}),de>0&&l.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full bg-gradient-to-r from-cyan-500/20 to-purple-500/20 border border-cyan-400/30",children:[l.jsx(Ma,{size:12,className:"text-cyan-400"}),l.jsx("span",{className:"text-xs font-bold text-cyan-300",children:de})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-bold",children:[l.jsx(yd,{size:14,className:"text-emerald-500"}),l.jsx("span",{children:Rn&&Rn.name||ot[0].name})]}),l.jsx("button",{onClick:()=>Rl(!0),className:"relative p-1.5 hover:bg-slate-500/20 rounded text-slate-400 hover:text-cyan-400 transition-colors",title:"About",children:l.jsx(yo,{size:20})}),l.jsxs("button",{onClick:()=>Mn(!0),className:"relative p-1.5 hover:bg-slate-500/20 rounded text-slate-400 hover:text-amber-400 transition-colors group",title:"Strategy Assistant",children:[l.jsx(ph,{size:20,className:"text-amber-400 group-hover:animate-pulse"}),l.jsx("span",{className:"absolute -bottom-1 -right-1 w-2 h-2 bg-green-400 rounded-full animate-ping"})]}),l.jsx("button",{onClick:()=>Xa(!0),className:"relative p-1.5 hover:bg-slate-500/20 rounded text-slate-400 hover:text-indigo-400 transition-colors",title:"Game Guide",children:l.jsx(mh,{size:20})}),l.jsx("button",{onClick:()=>ds(!0),className:"relative p-1.5 hover:bg-slate-500/20 rounded text-slate-400 hover:text-indigo-400 transition-colors",title:"System Settings",children:l.jsx(vh,{size:20})}),l.jsxs("button",{onClick:()=>nl(!0),className:"relative p-1.5 hover:bg-slate-500/20 rounded",children:[l.jsx(bh,{size:20,className:Ki>0?"text-amber-400":"opacity-60"}),Ki>0&&l.jsx("span",{className:`absolute top-0 right-0 bg-red-600 text-white text-[9px] w-3.5 h-3.5 rounded-full flex items-center justify-center font-bold ${Ys}`,children:Ki})]})]})]}),l.jsxs("div",{className:"flex justify-between items-center mb-2 py-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`p-2 rounded shadow-lg ${Cn?"bg-amber-500":"bg-indigo-600"}`,children:l.jsx(_l,{size:20,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xl xl:text-2xl 2xl:text-3xl font-bold font-mono text-indigo-400",children:r<1e3?r.toFixed(1):Je(r,Us)}),l.jsxs("div",{className:"text-xs xl:text-sm opacity-60 flex items-center gap-1",children:["Mana ",l.jsxs("span",{className:"opacity-50",children:["(+",xo(Qi,Us),"/s)"]})]})]})]}),l.jsx("div",{className:"flex gap-4 text-right",children:l.jsxs("div",{children:[l.jsx("div",{className:"text-xl xl:text-2xl 2xl:text-3xl font-bold font-mono text-fuchsia-500",children:f<1e3?f.toFixed(1):Je(f,Us)}),l.jsxs("div",{className:"text-xs xl:text-sm opacity-60 flex justify-end gap-1",children:["Dust ",l.jsxs("span",{className:"opacity-50",children:["(+",xo(Zi,Us),"/s)"]})]})]})})]}),!gl&&l.jsxs("div",{className:"relative w-full h-6 mt-2 flex gap-1",children:[ni&&l.jsxs("div",{className:"relative flex-1 h-full bg-slate-700/50 rounded overflow-hidden",children:[l.jsx("div",{className:`h-full bg-indigo-500 transition-all duration-300 ease-linear ${Ys}`,style:{width:`${si}%`}}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[9px] font-bold uppercase text-white drop-shadow-md",children:l.jsxs("div",{className:"flex items-center gap-1",children:[Gi&&l.jsx(ml,{size:12,className:"animate-spin",style:{animationDuration:"2s"}}),l.jsx("span",{children:(()=>{const oe=Rn||ot[0],we=Ut&&Ut.active==="codex_void"?.9:1,Ra=oe.duration*we*(1-si/100);return`Exploring ${oe.name}: ${Math.max(0,Math.ceil(Ra))}s`})()})]})})]}),D&&l.jsxs("div",{className:"relative flex-1 h-full bg-slate-700/50 rounded overflow-hidden",children:[l.jsx("div",{className:`h-full bg-orange-600 transition-all duration-300 ease-out ${Ys}`,style:{width:`${Ce/lc.hp*100}%`}}),l.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[9px] font-bold uppercase text-white drop-shadow-md",children:["Wave ",Ye+1," vs ",lc.name]})]}),!ni&&!D&&l.jsx("div",{className:"relative flex-1 h-full rounded overflow-hidden news-ticker-container",children:l.jsxs("div",{className:"absolute inset-0 flex items-center px-4 gap-2",children:[l.jsx(ug,{size:16,className:"text-indigo-400 flex-shrink-0"}),l.jsx("span",{className:"text-sm font-medium text-slate-200 italic truncate animate-in fade-in duration-500",children:Ga})]})},`ticker-${Ht}`)]})]})}),l.jsxs("div",{className:"flex-grow w-full mx-auto p-2 pb-6 pl-0 lg:pl-24 xl:pl-32 flex flex-col",style:{maxWidth:"min(1800px, calc(100vw - 2rem))",marginTop:lt?`${Qa}px`:"0",paddingTop:lt?`${(()=>{const oe=Li<768?.6:Li<1024?.8:1;let we;switch(Ul){case .35:we=.05;break;case .5:we=.25;break;case .75:we=.5;break;case 1:we=1;break;case 1.5:we=2;break;case 2:we=3;break;default:we=1}return(we*oe).toFixed(2)})()}rem`:"0"},children:[Fe==="tower"&&l.jsx(gb,{...it,...fa,...nt,handleClick:Wi,tapPopups:ka,buyBuilding:Tt.buyBuilding,toggleAutoBuild:Tt.toggleAutoBuild,formatNumber:Je,cardBg:Ka,animPulse:Ys}),Fe==="research"&&l.jsx(bb,{...it,...fa,...nt,loopHandlers:Tt,buyResearch:Tt.buyResearch,formatNumber:Je,cardBg:Ka}),Fe==="portal"&&l.jsx(yb,{...it,...nt,setters:fa,unlockDimension:Tt.unlockDimension,switchDimension:Tt.switchDimension,startExploration:Tt.startExploration,formatNumber:Je,cardBg:Ka,animPulse:Ys}),Fe==="arena"&&l.jsx(jb,{...it,...nt,setters:fa,loopHandlers:Tt,formatNumber:Je,cardBg:Ka,animPulse:Ys,bossAffixes:_e}),Fe==="achievements"&&l.jsx(Nb,{...it,...fa,cardBg:Ka,ACHIEVEMENTS_DATA:_d}),Fe==="mastery"&&Ls&&l.jsx(Eb,{masteryPoints:Ca,masteryBoard:Bl,cardBg:Ka,setters:fa,loopHandlers:Tt,masteryBonuses:nt.masteryBonuses,formatNumber:Je,showTutorial:wt,setShowTutorial:pl}),Fe==="talents"&&zn&&l.jsx(Rb,{arcaneGems:Hs,purchasedTalents:qs,talentBonuses:nt.talentBonuses,loopHandlers:Tt,cardBg:Ka,formatNumber:Je,showTutorial:wt,setShowTutorial:pl}),Fe==="ascension"&&Dn&&l.jsx(Ob,{essence:le,ascensionLevel:de,ascensionPerks:Ae,prestigeCount:L,totalMana:w,arenaLevel:Ye,unlockedDimensions:A,masteryPoints:Ca,setShowAscensionModal:tt,loopHandlers:Tt,showTutorial:wt,setShowTutorial:pl,cardBg:Ka,formatNumber:Je}),Fe==="shop"&&l.jsx(Sb,{...it,...fa,...nt,loopHandlers:Tt,handleShopPurchase:Tt.handleShopPurchase,formatNumber:Je,maxOfflineHours:Pi,cardBg:Ka}),Fe==="library"&&l.jsx(Ab,{...it,...fa,...nt,loopHandlers:Tt,cardBg:Ka}),Fe==="inventory"&&l.jsx(kb,{...it,...fa,stats:nt,RarityBadge:In,formatNumber:Je,cardBg:Ka,loopHandlers:Tt})]}),l.jsx("div",{className:`fixed left-0 lg:top-0 bottom-0 lg:bottom-auto lg:h-screen h-20 w-full lg:w-20 xl:w-28 ${ic} lg:border-r border-t lg:border-t-0 p-0 z-[60] overflow-x-auto lg:overflow-y-auto lg:overflow-x-hidden no-scrollbar`,style:{top:ci?"0":"auto",height:ci?"100vh":"auto"},children:l.jsxs("div",{className:"flex flex-row lg:flex-col h-full justify-start lg:justify-start px-0 gap-0 py-0",children:[l.jsx(hn,{active:Fe==="tower",onClick:()=>Ll("tower"),icon:kd,label:"Tower",hideLabels:Mt,gilded:za}),l.jsx(hn,{active:Fe==="research",onClick:()=>Ll("research"),icon:ei,label:"Lab",alert:mt,hideLabels:Mt,gilded:za}),l.jsx(hn,{active:Fe==="portal",onClick:()=>Ll("portal"),icon:Xl,label:"Portal",alert:Ie,hideLabels:Mt,gilded:za}),l.jsx(hn,{active:Fe==="inventory",onClick:()=>Ll("inventory"),icon:po,label:"Inventory",alert:Me,hideLabels:Mt,gilded:za}),l.jsx(hn,{active:Fe==="arena",onClick:()=>Ll("arena"),icon:rs,label:"Arena",alert:ai,hideLabels:Mt,gilded:za}),l.jsx(hn,{active:Fe==="library",onClick:()=>Ll("library"),icon:vo,label:"Library",alert:va,hideLabels:Mt,gilded:za}),l.jsx(hn,{active:Fe==="shop",onClick:()=>Ll("shop"),icon:jh,label:"Shop",alert:$t,hideLabels:Mt,gilded:za}),Ls&&l.jsx(hb,{activeTab:Fe,onTabChange:Ll,isMasteryUnlocked:Ls,isTalentsUnlocked:zn,isAscensionUnlocked:Dn,hasMasteryAlert:pn,hasAscensionAlert:yt,hideLabels:Mt,gilded:za,navBg:ic}),l.jsx(hn,{active:Fe==="achievements",onClick:()=>Ll("achievements"),icon:ti,label:"Awards",alert:ze,hideLabels:Mt,gilded:za})]})}),(M||[]).includes("golem_helper")&&ii!=="off"&&!Yi&&l.jsx(xb,{position:ii}),Yr&&l.jsx("div",{className:"fixed bottom-20 left-1/2 -translate-x-1/2 z-50 animate-in slide-in-from-bottom-4 fade-in",children:l.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-xl shadow-2xl border border-indigo-400/50 flex items-center gap-3",children:[l.jsx(Xl,{size:20,className:"animate-pulse"}),l.jsx("div",{className:"font-bold text-sm",children:Yr})]})})]})}class t1 extends Md.Component{constructor(o){super(o),this.state={hasError:!1,error:null}}static getDerivedStateFromError(o){return{hasError:!0,error:o}}render(){var o;return this.state.hasError?l.jsxs("div",{style:{padding:"20px",color:"white",background:"red"},children:[l.jsx("h1",{children:"Game Crashed"}),l.jsx("pre",{children:(o=this.state.error)==null?void 0:o.toString()})]}):this.props.children}}ep.createRoot(document.getElementById("root")).render(l.jsx(Md.StrictMode,{children:l.jsx(t1,{children:l.jsx(e1,{})})}));
